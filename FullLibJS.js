"use strict";
(function()
{

// Inserted file IntroScreen.js encoding='utf-8'
"use strict";

function IntroScreen(options)
{
    var me = this;

    options = options || { };

    // TODO: Fill normals, verticies, and colors, if
    //not provided in options.

    let canvas = document.createElement("canvas");
    let textureCanvas = document.createElement("canvas");

    if (!options.parentElement)
    {
        me.subWindow = SubWindowHelper.create({ title: "An Intro Screen", minWidth: 200, minHeight: 200 });
        me.subWindow.appendChild(canvas);

        me.subWindow.setOnCloseListener(() =>
        {
            me.stop();
        });
        
        me.subWindow.enableFlex();
    }
    else
    {
        options.parentElement.appendChild(canvas);
    }

    canvas.style.width = "calc(100% - 2px)";
    canvas.style.height = "auto";
    textureCanvas.width = 400;
    textureCanvas.height = 400;

    let ctx = canvas.getContext("2d");
    let textureCtx = textureCanvas.getContext("2d");

    this.renderer = new Renderer();

    this.renderer.setFogColor(new Vector3(1.0, 1.0, 1.0));
    this.renderer.setZMax(2000);

    let backgroundObject = this.renderer.registerObject();
    backgroundObject.bufferData("a_normal", options.normals);
    backgroundObject.bufferData("a_position", options.verticies);
    backgroundObject.bufferData("a_color", options.vertexColors);
    backgroundObject.bufferData("a_texCoord", options.texCoords);

    let startButton = this.renderer.registerObject();
    startButton.bufferData("a_normal", ModelHelper.Objects.Cube.getNormals());
    startButton.bufferData("a_position", ModelHelper.Objects.Cube.getVerticies());
    startButton.bufferData("a_texCoord", ModelHelper.Objects.Cube.getTexCoords());
    startButton.bufferData("a_color", JSHelper.getArrayOfRandomColors(
        ModelHelper.Objects.Cube.getVerticies().length,
        false, 3, 0.0, 0.1, 0.0, 0.2, 0.2, 0.3));

    let startButtonZ = 0;

    JSHelper.Events.registerPointerEvent("move", canvas, function(e)
    {
        var bbox = canvas.getBoundingClientRect();

        me.renderer.setMousePosition(new Point(e.clientX - bbox.left, (canvas.clientHeight - (e.clientY - bbox.top))));
    });

    canvas.addEventListener("click", function(e)
    {
        var mouseAttributes = me.renderer.getMouseAttributes();

        if (mouseAttributes.selectedObject === startButton)
        {
            startButtonZ -= 100;
        }
    });

    let rotateY = 0, rotateX = 0, crunch = 1, buttonWobble = 0, fogDecay = 10000;

    // Draw textures onto the texture canvas. Currently a test texture. This will change.
    var renderTextures = () =>
    {
        textureCtx.clearRect(0, 0, textureCanvas.width, textureCanvas.height);

        textureCtx.fillStyle = "orange";
        textureCtx.fillRect(0, 0, textureCtx.canvas.width, textureCtx.canvas.height);


        textureCtx.fillStyle = "white";

        let y, count;
        const dx = 20,
              dy = 20;

        count = 0;

        for (let x = 0; x < textureCanvas.width; x += dx)
        {
            for (y = (count % 2) * dy; y < textureCanvas.height; y += dy * 2)
            {
                textureCtx.fillRect(x, y, dx, dy);
            }

            count++;
        }

        textureCtx.fillStyle = "red";

        textureCtx.font = "40pt serif";
        textureCtx.textBaseline = "top";
        textureCtx.fillText("Click to Start...", 0, 30);

    };

    renderTextures();

    this.render = () =>
    {
        // Resize the WebGL context, if needed.
        me.renderer.updateViewIfNeeded(canvas.clientWidth, canvas.clientHeight, false);

        if (canvas.width !== canvas.clientWidth || canvas.height !== canvas.clientHeight)
        {
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;
        }

        // Clear the context.
        me.renderer.clear();
        
        me.renderer.updateCamera();

        me.renderer.setFogDecay(fogDecay);

        startButton.bindBuffers(); // Draw the start button first.

        me.renderer.worldMatrix.save();
        me.renderer.worldMatrix.translate([0, 0, startButtonZ]);
        me.renderer.worldMatrix.rotateY(buttonWobble);
        me.renderer.worldMatrix.rotateX(buttonWobble * buttonWobble / 2.0);

        me.renderer.worldMatrix.scale(4, 1, 1);
        me.renderer.worldMatrix.translate([-25, 0, 0]);

        me.renderer.updateWorldMatrix();

        me.renderer.setTexture(textureCanvas);

        // Draw it.
        me.renderer.render(startButton);

        me.renderer.worldMatrix.restore();

        // Note that the main object is to be drawn.
        backgroundObject.bindBuffers();

        me.renderer.worldMatrix.save();

        me.renderer.worldMatrix.translate([0, 0, -800]);

        me.renderer.worldMatrix.rotateY(rotateY);

        me.renderer.setTexture(textureCanvas);

        for (var i = 0; i < 50; i++)
        {
            me.renderer.worldMatrix.save();
            me.renderer.worldMatrix.translate([Math.sin(i * 4) * 300, Math.cos(i) * 300 * crunch, Math.cos(i * 2) * 400]);

            me.renderer.worldMatrix.rotateX(rotateX * (i + 1));

            me.renderer.worldMatrix.translate([0, Math.min(Math.max(Math.tan(i) * (i + 1), -200), 200), 0]);

            me.renderer.updateWorldMatrix();
            me.renderer.worldMatrix.restore();

            // Draw it.
            me.renderer.render(backgroundObject);
        }

        me.renderer.worldMatrix.restore();

        // Copy the contents of the background canvas to the
        //display.
        me.renderer.display(ctx);
    };

    var lastTime = undefined;
    this.animate = () => 
    {
        if (!lastTime)
        {
            lastTime = (new Date()).getTime();
        }

        let nowTime = (new Date()).getTime();
        let deltaTime = nowTime - lastTime;

        rotateY += deltaTime / 1000;
        rotateX += deltaTime / 8000;
        crunch = Math.abs(Math.sin(nowTime / 500) + Math.random() / 8) * 2;
        buttonWobble = Math.sin(nowTime / 1000) * 0.4;
        fogDecay = (Math.sin(nowTime / 5000) + 1.01) * 10000;

        lastTime = nowTime;
    };

    let shouldStop = false;

    this.mainloop = () =>
    {
        if (!shouldStop)
        {
            me.render();
            me.animate();

            requestAnimationFrame(() =>
            {
                me.mainloop.apply(me);
            });
        }
    };

    this.stop = () =>
    {
        shouldStop = true;

        if (me.subWindow)
        {
            me.subWindow.close();
        }
    };
}

const IntroScreenHelper = 
{
    test: () =>
    {
        const modeler = new Modeler3D(undefined, (verticies, normals) =>
        {
            var options = {};

            options.verticies = verticies;
            options.normals = normals; // 0.3 is the tolerance for the normals.
            options.vertexColors = JSHelper.getArrayOfRandomColors(
                verticies.length,
                false,
                3,
                0.3, 0.9,
                0.1, 0.7,
                0.1, 0.7);

            options.texCoords = ModelHelper.getTexCoords(verticies);

            (new IntroScreen(options)).mainloop();
        });
    }
};


// Inserted file Game.js encoding='utf-8'
"use strict";

function SimpleGame(options)
{
    const me = this;
    
    options = options || {};
    
    let canvas = document.createElement("canvas");
    let textureCanvas = document.createElement("canvas");
    let shouldStop = false;
    
    if (!options.parentElement)
    {
        me.subWindow = SubWindowHelper.create({ title: "Simple Game", minWidth: 200, minHeight: 200 });
        me.subWindow.appendChild(canvas);
        
        me.subWindow.setOnCloseListener(() =>
        {
            me.stop();
        });
        
        me.subWindow.enableFlex();
    }
    else
    {
        options.parentElement.appendChild(canvas);
    }
    
    canvas.style.width = "calc(100% - 2px)";
    canvas.style.height = "auto";
    textureCanvas.width = 400;
    textureCanvas.height = 400;
    
    let ctx = canvas.getContext("2d");
    let textureCtx = textureCanvas.getContext("2d");
    
    me.renderer = new Renderer();
    
    me.renderer.setFogColor(new Vector3(1.0, 1.0, 1.0));
    me.renderer.setZMax(2000);
    
    let cubeObject = me.renderer.registerObject();
    cubeObject.bufferData("a_normal", ModelHelper.Objects.Cube.getNormals());
    cubeObject.bufferData("a_position", ModelHelper.Objects.Cube.getVerticies());
    cubeObject.bufferData("a_texCoord", ModelHelper.Objects.Cube.getTexCoords());
    cubeObject.bufferData("a_color", JSHelper.getArrayOfRandomColors(
        ModelHelper.Objects.Cube.getVerticies().length,
        false, 3, 0.5, 0.6, 0.8, 0.9, 0.4, 0.5));
    
    let lastTime = (new Date()).getTime();
    
    let world = WorldHelper.createBasicWorld(me.renderer);
    
    let render = () =>
    {
        me.renderer.updateViewIfNeeded(canvas.clientWidth, canvas.clientHeight, false);
        
        if (canvas.width !== canvas.clientWidth || canvas.height !== canvas.clientHeight)
        {
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;
        }
        
        me.renderer.clear();
        me.renderer.updateCamera();
        
        world.render();
        
        me.renderer.display(ctx);
    };
    
    let animate = () =>
    {
        let nowTime = (new Date()).getTime();
        
        world.tick(nowTime - lastTime);
        
        lastTime = nowTime;
    };
    
    this.mainloop = () =>
    {
        if (!shouldStop)
        {
            render();
            
            requestAnimationFrame(() =>
            {
                me.mainloop.apply(me);
            });
        }
    };
    
    this.stop = () =>
    {
        shouldStop = true;
    };
}


// Inserted file PythonConsole.js encoding='utf-8'
"use strict";

// Do not use this file unless the project is licensed under the MPL!
// This file may be licenced to you under a licence different from that
// of its source distribution. I suggest against using it.

const PYODIDE_WEB_WORKER_URL = "Pyodide/webworker.js";
const USE_PYTHON_WORKER = false;
const PYTHON_WORKER = USE_PYTHON_WORKER ? new Worker(PYODIDE_WEB_WORKER_URL) : undefined;
let PYTHON_CONSOLE_GLOBAL_ID_COUNTER = 0; // Lets python access an associated editor.

function PythonConsole()
{
    // Create UI.
    let consoleWindow = EditorHelper.openWindowedEditor("%%% PY", undefined, 
    {
        title: "Python Console",
        configureWindows: (runWindow, importExportWindow, keyboardWindow, viewerWindow) =>
        {
            // Close unneeded windows.
            runWindow.close();
            importExportWindow.close();
        }
    });
    let pythonConsoleConnection = { push: (content) => { console.error("NOT INITIALIZED"); } };
    let promptColor = "orange";
    const STDOUT_COLOR = "#33ffaa";
    const STDERR_COLOR = "#ffaaaa";
    const CONTINUED_LINE_PROMPT_TEXT = "... ";
    const PROMPT_TEXT = ">>> ";
    const AUTO_INDENT_INDENT_CHARS = "    ";
    const EDITOR_GLOBAL_ID = "_PythonConsoleObject" + PYTHON_CONSOLE_GLOBAL_ID_COUNTER++;
    
    // Make it accessible.
    self[EDITOR_GLOBAL_ID] = this;
    
    // Get the background worker.
    const pythonWorker = PYTHON_WORKER;
    
    // Note that this is a python console.
    consoleWindow.editControl.setDefaultHighlightScheme("py");
    
    // Handle events from python.
    if (pythonWorker) // The pythonWorker does not seem to work in all browsers...
                      // If it hasn't been defined, don't use it.
    {
        pythonWorker.onmessage = (event) =>
        {
            const { results, errors } = event.data;
            
            if (onMessageListeners.length > 0)
            {
                // Notify the first.
                if (results || !errors)
                {
                    (onMessageListeners[0])(results);
                }
                else
                {
                    (onMessageListeners[0])(errors);
                }
                
                onMessageListeners = onMessageListeners.splice(1);
            }
            else
            {
                console.log(results);
                console.warn(errors);
            }
        };
        
        pythonWorker.onerror = (event) =>
        {
            if (onMessageListeners.length > 0)
            {
                onMessageListeners[0]({ filename: event.filename, line: event.lineno,
                                                      message: event.message });
                
                onMessageListeners = onMessageListeners.splice(1);
            }
            else
            {
                console.warn(event.message + " ( " + event.filename + ":" + event.lineno + " ) " );
            }
        };
    }
    
    let onMessageListeners = []; //  A stack of everyone waiting for
                                 // a response from Python.
    
    // Register a listener for events from the python
    //worker. Paramater doNotRejectErrors represents
    //whether to "throw" an exception by calling reject
    //with the content of the error.
    let nextResponsePromise = (doNotRejectErrors) =>
    {
        let result = new Promise((resolve, reject) =>
        {
            onMessageListeners.push((results, failures) =>
            {
                resolve(results);
                
                if (failures && !doNotRejectErrors)
                {
                    reject(failures);
                }
            });
        });
        
        return result;
    };
    
    let runPython = (code) =>
    {
        // Can we use the worker?
        if (pythonWorker)
        {
            pythonWorker.postMessage(
            {
                python: code
            });
            
            return nextResponsePromise();
        } // If not,
        else
        {
            return pyodide.runPythonAsync(code);
        }
    };
    
    window.runPython = runPython;
    
    let handlePyResult = async function()
    {
        let stdoutContent = await runPython("sys.stdout.getvalue()");
        let stderrContent = await runPython("sys.stderr.getvalue()");
        
        await runPython("sys.stdout.truncate(0)\nsys.stdout.seek(0)");
        await runPython("sys.stderr.truncate(0)\nsys.stderr.seek(0)");
        
        if (stdoutContent)
        {
            consoleWindow.displayContent(stdoutContent, (line) =>
            {
                if (!line)
                {
                    return;
                }
                
                line.setColorFunction = (index) =>
                {
                    return STDOUT_COLOR;
                };
                
                line.editable = false;
            });
        }
        
        if (stderrContent)
        {
            consoleWindow.displayContent(stderrContent, (line) =>
            {
                if (!line)
                {
                    return;
                }
                
                line.setColorFunction = (index) =>
                {
                    return STDERR_COLOR;
                };
                
                line.editable = false;
            });
        }
    
        requestAnimationFrame(() =>
        {
            consoleWindow.render();
        });
    };
    
    let indentContinuedLine = (newPromptText, previousPromptText) =>
    {
        // Indent.
        for (let i = 0; i < previousPromptText.length; i++)
        {
            if (previousPromptText.charAt(i) == " ")
            {
                newPromptText += " ";
            }
            else
            {
                break;
            }
        }
        
        // Did the previous line end in a colon?
        if (previousPromptText.trim().endsWith(":"))
        {
            newPromptText += AUTO_INDENT_INDENT_CHARS;
        }
        
        // Did the previous line end in spaces?
        if (previousPromptText.endsWith(AUTO_INDENT_INDENT_CHARS))
        {
            newPromptText = CONTINUED_LINE_PROMPT_TEXT;
        }
        
        return newPromptText;
    };
    
    let promptLine = undefined;
    let createPrompt = (promptText) =>
    {    
        promptText = promptText || PROMPT_TEXT;
        
        let newLine = consoleWindow.editControl.appendLine(promptText);
        
        newLine.setColorFunction = (index) =>
        {
            if (index < promptText.length)
            {
                return promptColor;
            }
        };
        
        newLine.focus();
        consoleWindow.scrollToFocus();
        promptLine = newLine;
        
        
        newLine.onentercommand = () =>
        {
            try
            {
                newLine.onentercommand = function()
                {
                    if (promptLine)
                    {
                        promptLine.text = newLine.text;
                        
                        // Postpone focusing -- the
                        //enter command might still be 
                        //being processed.
                        requestAnimationFrame(() =>
                        {
                            promptLine.focus();
                            
                            consoleWindow.scrollToFocus();
                            
                            consoleWindow.render();
                        });
                    }
                };
                
                newLine.editable = false;
                
                let codeToRun = newLine.text.substring(promptText.length);
                
                pythonConsoleConnection.push(codeToRun).then(
                (result) =>
                {
                    if (!result)
                    {
                        handlePyResult().then(() =>
                        {
                            createPrompt(PROMPT_TEXT);
                        });
                    }
                    else
                    {
                        let newPrompt = createPrompt(CONTINUED_LINE_PROMPT_TEXT);
                        
                        newPrompt.text = indentContinuedLine(newPrompt.text, codeToRun);
                    }
                }).catch((error) =>
                {
                    error = error + "";
                    runPython("sys.stderr.write('''" + error.split("'''").join(",") + "''')");
                    
                    let onComplete = () =>
                    {
                    
                        handlePyResult().then(() =>
                        {
                            createPrompt(PROMPT_TEXT);
                        });
                    };
                    
                    // Push more code to the console. This completes
                    //the command for which an error was thrown.
                    pythonConsoleConnection.push("print('...')").then(onComplete).catch(onComplete);
                });
            }
            catch(e)
            {
                consoleWindow.displayContent("" + e);
                
                createPrompt(promptText);
            }
        };
        
        // Display changes.
        requestAnimationFrame(() =>
        {
            // Move the cursor.
            newLine.cursorPosition = newLine.text.length;
            
            // Render.
            consoleWindow.render();
        });
        
        // Return the line.
        return newLine;
    };
    
    // Run python.
    pythonConsoleConnection = 
    {
        push: (code) =>
        {
            // If we're using the worker,
            if (pythonWorker)
            {
                requestAnimationFrame(() =>
                {
                    pythonWorker.postMessage
                    (
                        {
                            __code: code,
                            python: "from js import __code\n_pushCode" + EDITOR_GLOBAL_ID + "(__code)"
                        }
                    );
                });
                
                return nextResponsePromise();
            }
            else
            {
                return new Promise((resolve, reject) =>
                {
                    try
                    {
                        window.__code = code;
                        resolve(pyodide.runPython("from js import __code\n_pushCode" + EDITOR_GLOBAL_ID + "(__code)"));
                    }
                    catch(e)
                    {
                        reject(e);
                    }
                });
            }
        }
    };
    
    this.codeRefresh = function()
    {
        handlePyResult();
    };
    
    languagePluginLoader.then(() =>
    {
        runPython(
            `
import io, code, sys
from js import self, pyodide

sys.stdout = io.StringIO()
sys.stderr = io.StringIO()

def _formattedPrint(inputObject, currentDepth = 0):
    MAX_LINE_LEN = 100 # Wrap lines at 100 chars
    
    indent = " " * currentDepth
    
    output = str(inputObject)
    
    # Wrap the output at MAX_LINE_LEN characters.
    lines = output.split("\\n")
    wrappedOutput = ""
    
    wordSeparators = [' ', ',', '.', '/']
    
    for i in lines:
        curLine = str(i)
        
        while len(curLine) > MAX_LINE_LEN:
            # Does it have an ending space?
            breakIndex = -1
            
            fullLine = curLine
            curLine = curLine[0:MAX_LINE_LEN]
            
            # Try to make breakIndex not -1.
            for sep in wordSeparators:
                if breakIndex != -1:
                    break
                breakIndex = curLine.rfind(sep)
            
            if breakIndex == -1:
                breakIndex = MAX_LINE_LEN
            
            wrappedOutput += curLine[0:breakIndex] + "\\n"
            curLine = fullLine[breakIndex:]
        
        wrappedOutput += curLine + "\\n"
    
    # Print the wrapped output, excluding the final line-break.
    print (wrappedOutput[0:len(wrappedOutput) - 1])    

# When the editor detects a returned promise...
def _Console_promiseFinished${EDITOR_GLOBAL_ID}(objectName, message):
    from js import ${EDITOR_GLOBAL_ID}
    
    print (objectName)
    _formattedPrint(message, 1) # Show the message
    
    # Refresh the editor.
    ${EDITOR_GLOBAL_ID}.codeRefresh();

# Prefix the console class!
# If running in the window's cPython runtime,
#it might be shared with other consoles!
class Console${EDITOR_GLOBAL_ID}(code.InteractiveConsole):
    def runcode(self, code):
        from js import pyodide
        
        out = pyodide.runPython("\\n".join(self.buffer))
      
        if out != None:
            _formattedPrint(out)
            
            # Is it a promise?
            if "then" in dir(out):
                try:
                    out.then(
                            lambda message: 
                                _Console_promiseFinished${EDITOR_GLOBAL_ID}
                                                    ("%s: " % out, message)
                            )
                except Exception as e:
                    sys.stderr.write("Internal Error: " + str(e))

_mainConsole${EDITOR_GLOBAL_ID} = Console${EDITOR_GLOBAL_ID}(locals=globals())

def _pushCode${EDITOR_GLOBAL_ID}(code):
    return _mainConsole${EDITOR_GLOBAL_ID}.push(code)

# Define a pyodide-specific help menu.
# TODO Finish this
def help_pyodide():
    print ("Welcome to the Python console.")
    print ("This help message (not created")
    print ("by Pyodide) is currently under")
    print ("development! It is a TODO.")
    print ("------Loading Libraries-----")
    print ("1.  from js import pyodide")
    print ("2.  pyodide.loadPackage('package_name_here')")
    print ()
    print ("   The first line requests that")
    print ("  the pyodide object defined in")
    print ("  JavaScript be imported --    ")
    print ("  that python be given access to")
    print ("  it.")
    print ("   On line two, having gotten")
    print ("  access to this package, we ")
    print ("  load a package with name   ")
    print ("  package_name_here.")
    print ("   Packages available in this")
    print ("  way include matplotlib,    ")
    print ("  numpy, pandas, and others. ")
    print (" (See Pyodide's documentation)")
    print ()
    print ()
    print ("------Interacting With JavaScript-------")
    print ("    from js import document")
    print ()
    print ("    As explained previously, objects can")
    print ("  imported from JavaScript! The example")
    print ("  makes the object document visible to")
    print ("  Python.")
    print ()
    print ()
    print ("------Limitations---------------------")
    print ("    Currently, input() calls result in")
    print (" a prompt requesting input. This is not")
    print (" desirable. Additional information")
    print (" might be put here in the future.")

# Display a banner.
print (sys.version)
print ("Python from Pyodide")
print ("(From Mozilla. See https://github.com/iodide-project/pyodide)")
print ("See the provided site for Pyodide's source and license.")
print (" Try typing help(), license() or credits for more information.")
print (" For pyodide-related help, try help_pyodide().")
print ("--------------------------------------------------------------")

license.MAXLINES = 1000 # As of the time of this writing, input() displays
                        # a prompt dialogue. This is undesirable, so the
                        # entire license message should be printed (or
                        # close to it).
`).then(() =>
        {
            handlePyResult().then(() =>
            {
                consoleWindow.editControl.appendLine("");
                
                requestAnimationFrame(() =>
                {
                    createPrompt();
                });
            });
        });
    });
}


// Inserted file Vector3.js encoding='utf-8'
"use strict";

// An object that inherits from Point.
//Is a Vector3 a Point? NO! TODO Refactor
//this. Inheritance should fulfill an IS-A
//relationship.
function Vector3(x, y, z)
{
    Point.call(this, x, y, z); // Inherit from Point.
    this.IS_VECTOR = true;

    var me = this;
    
    this.x = x;
    this.y = y;
    this.z = z;
    
    /*
    A useful menomic for the cross product:
        | i  j  k  |       | y1 z1 |       | x1 z1 |       | x1 y1 |
    R = | x1 y1 z1 | = i * | y2 z2 | - j * | x2 z2 | + k * | x2 y2 |
        | x2 y2 z2 |   
    
    R = i * (y1 * z2 - z1 * y2) - j * (x1 * z2 - x2 * z1) + k * (x1 * y2 - x2 * y1)
    R = i * (y1 * z2 - z1 * y2) + j * (x2 * z1 - x1 * z2) + k * (x1 * y2 - x2 * y1)
    */
    this.cross = function(other)
    {
        var result = new Vector3(me.y * other.z - me.z * other.y, me.z * other.x - other.z * me.x, me.x * other.y - other.x * me.y);
        
        return result;
    };
    
    this.copy = function()
    {
        var result = new Vector3(me.x, me.y, me.z);
        
        return result;
    };
    
    this.mulScalar = function(scalar)
    {
        var result = new Vector3(me.x * scalar, me.y * scalar, me.z * scalar);
        
        return result;
    };
    
    this.multiplyScalar = this.mulScalar;
    
    this.mulScalarAndSet = function(scalar)
    {
        me.x *= scalar;
        me.y *= scalar;
        me.z *= scalar;
    };
    
    this.multiplyScalarAndSet = this.mulScalarAndSet;
    
    this.add = function(other)
    {
        var result = new Vector3(me.x + other.x, me.y + other.y, me.z + other.z);
        
        return result;
    };
    
    this.addAndSet = function(other)
    {
        me.x += other.x;
        me.y += other.y;
        me.z += other.z;
    };
    
    this.subtract = function(other)
    {
        var result = new Vector3(me.x - other.x, me.y - other.y, me.z - other.z);
        
        return result;
    };
    
    this.subtractAndSet = function(other)
    {
        me.x -= other.x;
        me.y -= other.y;
        me.z -= other.z;
    };
    
    // Demonstration/Informal Proof.
    // Given: v = <x, y>, e**(it) = cos t + i sin t.
    //To rotate by PI/2 radians, multiply v by e**(iPI/2),
    //because cos (t + X) + i sin (t + X) = e**(i(t + X)) = e**(it) * e**(iX).
    //Similarly, e**(iPI/2) = i because cos(PI / 2) = 0 and sin(PI/2) = 1.
    //Representing v using imaginary numbers, v = x + iy, so, to 
    //rotate by PI/2 radians, v = i * (x + iy) = ix - y, so,
    //v' = <-y, x> = <-v_y, v_x>. This is the same as crossing v
    //with the z-axis.
    this.perpindicular2D = function()
    {
        return new Vector3(me.y, -me.x, me.z);
    };
    
    this.dot = function(other)
    {
        return other.x * me.x + other.y * me.y + other.z * me.z;
    };
    
    this.getLength = function()
    {
        return Math.sqrt(me.x * me.x + me.y * me.y + me.z * me.z);
    };
    
    this.getLength2D = function()
    {
        return Math.sqrt(me.x * me.x + me.y * me.y);
    };
    
    this.normalize = function()
    {
        var length = me.getLength();
        
        if (length !== 0)
        {
            me.x /= length;
            me.y /= length;
            me.z /= length;
        }
        
        return me;
    };
    
    this.normalize2D = function()
    {
        var length = me.getLength2D();
        
        if (length !== 0)
        {
            me.x /= length;
            me.y /= length;
        }
        
        return me;
    };
    
    this.toString = function()
    {
        return "<" + me.x + ", " + me.y + ", " + me.z + ">";
    };
}

// Inserted file Drawer2D.js encoding='utf-8'
"use strict";

// A simple 2D drawing program, created with the goal of
//allowing users to create and edit textures.

function Drawer2D(onSubmit, options)
{
    options = options || {};    
    
    var me = this;
    
    let undoStack = [];
    let redoStack = [];
    
    const INITIAL_WIDTH = options.initialWidth || 500;
    const INITIAL_HEIGHT = options.initialHeight || 500;
    const MAX_UNDO = 30;
    
    const INITIAL_VIEW_X = 0;
    const INITIAL_VIEW_Y = 0;
    
    // To add something to the undo stack,
    //at least two changes should have occurred
    //and five seconds passed.
    const UNDO_TIME_DELTA = 2000;
    const UNDO_MIN_ACTIONS = 2;
    
    let lastUndoTime = (new Date()).getTime();
    let actionsSinceUndo = 0;
    
    this.mainSubWindow = SubWindowHelper.create({ title: "Drawer 2D", content: "",
                                              minWidth: INITIAL_WIDTH, 
                                              minHeight: INITIAL_HEIGHT });
    this.mainSubWindow.enableFlex(); // Stretches elements vertically, especially the canvas.
    
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    
    // The canvas should fill the window.
    canvas.style.width = "calc(100% - 5px)"; // Subtract 5px to prevent the creation
                                             // of scrollbars.
    canvas.style.height = "auto";
    
    // Give the canvas a background, to permit visualization of the alpha channel.
    canvas.style.backgroundImage = "radial-gradient(white, black)";
    canvas.style.backgroundSize = "5px 5px";
    
    const imageCanvas = document.createElement("canvas");
    const imageCtx = imageCanvas.getContext("2d");
    
    if (options.initialImage)
    {
        imageCtx.canvas.width = options.imageWidth || options.initialImage.width;
        imageCtx.canvas.height = options.imageHeight || options.initialImage.height;
        
        try
        {
            imageCtx.drawImage(options.initialImage, 0, 0, imageCtx.canvas.width, imageCtx.canvas.height);
        }
        catch(e)
        {
            SubWindowHelper.alert("Unable to draw image", "Error: " + e + ". Proceeding.");
        }
    }
    else
    {
        imageCtx.canvas.width = options.imageWidth || INITIAL_WIDTH;
        imageCtx.canvas.height = options.imageHeight || INITIAL_HEIGHT;
    }
    
    // Get an initial transform matrix.
    let transformMatrix = Mat33Helper.getTranslateMatrix(INITIAL_VIEW_X, INITIAL_VIEW_Y);
    
    me.tools = { "Base Pen": new Drawer2DHelper.BasePen(),
                 "Custom Pen 1": new Drawer2DHelper.CustomizablePen(),
                 "Custom Pen 2": new Drawer2DHelper.CustomizablePen(),
                 "Eraser": new Drawer2DHelper.Eraser(),
                 "View Panner": new Drawer2DHelper.ViewPanner(transformMatrix),
                 "View Zoomer": new Drawer2DHelper.ViewZoomer(transformMatrix) };
    me.currentTool = me.tools["Base Pen"];
    
    // Keep track of the number of context-saves.
    let contextViewSaves = 0;
    
    let saveContextView = () =>
    {
        transformMatrix.save();
        
        contextViewSaves++;
    };
    
    let restoreContextView = () =>
    {
        if (contextSaves > 0)
        {
            transformMatrix.restore();
        
            contextViewSaves--;
        }
        else
        {
            throw "Danger! The number of cached context states is at zero (Drawer2D).";
        }
    };
    
    let resetView = () =>
    {
        // Restore until at the initial state,
        while (contextViewSaves > 0)
        {
            restoreContextView();
        }
        
        // Then save so we can restore it again.
        saveContextView();
    };
    
    //  Allow snapshots of the canvas to be stored and traversed
    // -- an implementation of undo and redo.
    
    // Filters the undo stack, removing 
    let filterUndoStack = () =>
    {
        if (undoStack.length > MAX_UNDO)
        {
            // If the undo stack is longer than expected,
            //trim it.
            let newStack = [];
            
            for (let i = undoStack.length - MAX_UNDO; i < undoStack.length; i++)
            {
                newStack.push(undoStack[i]);
            }
            
            // Swap the stacks.
            undoStack = newStack;
        }
    };
    
    // Cache a snapshot. Note that with the current implementation,
    //no compression is done and tainted canvases cannot be cached.
    let cacheState = (pushToRedoStack) =>
    {
        let imageToCache = new Image();
        
        let loaded = false;
        let onLoad = () => {};
        
        // Add the image to the undo stack after
        //it has loaded.
        imageToCache.addEventListener("load", () =>
        {
            if (pushToRedoStack)
            {
                redoStack.push(imageToCache);
            }
            else
            {
                undoStack.push(imageToCache);
            }
            
            // Filter the undo stack.
            filterUndoStack();
            
            // Note that the image has loaded.
            loaded = true;
            
            // Notify any listeners.
            onLoad(imageToCache);
        });
        
        // Set its source.
        imageToCache.src = imageCanvas.toDataURL("img/png");
        
        // Note the last cache time.
        lastUndoTime = (new Date()).getTime();
        
        let result = new Promise((resolve, reject) =>
        {
            onLoad = (imageToCache) => resolve({ image: imageToCache, dataURL: imageToCache.src });
            
            if (loaded)
            {
                onLoad(imageToCache);
            }
        });
        
        return result;
    };
    
    let performUndo = () =>
    {
        // Can we actually undo?
        if (undoStack.length == 0)
        {
            undoTab.hide();
        
            return;
        }
        
        // Take a state from the stack.
        let currentState = undoStack.pop();
        
        // Push it onto the redo stack.
        cacheState(true);
        
        // Show the redo tab.
        redoTab.show();
        
        clearCanvas(imageCtx);
        
        // Draw it onto the canvas.
        imageCtx.drawImage(currentState, 0, 0);
        
        render();
    };
    
    let performRedo = () =>
    {
        if (redoStack.length == 0)
        {
            redoTab.hide();
            
            return;
        }
        
        let newState = redoStack.pop();
        
        undoStack.push(newState);
        undoTab.show();
        
        clearCanvas(imageCtx);
        imageCtx.drawImage(newState, 0, 0);
        
        render();
    };
    
    // Push state to the undo stack, if necessary.
    let cacheStateIfNecessary = () =>
    {
        let nowTime = (new Date()).getTime();
        
        if (nowTime - lastUndoTime >= UNDO_TIME_DELTA && actionsSinceUndo >= UNDO_MIN_ACTIONS)
        {
            cacheState().then(() =>
            {
                redoStack = []; // Reset the redo stack.
                
                // Hide the redo menu.
                redoTab.hide();
                undoTab.show(); // And show the undo tab.
            });
            
            // Reset the number of actions since the last undo.
            actionsSinceUndo = 0;
        }
    };
    
    // Permit view-resetting by taking an initial snapshot of
    //the state of the context.
    saveContextView();
    cacheState();
    
    var clearCanvas = (currentCtx) =>
    {
        currentCtx = currentCtx || ctx;
        
        currentCtx.save();
        
        currentCtx.setTransform(1, 0, 0, 1, 0, 0);
        currentCtx.clearRect(0, 0, currentCtx.canvas.width, currentCtx.canvas.height);
        
        currentCtx.restore();
    };
    
    var resizePixBuffer = () =>
    {
        if (canvas.width !== canvas.clientWidth || canvas.height !== canvas.clientHeight)
        {
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;
        }
    };
    
    var render = () =>
    {
        resizePixBuffer();
        
        clearCanvas();
        
        ctx.setTransform(transformMatrix.getAt(0, 0), transformMatrix.getAt(0, 1), 
                         transformMatrix.getAt(1, 0), transformMatrix.getAt(1, 1),
                         transformMatrix.getAt(2, 0), transformMatrix.getAt(2, 1));
        
        ctx.strokeRect(-1, -1, imageCanvas.width + 1, imageCanvas.height + 1);
        ctx.drawImage(imageCanvas, 0, 0);
    };
    
    // Create context menus.
    let fileMenu = new SubWindowTab("File");
    let editMenu = new SubWindowTab("Edit");
    let toolMenu = new SubWindowTab("Tools");
    
    // Add the commands.
    if (onSubmit)
    {
        fileMenu.addCommand("Submit", () =>
        {
            cacheState().then((data) =>
            {
                const { image, dataURL } = data;
                
                onSubmit.call(me, image, dataURL);
                me.mainSubWindow.close();
            });
        });
    }
    
    fileMenu.addCommand("Exit", () =>
    {
        me.mainSubWindow.close();
    });
    
    // Edit menu.
    var undoTab = editMenu.addCommand("Undo", () =>
    {
        performUndo();
    });
    
    var redoTab = editMenu.addCommand("Redo", () =>
    {
        performRedo();
    });
    
    // Hide the redo tab initially.
    redoTab.hide();
    
    let selectTool = function(tool)
    {
        if (me.currentTool &&
                    me.currentTool.onDeInit)
        {
            me.currentTool.onDeInit();
        }
        
        me.currentTool = tool;
        
        if (tool.onInit)
        {
            tool.onInit();
        }
    };
    
    // View Menu.
    let showControlTab, controlsWindow;
    showControlTab = toolMenu.addCommand("Show Controls Window", () =>
    {
        showControlTab.hide();
        
        controlsWindow = SubWindowHelper.create({ title: "Tools", noResize: true, alwaysOnTop: true });
        
        let handleToolButton = (toolName, tool) =>
        {
            let newButton = HTMLHelper.addButton(toolName, controlsWindow, () =>
            {
                selectTool(tool);
            });
            
            newButton.style.display = "block";
        };
        
        for (let label in me.tools)
        {
            handleToolButton(label, me.tools[label]);
        }
        
        controlsWindow.setOnCloseListener(() =>
        {
            showControlTab.show();
        });
    });
    
    // Tool menu.
    let handleToolCommand = (toolName, tool) =>
    {
        toolMenu.addCommand(toolName, () =>
        {
            selectTool(tool);
        });
    };
    
    for (let label in me.tools)
    {
        handleToolCommand(label, me.tools[label]);
    }
    
    // Tools might want to de-init/free themselves.
    //Set an onClose listener.
    me.mainSubWindow.setOnCloseListener(() =>
    {
        if (me.currentTool && me.currentTool.onDeInit)
        {
            // Notify the current tool.
            me.currentTool.onDeInit();
        }
        
        // If the controls window is open, close it.
        if (controlsWindow)
        {
            controlsWindow.close();
        }
    });
    
    // Add context menus!
    me.mainSubWindow.addTab(fileMenu);
    me.mainSubWindow.addTab(editMenu);
    me.mainSubWindow.addTab(toolMenu);
    
    // Add the canvas.
    me.mainSubWindow.appendChild(canvas);
    
    let pointerDown = false, lastX, lastY;
    
    // Configure events.
    
    let pointerStartX, pointerStartY, inverseTransform, changesMade;
    JSHelper.Events.registerPointerEvent("down", canvas, function(event)
    {
        event.preventDefault();
    
        let bbox = canvas.getBoundingClientRect();
        
        pointerStartX = event.clientX - bbox.left;
        pointerStartY = event.clientY - bbox.top;
        
        let currentPositionArray = [pointerStartX, pointerStartY, 1];
        inverseTransform = transformMatrix.getInverse();
        MatHelper.transformPoint(currentPositionArray, inverseTransform);
        
        me.currentTool.handlePointerDown(ctx, imageCtx, currentPositionArray[0], currentPositionArray[1], 0, 0);
    
        render();
        pointerDown = true;
        
        changesMade = false;
        
        lastX = pointerStartX;
        lastY = pointerStartY;
    }, false);
    
    JSHelper.Events.registerPointerEvent("move", canvas, function(event)
    {
        if (pointerDown)
        {
            event.preventDefault();
        
            let bbox = canvas.getBoundingClientRect();
            let x = event.clientX - bbox.left;
            let y = event.clientY - bbox.top;
            
                
            let currentPositionArray = [x, y, 1];
            inverseTransform = transformMatrix.getInverse();
            MatHelper.transformPoint(currentPositionArray, inverseTransform);
            
            changesMade = me.currentTool.handlePointerMove(ctx, imageCtx, currentPositionArray[0], currentPositionArray[1], x - lastX, y - lastY, (event.pressure || 0) + 0.1) || changesMade;
            
            render();
            
            lastX = x;
            lastY = y;
        }
    }, false);
    
    JSHelper.Events.registerPointerEvent("stop", canvas, function(event)
    {
        pointerDown = false;
        
        event.preventDefault();
    
        let bbox = canvas.getBoundingClientRect();
        let x = event.clientX - bbox.left;
        let y = event.clientY - bbox.top;
        
        me.currentTool.handlePointerUp(ctx, imageCtx, x, y, x - pointerStartX, y - pointerStartY);
        
        if (changesMade)
        {
            actionsSinceUndo++;
            
            cacheStateIfNecessary();
        }
    }, false);
    
    // Any async setup.
    (async () =>
    {
        // Wait for the window to resize.
        //TODO Remove magic variable.
        await JSHelper.waitFor(500);
        
        render();
    })();
}

// Define tools to be used with the Drawer2D.
var Drawer2DHelper = {}; // Make a pseudo-namespace.

Drawer2DHelper.typeHelper = { CLASS_BASE_TOOL: true, CLASS_BASE_PEN: true, 
                              CLASS_VIEW_PANNER: true, CLASS_VIEW_ZOOMER: true };

// Define base functions.
Drawer2DHelper.BaseTool = function()
{
    this.CLASS_LIST = [Drawer2DHelper.typeHelper.CLASS_BASE_TOOL];

    this.handlePointerDown = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Dummy function. Override this.
        throw "HandlePointerDown must be overridden (BaseTool of Drawer2DHelper).";
    };
    
    this.handlePointerMove = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        throw "HandlePointerMove was not overridden! It MUST be.";
    };
    
    // Note: Here, dx and dy are the TOTAL DELTA X/Y, from 
    //pointer down to pointer up, while this is not the case
    //for the other events.
    this.handlePointerUp = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        throw "HandlePointerUp was not overridden! Please, override this!";
    };
};

Drawer2DHelper.BasePen = function(width, color)
{
    this.__proto__ = new Drawer2DHelper.BaseTool();
    
    this.CLASS_LIST.push(Drawer2DHelper.typeHelper.CLASS_BASE_PEN);

    var me = this;
    
    me.width = width || 5;
    me.color = color || "rgba(0, 0, 0, 0.8)";
    
    this.setColor = (newColor) =>
    {
        me.color = color;
    };
    
    let lastX, lastY, vx = 0, vy = 0, 
            smoothingIterations = 10, lastTime,
            lastWeight = 0.2,
            towardsCursorRate = 0.6,
            currentX,
            currentY;
    this.handlePointerDown = (displayCtx, drawCtx, x, y, dx, dy, pressure) =>
    {
        drawCtx.beginPath();
        drawCtx.moveTo(x, y);
        
        lastX = x;
        lastY = y;
        
        currentX = x;
        currentY = y;
        
        vx = 0;
        vy = 0;
        
        lastTime = new Date().getTime();
    };
    
    this.handlePointerMove = (displayCtx, drawCtx, x, y, dx, dy, pressure) =>
    {
        let nowTime = (new Date()).getTime();
        let dt = Math.max(nowTime - lastTime, 1);
        
        dt = Math.min(dt, 100);
        
        drawCtx.save();
        
        drawCtx.lineWidth = me.width * (pressure) * 2.0; // Pressure is at 0.5 by default.
        drawCtx.strokeStyle = me.color;
        drawCtx.lineCap = "round";
        drawCtx.lineJoin = "round";
        
        let oldVx = vx;
        let oldVy = vy;
        let currentMultiplier = 0;
        
        for (let i = 0; i < smoothingIterations; i++)
        {
            let distanceFromCursor = Math.sqrt(Math.pow(x - currentX, 2) + Math.pow(y - currentY, 2));
            
            currentMultiplier = Math.min(1, lastWeight * (2 - i / smoothingIterations));
            
            vx = oldVx * currentMultiplier + ((x - lastX) * (1 - currentMultiplier) / dt + (x - currentX) / dt * towardsCursorRate) * i / smoothingIterations;
            vy = oldVy * currentMultiplier + ((y - lastY) * (1 - currentMultiplier) / dt + (y - currentY) / dt * towardsCursorRate) * i / smoothingIterations;
            
            currentX += vx * dt / smoothingIterations;
            currentY += vy * dt / smoothingIterations;
            
            drawCtx.lineTo(currentX, currentY);
        }
        
        drawCtx.stroke();

        drawCtx.restore();
        
        drawCtx.beginPath();
        drawCtx.moveTo(currentX, currentY);
        
        lastX = x;
        lastY = y;
        
        lastTime = nowTime;
        
        return true; // The view was changed.
    };
    
    this.handlePointerUp = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Do nothing.
    };
};

Drawer2DHelper.CustomizablePen = function(initialWidth, initialColor)
{
    const me = this;
    
    Drawer2DHelper.BasePen.call(this, initialWidth, initialColor);
    
    this.configWindow;
    
    // When this tool is selected.
    this.onInit = () =>
    {
        // Create the config window.
        me.configWindow = SubWindowHelper.create({ title: "Configure Tool", minWidth: "400px", noResize: true, alwaysOnTop: true });
        
        me.colorInput = HTMLHelper.addColorChooser(me.color, // Initial color,
                                                   me.configWindow,
                                                   (newVector, newHTMLColor) =>
        {
            me.color = newHTMLColor;
        }, undefined,
        (tabGroup) =>
        {
            let newInput = tabGroup.addTab("Width", (container) =>
            {
                container.innerHTML = "";
                
                let widthControl = HTMLHelper.addInput("Width", me.width, "range", container,
                        (newWidth) =>
                {
                    me.width = newWidth;
                });
                
                widthControl.min = 1;
                widthControl.max = 60;
                widthControl.step = 3;
            });
        });
        
        me.colorInput.style.width = "50vw";
    };
    
    this.onDeInit = () =>
    {
        me.configWindow.close();
    };
};

Drawer2DHelper.Eraser = function()
{
    const me = this;
    
    Drawer2DHelper.BaseTool.apply(this, arguments);
    
    this.handlePointerDown = function(displayCtx, drawCtx, x, y, dx, dy)
    {
        drawCtx.beginPath();
        drawCtx.moveTo(x, y);
    };
    
    this.handlePointerMove = function(displayCtx, drawCtx, x, y, dx, dy)
    {
        drawCtx.lineTo(x, y);
        
        drawCtx.save();
        drawCtx.clip();
        drawCtx.clearRect(0, 0, drawCtx.canvas.width, drawCtx.canvas.height);
        drawCtx.restore();
        
        return true; // Changes were made!
    };
    
    this.handlePointerUp = function(displayCtx, drawCtx, x, y, dx, dy)
    {
        drawCtx.beginPath();
    };
};

Drawer2DHelper.ViewPanner = function(matrixToManipulate)
{
    var me = this;
    
    Drawer2DHelper.BaseTool.apply(this, arguments);
    
    this.CLASS_LIST.push(Drawer2DHelper.typeHelper.CLASS_VIEW_PANNER);
    
    this.mat = matrixToManipulate;
    
    this.handlePointerDown = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Do nothing.
    };
    
    this.handlePointerMove = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        me.mat.translate([dx, dy, 1]);
    };
    
    this.handlePointerUp = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Do nothing.
    };
};

Drawer2DHelper.ViewZoomer = function(matrixToManipulate)
{
    var me = this;
    
    this.__proto__ = new Drawer2DHelper.BaseTool();
    this.CLASS_LIST.push(Drawer2DHelper.typeHelper.CLASS_VIEW_ZOOMER);
    
    this.mat = matrixToManipulate;
    
    
    this.handlePointerDown = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Do nothing.
    };
    
    this.handlePointerMove = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        let minPosition = [0, 0, 0];
        let maxPosition = [drawCtx.canvas.width, drawCtx.canvas.height, 0];
        
        let onScreenW = maxPosition[0] - minPosition[0];
        let onScreenH = maxPosition[1] - minPosition[1];
    
        me.mat.translate([-onScreenW / 2, -onScreenH / 2, 0]);
        me.mat.scalarMul(1 + Math.atan(dx + dy) / 9);
        me.mat.translate([onScreenW / 2, onScreenH / 2, 0]);
        
        // Bug fix: The HTML5 canvas does not support
        //changing the bottom row of the Mat33. Change
        //the JavaScript matrix to reflect this.
        me.mat.setAt(2, 2, 1);
        me.mat.setAt(1, 2, 0);
        me.mat.setAt(0, 2, 0);
    };
    
    this.handlePointerUp = (displayCtx, drawCtx, x, y, dx, dy) =>
    {
        // Do nothing.
    };
};

// Inserted file Renderer.js encoding='utf-8'
"use strict";

/**
 *  A simple WebGL-based rendering object. Danger! At present, 
 * each construction of a render creates a new WebGL context. Most browsers
 * limit the number of accessible contexts, so try to limit the instances of Renderer.
 * For example, rather than constructing Renderer directly, consider using
 * RendererHelper.getRenderer to get a single, global instance of Renderer
 * (this method's implementation might, however, change in the future).
 */

function Renderer(baseCanvas)
{
    var me = this;

    me.objects = {};

    me.storeObject = (objectId, object) =>
    {
        me.objects[Math.floor(objectId * 30)] = object;
    };

    me.retrieveObject = (objectId) =>
    {
        return me.objects[Math.floor(objectId * 30)];
    };

    let lastObjectId = 1;
    function ObjectData(vertexAttribs, specificAttributeData)
    {
        var parent = me;

        this.vao = vertexAttribs; // The vertex attribute array.
        this.specificAttributeData = specificAttributeData;
        this.numTriangles = 0; // The number of triangles to render.
        this.state = {}; // Any user-set information. E.g. a label.

        lastObjectId += 0.1;
        this.id = 0.95 / lastObjectId + 0.05; // Set the object's id.

        me.storeObject(this.id, this);
    }

    ObjectData.prototype.bufferData = function(attrName, data)
    {
        const buffer = this.specificAttributeData[attrName].buffer;

        vaoExtension.bindVertexArrayOES(this.vao);
        me.gl.bindBuffer(me.gl.ARRAY_BUFFER, buffer);

        let bufferObject;

        if (data.length > 0 && typeof data[0] === "number")
        {
            bufferObject = new Float32Array(data);
        }
        else if (data.length > 0 && data[0].IS_VECTOR)
        {
            bufferObject = ModelHelper.vectorArrayToFloat32Array(data);
        }

        me.gl.bufferData(me.gl.ARRAY_BUFFER, bufferObject, me.gl.STATIC_DRAW);

        // Note the number of triangles to be rendered for this object.
        if (attrName === "a_position")
        {
            this.numTriangles = Math.floor(data.length / me.attributes["a_position"]);
        }
    };

    // Load the object from a ModelHelper.Object.
    //Convenience method for calling ObjectData.bufferData
    //for each attribute of the model.
    ObjectData.prototype.fromModel = function(model)
    {
        this.bufferData("a_normal", model.getNormals());
        this.bufferData("a_position", model.getVerticies());
        this.bufferData("a_color", model.getVertexColors());
        this.bufferData("a_texCoord", model.getTexCoords());
    };

    ObjectData.prototype.bindBuffers = function()
    {
        vaoExtension.bindVertexArrayOES(this.vao);
    };

    // Store information associated with an object.
    ObjectData.prototype.attachState = function(key, newState)
    {
        this.state[key] = newState;
    };

    // Retrieve information associated with an object.
    ObjectData.prototype.retrieveState = function(key)
    {
        return this.state[key];
    };
    
    // Save stack for all uniforms.
    let uniformSaveStack = [];

    me.fovY = 70.0; // A 70.0 degree field of view.
    let lookAtPoint = new Vector3(0, 0, 0);
    let lookAtUpDirection = new Vector3(0, 0, 1);
    let cameraPosition = new Vector3(0, 0, 405);
    let lightPosition = new Vector3(1, -36, 800);

    me.zMin = 1;
    me.zMax = 4000;
    
    me.lastClear = [0, 0, 0, 1];

    me.outputCanvas = baseCanvas || document.createElement("canvas");
    me.gl = me.outputCanvas.getContext("webgl");
    
    // Enable extensions.
    const vaoExtension = me.gl.getExtension("OES_vertex_array_object");
    
    if (!vaoExtension)
    {
        throw "VAO Extension not supported!";
    }

    me.backgroundCanvas = document.createElement("canvas");
    me.backgroundCtx = me.backgroundCanvas.getContext("2d");

    me.uniforms = 
    {
       "u_shine": {},
       "u_worldMatrix": {},
       "u_worldInverseTranspose": {},
       "u_viewMatrix": {},
       "u_cameraMatrix": {},

       "u_cameraPosition": {},
       "u_lightPosition": {},
       "u_mousePosition": {},
       "u_objectId": {},
       "u_fogDecay": {},
       "u_fogColor": {},
       "u_tint": {}
    };

    me.attributes =
    {
        "a_position": 3,
        "a_normal": 3,
        "a_color": 3,
        "a_texCoord": 2
    };

    const vertexShaderSource =
    `
    attribute vec4 a_position;
    attribute vec3 a_normal;
    attribute vec3 a_color;
    attribute vec2 a_texCoord;

    uniform mat4 u_worldMatrix;
    uniform mat4 u_worldInverseTranspose; // For normal calculation with stretched objects.
    uniform mat4 u_viewMatrix;
    uniform mat4 u_cameraMatrix;

    uniform vec3 u_cameraPosition;
    uniform vec3 u_lightPosition;
    uniform vec2 u_mousePosition;

    varying vec3 v_color;
    varying vec3 v_toCamera;
    varying vec3 v_toLight;
    varying vec3 v_normal;
    varying vec2 v_texCoord;
    varying vec2 v_mousePosition;

    void main()
    {
        gl_Position = u_viewMatrix * u_cameraMatrix * u_worldMatrix * a_position;

        vec4 worldPosition = u_worldMatrix * a_position;

        v_color = a_color;
        v_toLight = (vec4(u_lightPosition, 1.0) - worldPosition).xyz;
        v_toCamera = (vec4(u_cameraPosition, 1.0) - worldPosition).xyz;

        v_normal = mat3(u_worldInverseTranspose) * a_normal.xyz; // TODO: Review the math for this.

        v_texCoord = a_texCoord;
        v_mousePosition = u_mousePosition;
    }
    `;

    const fragmentShaderSource = 
    `
    precision highp float;

    uniform float u_shine;
    uniform sampler2D u_texture;
    uniform float u_objectId;
    uniform float u_fogDecay;
    uniform vec3 u_fogColor;
    uniform vec3 u_tint;

    varying vec3 v_color;
    varying vec3 v_toLight;
    varying vec3 v_toCamera;
    varying vec3 v_normal;
    varying vec2 v_texCoord;
    varying vec2 v_mousePosition;

    void main()
    {
        vec2 toMouse = gl_FragCoord.xy - v_mousePosition;

        if (toMouse.x < 3.0 && toMouse.x >= -1.0 && abs(toMouse.y) < 4.0)
        {
            gl_FragColor = vec4(v_texCoord.x, v_texCoord.y, u_objectId, 1.0);

            return;
        }
        else if (toMouse.x < -1.1 && toMouse.x > -5.0 && abs(toMouse.y) < 3.0)
        {
            gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);

            return;
        }

        vec3 resultantColor = (v_color + texture2D(u_texture, v_texCoord).xyz) / 2.0; // vec3(v_texCoord.x, 0, v_texCoord.y);

        vec3 normal = normalize(v_normal);
        vec3 toLight = normalize(v_toLight);
        vec3 toCamera = normalize(v_toCamera);
        
        vec3 halfVector = normalize(toLight + toCamera); // The vector between the light and camera.
                                                         //This vector's angle from the camera determines
                                                         //the specular lighting amount.

        float lighting = dot(normal, toLight); // By Lambert's Cosine Law.

        float specular = dot(halfVector, toCamera);

        // If specular lighting should be applied,
        //make it bright!
        if (lighting > 0.0 && specular > 0.0)
        {
            specular = pow(specular, u_shine);
        }
        else
        {
            specular = 0.0;
        }

        resultantColor += u_tint;

        resultantColor += specular;
        resultantColor *= lighting;

        float fogAmount = pow((gl_FragCoord.z + 1.0) / 2.0, u_fogDecay);

        resultantColor = resultantColor * (1.0 - fogAmount) + u_fogColor * fogAmount;

        gl_FragColor = vec4(resultantColor, 1.0);
    }
    `;

    const compileShader = (shaderSource, shaderType) =>
    {
        const shader = me.gl.createShader(shaderType);

        me.gl.shaderSource(shader, shaderSource);

        me.gl.compileShader(shader);

        // Check compile status.
        if (me.gl.getShaderParameter(shader, me.gl.COMPILE_STATUS))
        {
            return shader; // Return the shader on successful compile.
        } // On error,
        else
        {
            // Get the error message.
            const errorMessage = me.gl.getShaderInfoLog(shader);

            // Delete the shader.
            me.gl.deleteShader(shader);

            // Inform the user (or probably just the programmer
            //who is debugging this).
            throw errorMessage;
        }
    };

    const linkProgram = (vertexShader, fragmentShader) =>
    {
        const program = me.gl.createProgram();

        me.gl.attachShader(program, vertexShader);
        me.gl.attachShader(program, fragmentShader);

        me.gl.linkProgram(program); // Link the shaders into a program.

        // Check whether the linking was successful.
        if (me.gl.getProgramParameter(program, me.gl.LINK_STATUS))
        {
            return program; // The program was linked successfully.
        }
        else
        { // Otherwise, inform whoever is debugging the program (or a catch statement)
            // of the error by throwing it.
            const errorText = me.gl.getProgramInfoLog(program);

            // Remove the program (RAII).
            me.gl.deleteProgram(program);

            // Throw the error.
            throw errorText;
        }
    };

    const makeTexture = () =>
    {
        let texture = me.gl.createTexture();

        me.gl.bindTexture(me.gl.TEXTURE_2D, texture);

        // Disable mip-mapping.
        //Note that the S and T notation is from the use of
        //s, t, u, v, for x, y, z, w when using textures.
        //This is why many call texture coordinates "UVs."
        me.gl.texParameteri(me.gl.TEXTURE_2D, me.gl.TEXTURE_WRAP_S, me.gl.CLAMP_TO_EDGE); // Don't tile (x direction).
        me.gl.texParameteri(me.gl.TEXTURE_2D, me.gl.TEXTURE_WRAP_T, me.gl.CLAMP_TO_EDGE); // Y-direction.

        // Just use the nearest mip (there should only be one.
        me.gl.texParameteri(me.gl.TEXTURE_2D, me.gl.TEXTURE_MAG_FILTER, me.gl.NEAREST);
        me.gl.texParameteri(me.gl.TEXTURE_2D, me.gl.TEXTURE_MIN_FILTER, me.gl.NEAREST);
    };

    // Compile and link the program to be used
    //by the renderer.
    const makeProgram = () =>
    {
        const vertexShader = compileShader(vertexShaderSource, me.gl.VERTEX_SHADER);
        const fragmentShader = compileShader(fragmentShaderSource, me.gl.FRAGMENT_SHADER);
        
        const program = linkProgram(vertexShader, fragmentShader);

        me.program = program;

        me.gl.useProgram(program);

        return true;
    };

    // Find the locations of the uniforms
    const findUniforms = () =>
    {
        for (var uniformName in me.uniforms)
        {
            me.uniforms[uniformName] =
            {
                location: me.gl.getUniformLocation(me.program, uniformName)
            };
        }
    };

    // Update a uniform's value. Note: If the 
    //uniform does not exist, this can throw an error.
    const updateUniform = (name, newValue) =>
    {
        if (typeof name === "string") // If a map key.
        {
            me.uniforms[name].setTo(newValue);
        }
        else // If an entry in the map...
        {
            name.setTo(newValue);
        }
    };

    const setUp = () =>
    {
        var gl = me.gl;

        makeProgram();
        findUniforms();

        makeTexture();

        const handleUniform = (name, setFunction, defaultValue, transformInput) =>
        {
            transformInput = transformInput || ((input) => input);

            me.uniforms[name].setTo = (newValue) =>
            {
                setFunction.call(me, me.uniforms[name].location, transformInput(newValue));
                me.uniforms[name].value = newValue;
            };

            if (defaultValue)
            {
                me.uniforms[name].setTo(defaultValue);
            }
        };

        me.worldMatrix = new Mat44();
        me.worldMatrix.rightMulTransform = false;

        me.cameraMatrix = new Mat44();
        me.viewMatrix = new Mat44();

        me.worldMatrix.toIdentity();
        me.cameraMatrix.toIdentity();
        me.viewMatrix.toIdentity();


        handleUniform("u_shine", (location, setTo) => gl.uniform1f(location, setTo), 50000.0);

        const generalMatrixSetFunction = (location, values) => gl.uniformMatrix4fv(location, false, values); // DO transpose.
        const matrixTransformInput = (input) => input.getTranspose().getArray();
        const matrixTransformInputNoTranspose = (input) => input.getArray();

        handleUniform("u_worldMatrix", generalMatrixSetFunction,
                me.worldMatrix, matrixTransformInput);
        
        handleUniform("u_cameraMatrix", generalMatrixSetFunction,
                me.cameraMatrix, matrixTransformInput);

        handleUniform("u_viewMatrix", generalMatrixSetFunction,
                me.viewMatrix, matrixTransformInput);

        handleUniform("u_worldInverseTranspose", generalMatrixSetFunction,
                me.worldMatrix.getInverse(), matrixTransformInputNoTranspose);

        const vector3SetFunction = (location, values) => gl.uniform3fv(location, values);
        const vector2SetFunction = (location, values) => gl.uniform2fv(location, values);

        const vector3TransformInput = (values) => [values.x, values.y, values.z];
        const vector2TransformInput = (values) => [values.x, values.y];

        handleUniform("u_cameraPosition", vector3SetFunction, cameraPosition, vector3TransformInput);
        handleUniform("u_lightPosition", vector3SetFunction, lightPosition, vector3TransformInput);
        handleUniform("u_mousePosition", vector2SetFunction, new Vector3(-100, -100), vector2TransformInput); // Initially offscreen.
        handleUniform("u_objectId", (location, value) => gl.uniform1f(location, value));
        handleUniform("u_fogDecay", (location, value) => gl.uniform1f(location, value), 10000.0); // Set the default fog amount.
        
        handleUniform("u_fogColor", (location, values) =>
        {
            me.setClearColor([values[0], values[1], values[2], me.lastClear[3] || 1.0]);
            
            vector3SetFunction(location, values);
        }, new Vector3(0, 0, 0), vector3TransformInput);
        
        handleUniform("u_tint", vector3SetFunction, new Vector3(0, 0, 0), vector3TransformInput);

        gl.enable(gl.DEPTH_TEST);
        gl.enable(gl.CULL_FACE);

        gl.clearColor(0.0, 0.0, 0.0, 1.0);

        me.updateViewIfNeeded(100, 100, true);

        me.setCameraPosition(0, 0, 405);
        me.setLookAtLocation(12, 0, 10);
        

        me.updateCamera();
    };

    const resizeBackgroundCanvasIfNecessary = () =>
    {
        if (me.backgroundCanvas.width !== me.outputCanvas.width
            || me.backgroundCanvas.height !== me.outputCanvas.height)
        {
            me.backgroundCanvas.width = me.outputCanvas.width;
            me.backgroundCanvas.height = me.outputCanvas.height;

            return true;
        }

        return false;
    };

    me.registerObject = () =>
    {
        var gl = me.gl;

        // Stores data associated with the object.
        const vertexAttribsCollection = vaoExtension.createVertexArrayOES();
        vaoExtension.bindVertexArrayOES(vertexAttribsCollection);

        let specificAttributeData = {};

        const handleAttr = (name, size) =>
        {
            specificAttributeData[name] = {};

            const location = gl.getAttribLocation(me.program, name);
            const buffer = gl.createBuffer();

            specificAttributeData[name].location = location;
            specificAttributeData[name].buffer = buffer;

            // We will be using this buffer, for now.
            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);

            // Enable it.
            gl.enableVertexAttribArray(location);

            // Tell WebGL how to retrieve data from this buffer,
            //we assume it contains floats.
            gl.vertexAttribPointer(location, size, // size elements/calling.
                    gl.FLOAT,
                    false, // We're not going to normalize.
                    0, 0); // No stride and no offset.

            // We buffer the data when the client requests it.
        };

        for (var attributeName in me.attributes)
        {
            handleAttr(attributeName, me.attributes[attributeName]);
        }

        // Allow rapid switching between objects.
        return new ObjectData(vertexAttribsCollection, specificAttributeData);
    };

    // Set the tint -- a color added to the existing color of
    //an object.
    me.setTint = (newTint) =>
    {
        updateUniform(me.uniforms.u_tint, newTint);
    };
    
    // Set the shinyness of objects displayed!
    me.setShine = (newShine) =>
    {
        updateUniform(me.uniforms.u_shine, newShine);
    };

    // Set the clear and fog colors. Takes a vec3.
    me.setFogColor = (newColor) =>
    {
        updateUniform(me.uniforms.u_fogColor, newColor);
    };
    
    // Sets the clear color, but NOT the fog color.
    //Takes an array of components [r, g, b, a].
    me.setClearColor = (newColor) =>
    {
        me.gl.clearColor(newColor[0], newColor[1], newColor[2], newColor[3]);
        me.lastClear = newColor;
    };

    // Change how rapidly objects moving into the background
    //become obscured by a fog. Greater input, more sudden
    //change. Note: This depends on the maximum z.
    me.setFogDecay = (newFogDecay) =>
    {
        updateUniform(me.uniforms.u_fogDecay, newFogDecay);
    };

    me.setTexture = (image) =>
    {
        me.gl.texImage2D(me.gl.TEXTURE_2D, 0, // level
            me.gl.RGBA, // Internal format
            me.gl.RGBA, // External format
            me.gl.UNSIGNED_BYTE, // Data type
            image);
    };

    const setObjectId = (objectData) =>
    {
        updateUniform(me.uniforms.u_objectId, objectData.id);
    };

    me.setMousePosition = (position) =>
    {
        updateUniform(me.uniforms.u_mousePosition, position);
    };

    /*
        Get information about the objects interacting with
        the mouse. 
        Pre: setMousePosition was called before the last
            render.
        Post: Some information about the mouse's position
            is returned. Note that performance has been
            traded for reliability -- this method is
            not reliable.
    */
    me.getMouseAttributes = () =>
    {
        resizeBackgroundCanvasIfNecessary();

        me.display(me.backgroundCtx);

        var imageData = me.backgroundCtx.getImageData(0, 0, me.backgroundCanvas.width, me.backgroundCanvas.height);
        var data = imageData.data; // The raw data to be searched.
        var countPrior = 0;

        var result = {};

        for (var i = 0; i < data.length; i += 4)
        {
            if (data[i] <= 1 && data[i + 1] >= 254 && data[i + 2] <= 1)
            {
                countPrior ++;
            }
            else if (countPrior > 2 && data[i + 2] > 10)
            {
                result.texCoordX = data[i] / 256;
                result.texCoordY = data[i + 1] / 256;
                result.objectId = data[i + 2] / 256;

                result.selectedObject = me.retrieveObject(result.objectId);

                break;
            }
            else
            {
                countPrior --;

                countPrior = Math.max(countPrior, 0);
            }
        }

        return result;
    };

    me.setCameraPosition = function(x, y, z)
    {
        // If given a vector3, handle it.
        if (typeof x === "object")
        {
            cameraPosition.x = x.x;
            cameraPosition.y = x.y;
            cameraPosition.z = x.z;
        }
        else
        {
            cameraPosition = new Vector3(x, y, z);
        }

        updateUniform(me.uniforms.u_cameraPosition, cameraPosition);
    };

    me.setLightPosition = function(x, y, z)
    {
        if (typeof x === "object")
        {
            lightPosition.x = x.x;
            lightPosition.y = x.y;
            lightPosition.z = x.z;
        }
        else
        {
            lightPosition = new Vector3(x, y, z);
        }

        updateUniform(me.uniforms.u_lightPosition, lightPosition);
    }

    me.setLookAtLocation = function(x, y, z)
    {
        // TODO: Remove code duplication with
        //setCameraPosition.
        if (typeof x === "object")
        {
            lookAtPoint.x = x.x;
            lookAtPoint.y = x.y;
            lookAtPoint.z = x.z;
        }
        else
        {
            lookAtPoint = new Vector3(x, y, z);
        }
    };

    me.updateCamera = function()
    {
        me.cameraMatrix = Mat44Helper.createLookAtMatrix(cameraPosition, lookAtPoint, lookAtUpDirection);

        me.updateCameraUniform();
    };
    
    // Update the camera, but JUST THE UNIFORM.
    me.updateCameraUniform = () =>
    {
        updateUniform(me.uniforms.u_cameraMatrix, me.cameraMatrix);
    };
    
    // Push the state of all uniforms associated with
    //the renderer onto a stack.
    me.saveUniforms = function()
    {
        let saveEntry = {};
        
        // Put each value into the save object.
        for(var uniformName in me.uniforms)
        {
            saveEntry[uniformName] = me.uniforms[uniformName].value;
        }
        
        // Push the save object.
        uniformSaveStack.push(saveEntry);
        
        // If the uniform save stack is getting long, post a warning.
        // For now, warn at 50,000 entries.
        if (uniformSaveStack.length > 50000)
        {
            console.warn("The uniform save stack is getting long... Potential leak.");
        }
    };
    
    // Pop the last saved state containing all uniforms
    //from the relevant stack. This should be FAST and not
    //perform any unneeded updates.
    me.restoreUniforms = function()
    {
        // If we can actually pop,
        if (uniformSaveStack.length > 0)
        {
            let lastEntry = uniformSaveStack.pop();
            
            // Update every uniform.
            for (var uniformName in lastEntry)
            {
                // First, though, check whether we need to update it.
                if (me.uniforms[uniformName].value != lastEntry[uniformName])
                {
                    me.uniforms[uniformName].setTo(lastEntry[uniformName]);
                }
            }
        }
    };

    me.updateViewIfNeeded = (width, height, force) =>
    {
        var gl = me.gl;

        if (me.outputCanvas.width !== width || me.outputCanvas.height !== height || force)
        {
            me.outputCanvas.width = width || 1; // Don't go to zero.
            me.outputCanvas.height = height || 1;

            var aspect = gl.drawingBufferHeight / gl.drawingBufferWidth;
            var fovY = me.fovY / 180.0 * Math.PI;
            
            me.viewMatrix = Mat44Helper.frustumViewMatrix(aspect, fovY, me.zMin, me.zMax);
            gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);

            updateUniform(me.uniforms.u_viewMatrix, me.viewMatrix);
        }
    };

    me.setZMax = (newZMax) =>
    {
        me.zMax = newZMax;

        me.updateViewIfNeeded(me.outputCanvas.width, me.outputCanvas.height, true);
    };

    me.updateWorldMatrix = () =>
    {
        updateUniform(me.uniforms.u_worldMatrix, me.worldMatrix);
        updateUniform(me.uniforms.u_worldInverseTranspose, me.worldMatrix.getInverse());
    };

    me.render = function(objectData)
    {
        objectData.bindBuffers();
        setObjectId(objectData);

        me.gl.drawArrays(me.gl.TRIANGLES, 0, objectData.numTriangles);
    };
    
    // Get the canvas to which this renderer outputs.
    //Note: This can be dangerous if the renderer
    //is shared with other clients. Intended for use
    //with pseudo-reflections.
    me.getOutputCanvas = function()
    {
        return me.outputCanvas;
    };

    me.clear = function()
    {
        me.gl.clear(me.gl.COLOR_BUFFER_BIT | me.gl.DEPTH_BUFFER_BIT);
    };

    me.display = function(ctx2D)
    {
        ctx2D.drawImage(me.gl.canvas, 0, 0);
    };

    setUp();
}

// Define a helper object for the creation and management of rendering objects.
const RendererHelper = {};

// A dictionary containing cached renderers specific to canvases. These renderers are to be
//used for rapid rendering. For example, a background that must update as the user scrolls.
RendererHelper.rapidRenderers = {};

// Get a potentially-shared instance of a renderer.
//Consider using this instead of constructing a single renderer.
//DANGER! If the size of the requested canvas changes frequently,
//this could be slow. (TODO Time it).
RendererHelper.getRenderer = () =>
{
    if (!RendererHelper.renderer)
    {
        RendererHelper.renderer = new Renderer();
    }
    
    return RendererHelper.renderer;
};

// Get a renderer specific to a canvas.
//A canvas element must be given -- the renderer
//will use it directly (instead of writing it
//onto a background canvas first).
// If an identifier is given, it will be used to hash
//the renderer. Otherwise, all calls to getRapidRenderer
//for a given canvas will return new Renderer objects.
//Beware!
RendererHelper.getRapidRenderer = (canvas, canvasId) =>
{
    let result = (canvasId !== undefined && RendererHelper.rapidRenderers[canvasId])
                    ? RendererHelper.rapidRenderers[canvasId]
                    : new Renderer(canvas); 

    if (canvasId !== undefined && !RendererHelper.rapidRenderers[canvasId])
    {
        RendererHelper.rapidRenderers[canvasId] = canvas;
    }

    return result;
};

// Inserted file ModelHelper.js encoding='utf-8'
"use strict";

var ModelHelper = {};

/*
 Compute normals for a given set of verticies. Normals
 will be set to the average of all at the edge of each
 face.
 
 As in interfaces used to connect to WebGL, the stride
 is the number of components of verticies to be considered
  at a time. NOTE: THIS MUST BE GREATER THAN OR EQUAL TO NINE.
   If greater, only the first three components of each vertex
 will be used to compute normals (the cross product is used).
 Verticies are grouped into triangles with each vertex starting at
 CURRENT_INDEX + FLOOR(stride / 3). Please note that the stride should
 be equal to the number of components of verticies per triangle on the object.
*/
ModelHelper.computeNormals = function(verticies, tolerance, stride, offset)
{
    // Set default values.
    if (tolerance === undefined)
    {
        tolerance = 1.0;
    }
    
    stride = stride || 9;
    offset = offset || 0;
    
    // Check for out-of-bounds offset/stride.
    if (stride < 9 || stride > verticies.length)
    {
        throw "Invalid stride: " + stride + ". !(stride >= 9 && stride <= (verticies.length = " + verticies.length + ") ) is true.";
    }
    else if (offset < 0 || offset >= verticies.length)
    {
        throw "Invalid offset of " + offset + ". Offset must be >= 0 and <= verticies.length. Verticies.length is " + verticies.length;
    }
    
    // Get a 3D point from the verticies
    //array at an index. A Vector3 is 
    //used rather than a Point to allow
    //usage of subtract.
    var getPoint = function(index)
    {
        var result = new Vector3(verticies[index], verticies[index + 1], verticies[index + 2]);
        
        return result;
    };
    
    var getMapKey = function(point)
    {
        return point.asRounded(3).toString();
    };
    
    // Note the existence of a normal at a given point.
    var noteNormalExistence = function(point, normal)
    {
        // If the tolerance is one, DO NOT DO THIS.
        if (tolerance === 1.0)
        {
            return;
        }
        
        var mapKey = getMapKey(point);
        
        // If this is the first time the vertex has been recorded in the map,
        //create the array.
        if (coordinateToNormalMap[mapKey] == undefined)
        {
            coordinateToNormalMap[mapKey] = [];
        }
        
        coordinateToNormalMap[mapKey].push(normal);
    };
    
    // Get the averaged normal for a point.
    //If the dot product's absolute value is
    //greater than the tolerance, do not average.
    //NOTE: THIS MUST BE CALLED AFTER POPULATING
    //THE COORDINATETONORMALMAP.
    var getAveragedNormal = function(point, normal)
    {
        // If the tolerance is one, just return the normal.
        if (tolerance === 1.0)
        {
            return normal;
        }
        
        // Otherwise, find similar normals within |cos(dtheta)| <= tolerance.
        var mapKey = getMapKey(point);
        var surroundingNormals = coordinateToNormalMap[mapKey] || [];
        var normalsToAverage = [];
        
        for (var i = 0; i < surroundingNormals.length; i++)
        {
            if (surroundingNormals[i] !== normal && normal.dot(surroundingNormals[i]) >= tolerance)
            {
                normalsToAverage.push(surroundingNormals[i]);
            }
        }
        
        var result = normal;
        
        // Average all acceptable normals.
        //Note that division does not occur
        //until after the summation, leaving 
        //result inaccurate until normalization
        //occurs. Normalization has been added.
        for (var j = 0; j < normalsToAverage.length; j++)
        {
            result.addAndSet(normalsToAverage[j]);
        }
        
        result.normalize();
        
        return result;
    };
    
    // Compute the normal vector for a single point
    //on a triangle.
    var getNormal = function(triangleStart, considerIndexStart)
    {
        // Find the current point.
        var current = getPoint(considerIndexStart);
        
        // Find the two points.
        var triangleVertexIndex = (considerIndexStart - triangleStart) / elementsPerVertex;
        
        //console.log("Vertex: " + triangleVertexIndex);
        
        // Determine the indicies of the other points.
        var other1Index = ((triangleVertexIndex + 1) % 3) * elementsPerVertex + triangleStart;
        var other2Index = ((triangleVertexIndex + 2) % 3) * elementsPerVertex + triangleStart;
        
        // Actually access and store the points.
        var other1 = getPoint(other1Index);
        var other2 = getPoint(other2Index);
        
        // Find the vectors from the current point to the other two.
        var to1 = current.subtract(other1);
        var to2 = current.subtract(other2);
        
        // Cross to1 and to2 to find a vector perpindicular to
        //both. TODO Ensure this vector is in the correct direction.
        var normal = to1.cross(to2);
        
        // Normalize the normal.
        normal.normalize();
        
        //console.log(considerIndexStart + ", " + other1Index + ", " + other2Index 
        //        + " => (" + to1.toString() + "; " + to2.toString() + ") => " + normal.toString());
        
        // Note the normal's existance.
        noteNormalExistence(current, normal);
        
        return normal;
    };
    
    // Prepare output.
    var normals = [];
    var elementsPerVertex = Math.floor(stride / 3);
    var componentIndex = 0;
    
    // We need to be able to average the normals at each point...
    var coordinateToNormalMap = {};
    
    // Ensure we stop computation of normals before an error
    //involving array indicies occurs.
    for (var i = offset; i < verticies.length; i += stride)
    {
        for (componentIndex = 0; componentIndex < stride; componentIndex += elementsPerVertex)
        {
            normals.push(getNormal(i, componentIndex + i));
        }
    }
    
    // If tolerance is not one,
    if (tolerance !== 1.0)
    {
        var unaveragedNormals = normals;
        var averagedNormals = [];
        
        // Average normals, if necessary.
        for (var i = 0; i < unaveragedNormals.length; i++)
        {
            averagedNormals.push
            (
                getAveragedNormal
                (
                    getPoint(i * elementsPerVertex), 
                    unaveragedNormals[i]
                )
            );
        }
        
        normals = averagedNormals;
    }
    
    return normals;
};

/*
    Convert an array of Vector3 objects into a
    Float32Array with three elements per vector.
*/
ModelHelper.vectorArrayToFloat32Array = function(vectorArray)
{
    var result = [];
    
    for (var i = 0; i < vectorArray.length; i++)
    {
        result.push(vectorArray[i].x);
        result.push(vectorArray[i].y);
        result.push(vectorArray[i].z);
    }
    
    return new Float32Array(result);
};

/*
    Connect a set of points, forming verticies.
    Given points must be grouped as an array of columns
    (or rows, depending on the viewpoint) that form
    the object.
*/
ModelHelper.connectVerticies = function(verticies)
{
    var result = [];
    
    // Fix a point's location on the result.
    //Appends point to result.
    var fixPoint = function(point)
    {
        result.push(point.x);
        result.push(point.y);
        result.push(point.z);
    };
    
    var connectQuad = function(point1, point2, point3, point4)
    {
        fixPoint(point1);
        fixPoint(point3);
        fixPoint(point2);
        
        fixPoint(point2);
        fixPoint(point3);
        fixPoint(point4);
    };
    
    var previousRowIndex = verticies.length - 1;
    var j;
    
    var currentRow, previousRow;
    
    // For every row of verticies,
    for (let i = 0; i < verticies.length; i++)
    {
        currentRow = verticies[i];
        previousRow = verticies[previousRowIndex];
        
        // Connect the two rows.
        for (j = 0; j < currentRow.length - 1; j ++)
        {
            connectQuad(previousRow[j], previousRow[j + 1], currentRow[j], currentRow[j + 1]);
        }
        
        previousRowIndex = i;
    }
    
    return result;
};

/*
    Create a solid of revolution with plane-points given by silhouettePoints.
    Returns a contiguous array of floats, 3 elements per vertex.
*/
ModelHelper.silhouetteToVerticies = function(silhouettePoints, startAngle, endAngle, divisions)
{
    // Default values.
    divisions = divisions || 8;
    
    // The rotation matrix.
    var rotationMatrix = new Mat44();
    rotationMatrix.toIdentity();
    rotationMatrix.rotateY(startAngle);
    
    //console.log(rotationMatrix.toString());
    
    var deltaTheta = (endAngle - startAngle) / divisions;
    //console.log("dtheta: " + deltaTheta);
    
    
    var verticies = [];
    var currentRow = [];
    
    var i, currentPoint;
    
    for (var theta = startAngle; theta <= endAngle; theta += deltaTheta)
    {
        currentRow = [];
        
        for (i = 0; i < silhouettePoints.length; i++)
        {
            // Make a copy of the point to prevent modification of the
            //silhouette itself.
            currentPoint = new Vector3(silhouettePoints[i].x || 0, silhouettePoints[i].y || 0, silhouettePoints[i].z || 0);
            
            currentPoint.transformBy(rotationMatrix);
            
            currentRow.push(currentPoint);
        }
        
        verticies.push(currentRow);
        
        rotationMatrix.rotateY(deltaTheta);
    }
    
    let connectedResult = ModelHelper.connectVerticies(verticies);
    
    return connectedResult;
};

/*
    Extrude a silhouette.
*/
ModelHelper.extrude = function(silhouette, extrudeDirection, noCap, capResolution)
{
    var partitions = []; // Not the best variable name...
    var subCaps = [];
    var part, j;
    
    var currentPosition;
    var averagePosition = { x: 0, y: 0, z: 0 };
    
    if (!noCap)
    {
        let leftmostExtreme = 0;
        
        subCaps.push([]);
    
        for (var i = 0; i < silhouette.length; i++)
        {
            averagePosition.x += silhouette[i].x || 0;
            averagePosition.y += silhouette[i].y || 0;
            averagePosition.z += silhouette[i].z || 0;
        }
        
        averagePosition.x /= silhouette.length;
        averagePosition.y /= silhouette.length;
        averagePosition.z /= silhouette.length;
        
        averagePosition = new Vector3(averagePosition.x, averagePosition.y, averagePosition.z);
        
        if (capResolution !== 0)
        {
            var centeredCurrent;
            for (i = 0; i < silhouette.length; i++)
            {
                centeredCurrent = new Vector3(silhouette[i].x || 0, silhouette[i].y || 0, silhouette[i].z || 0);
                centeredCurrent.subtractAndSet(averagePosition);
                
                if (centeredCurrent.x < leftmostExtreme || i === 0)
                {
                    leftmostExtreme = centeredCurrent.x;
                }
                
                subCaps[0].push(centeredCurrent);
            }
            
            var newSubCap = [];
            var wantedX;
            var totalDeltaX = -leftmostExtreme;
            var multiplier = 1;
            
            // For every resolution level,
            for (i = 1; i < capResolution && leftmostExtreme < 0; i++)
            {
                wantedX = totalDeltaX / capResolution * i;
                multiplier = Math.abs(wantedX / leftmostExtreme);
                
                newSubCap = [];
                
                // For every sub-point,
                for (j = 0; j < subCaps[i - 1].length; j++)
                {
                    newSubCap.push(subCaps[i - 1][j].multiplyScalar(multiplier));
                }
                
                subCaps.push(newSubCap);
                
                leftmostExtreme *= multiplier;
            }
        }
    }
    
    for (var i = 0; i < silhouette.length; i++)
    {
        currentPosition = new Vector3(silhouette[i].x || 0, silhouette[i].y || 0, silhouette[i].z || 0);
        
        part = [];
        
        if (!noCap && capResolution === 0)
        {
            part.push(averagePosition);
        }
        else if (!noCap)
        {
            for (j = 1; j < subCaps.length; j++)
            {
                part.push(averagePosition.add(subCaps[j][i]));
            }
            
            part.push(averagePosition);
        }
        
        part.push(currentPosition);
        part.push(currentPosition.add(extrudeDirection));
        
        if (!noCap && capResolution === 0)
        {
            part.push(averagePosition.add(extrudeDirection));
        }
        else if (!noCap)
        {
            for (j = 1; j < subCaps.length; j++)
            {
                part.push(averagePosition.add(extrudeDirection).add(subCaps[j][i]));
            }
            
            part.push(averagePosition.add(extrudeDirection));
        }
        
        partitions.push(part);
    }
    
    let result = ModelHelper.connectVerticies(partitions);
    
    return result;
};

/*
    Get suitable texture coordinates for a set of given
    verticies.
*/
ModelHelper.getTexCoords = (verticies, componentsPerVertex) =>
{
    let result = [];

    if (!componentsPerVertex)
    {
        // Attempt to infer the number of components per
        //vertex.

        if (verticies.length % 3 === 0)
        {
            componentsPerVertex = 3;
        }
        else if (verticies.length % 4 === 0)
        {
            componentsPerVertex = 4;
        }
        else
        {
            componentsPerVertex = 2;
        }
    }

    // Get the contents of a vertex
    //as a Vector3.
    const getVertex = (startIndex) =>
    {
        // Find the contents of each component.
        let x = verticies[startIndex],
            y = verticies[startIndex + 1],
            z = 0; // Default to the plane for which z = 0.
        
        // If a z-component could exist, find it.
        if (componentsPerVertex >= 3)
        {
            z = verticies[startIndex + 2];
        }

        // Return a vector with the found components.
        return new Vector3(x, y, z);
    };

    const handleTriangle = (startIndex) =>
    {
        // Determine the triangle's corners.
        const corners = 
        [
            getVertex(startIndex),
            getVertex(startIndex + componentsPerVertex),
            getVertex(startIndex + componentsPerVertex * 2)
        ];

        // Turn these vectors from the origin into 
        //vectors from the first vertex.
        corners[1] = corners[1].subtract(corners[0]);
        corners[2] = corners[2].subtract(corners[0]);
        corners[0] = new Vector3(0, 0, 0);

        // Ensure that the greatest of these vectors'
        //components are being used...
        // Note that the corners were copied through
        //subtraction above, so this should be safe.
        corners[1].y = Math.max(Math.abs(corners[1].z), Math.abs(corners[1].y));
        corners[2].y = Math.max(Math.abs(corners[2].z), Math.abs(corners[2].y));
        corners[1].x = Math.max(Math.abs(corners[1].z), Math.abs(corners[1].x));
        corners[2].x = Math.max(Math.abs(corners[2].z), Math.abs(corners[2].x));

        // Make normalization work correctly.
        corners[1].z = 0;
        corners[2].z = 0;

        // Normalize these vectors.
        corners[1].normalize();
        corners[2].normalize();

        let runNext = false;

        // Absolute value all components.
        for (let i = 1; i < corners.length; i++)
        {
            corners[i].x = Math.abs(corners[i].x);
            corners[i].y = Math.abs(corners[i].y);

            // Check for zero vectors.
            if (corners[i].x < 0.3 && corners[i].y < 0.3 || runNext)
            {
                corners[i].x = 1.0 * Math.floor(i / 2);
                corners[i].y = 1.0 * Math.floor(2 / i);

                runNext = true;
            }
        }

        if (corners[1].x === corners[2].x)
        {
            corners[1].x = 1.0;
            corners[2].x = 0.5;
        }

        if (corners[1].y === corners[2].y)
        {
            corners[1].y = 0.5;
            corners[2].y = 1.0;
        }

        // Store the length of the result,
        //before adding texture-coordinates.
        const oldLength = result.length;

        // Add these segments to the result.
        result.push(0.0);//corners[0].x);
        result.push(0.0);//corners[0].y);
        result.push(corners[1].x);
        result.push(corners[1].y);
        result.push(corners[2].x);
        result.push(corners[2].y);

        // Make sure the values just added are positive.
        for (let i = result.length - 1; i > oldLength; i--)
        {
            result[i] = Math.abs(result[i]);
        }
    };

    // For now, assume we are working with triangles.
    for (let i = 0; i < verticies.length; i += componentsPerVertex * 3)
    {
        handleTriangle(i);
    }

    return result;
};

// Pre-created objects.
ModelHelper.Objects = {};

/**
 *    Registers an object from an STL ASCII file.
 * Format Ref: https://en.wikipedia.org/wiki/STL_(file_format)
 * 
 */
ModelHelper.Objects.registerFromSTL = function(key, stlText)
{
    // Check for a valid header.
    if (stlText.indexOf("solid ") !== 0)
    {
        throw "Invalid STL header.";
    }
    
    let verticies = [];
    let normals = [];
    
    let recomputeNormals = false;
    
    // Tokenizes a line.
    let tokenize = (lineContent) =>
    {
        let result = [];
        let parts = lineContent.split(" ");
        
        for (let i = 0; i < parts.length; i++)
        {
            if (parts[i].length > 0)
            {
                result.push(parts[i]);
            }
        }
        
        return result;
    };
    
    // Get a vector from an array of strings.
    //Note: All elements should be parsable floats.
    //If not, an error may occur (from parseFloat).
    //Note that the vector is assumed to have three
    //components.
    let getVector = (fromArray, startIndex) =>
    {
        let xComponent = fromArray[startIndex],
            yComponent = fromArray[startIndex + 1],
            zComponent = fromArray[startIndex + 2];
            
        let result = new Vector3(parseFloat(xComponent),
                                 parseFloat(yComponent),
                                 parseFloat(zComponent));
        
        return result;
    };
    
    let state = {};
    state.inSolid = true;
    state.inFacet = false;
    state.inFacetLoop = false;
    state.specifiedNormal = undefined;
    
    let parseLine = (lineContent, lineNumber) =>
    {
        const segments = tokenize(lineContent);
        
        if (segments.length === 0)
        {
            return;
        }
        
        let key = segments[0];
        
        if (key === "facet" && !state.inFacet)
        {
            state.inFacet = true;
            
            // Does the file specify a normal?
            if (segments.length > 4 && segments[1] === "normal")
            {
                // Get the normal.
                state.specifiedNormal = getVector(segments, 2);
            }
            else
            {
                // Otherwise, note that no
                //normal was specified.
                state.specifiedNormal = undefined;
            }
        }
        
        // Check for the beginning of a facet loop.
        if (key === "outer" && state.inFacet
                && segments.length > 1 && segments[1] == "loop")
        {
            state.inFacetLoop = true;
        }
        
        // Check for the end of a facet loop.
        if (key === "endloop")
        {
            state.inFacetLoop = false;
        }
        
        // Check for the end of a facet.
        if (key === "endfacet")
        {
            state.inFacet = false;
        }
        
        // If a vertex and in a facet loop,
        //AND we can get the next three tokens...
        if (key === "vertex" && state.inFacetLoop && segments.length > 3)
        {
            // Get the coordinates of the verticies.
            let vertex = getVector(segments, 1);
            
            verticies = verticies.concat(vertex.toArray());
            
            let newNormal = [];
            if (state.specifiedNormal)
            {
                newNormal = state.specifiedNormal.toArray();;
            }
            else
            {
                recomputeNormals = true;
            }
            
            normals = normals.concat(newNormal);
        }
    };
    
    // Parse every line.
    const lines = stlText.split("\n");
    
    for (let i = 0; i < lines.length; i++)
    {
        parseLine(lines[i], i);
    }
    
    // If recomputing normals, do so.
    if (recomputeNormals)
    {
        normals = ModelHelper.computeNormals(verticies, 0.2); // 0.2 is the tolerance for normal-
                                                              //averaging.
    }
    
    return ModelHelper.Objects.register(key, verticies, normals);
};

/**
 *     Notes the existence of a pre-generated object. For example,
 * a cube. It creates an accessible model, stored in ModelHelper.Objects.
 * If the object already exists, nothing is done.
 */
ModelHelper.Objects.register = function(key, verticies, normals, texCoords, normalTolerance,
                                        vertexColors)
{
    // Do nothing if the object already exists.
    if (ModelHelper.Objects[key])
    {
        return;
    }
    
    let newObject = {};

    newObject.privateInfo = { verticies: verticies, normals: normals, texCoords: texCoords,
                              normalTolerance: normalTolerance, vertexColors: vertexColors };

    newObject.getVerticies = () =>
    {
        return newObject.privateInfo.verticies;
    };

    newObject.getNormals = () =>
    {
        if (!normals)
        {
            newObject.privateInfo.normals = ModelHelper.computeNormals(verticies, newObject.privateInfo.normalTolerance || 0.4);
        }

        return newObject.privateInfo.normals;
    };

    newObject.getTexCoords = () =>
    {
        if (!texCoords)
        {
            newObject.privateInfo.texCoords = ModelHelper.getTexCoords(verticies, 3);
        }

        return newObject.privateInfo.texCoords;
    };
    
    newObject.getVertexColors = () =>
    {
        if (!vertexColors)
        {
            newObject.privateInfo.vertexColors = // Generate random colors.
                     JSHelper.getArrayOfRandomColors(verticies.length,
                         false, // No rounding
                         3, // Three values/color.
                         0.5, 0.6, // Min red, max red.
                         0.5, 0.6, // Minimum green, maximum green.
                         0.5, 0.6); // Min blue, max blue.
        }
        
        return newObject.privateInfo.vertexColors;
    };
    
    // A wrapper around getVerticies, getNormals, and
    //getTexCoords. Returns a single JS object
    //containing these data. Danger: May cause
    //data to autocalculate.
    newObject.getData = () =>
    {
        let result = {};
        
        result.verticies = newObject.getVerticies();
        result.texCoords = newObject.getTexCoords();
        result.normals = newObject.getNormals();
        result.vertexColors = newObject.getVertexColors();
        
        return result;
    };

    ModelHelper.Objects[key] = newObject;
};

/**
 * Get an object. ObjectKeys should be a list
 * of potential objects in order of preference.
 * If the first is not available, the second
 * will be returned.
 */
ModelHelper.Objects.get = function(...objectKeys)
{
    for (let i = 0; i < objectKeys.length; i++)
    {
        if (objectKeys[i] in ModelHelper.Objects)
        {
            return ModelHelper.Objects[objectKeys[i]];
        }
    }

    // Return a cube if no such object
    //was registered.
    return ModelHelper.Objects.Cube;
};

/**
 * Delete an object, if it exists.
 */
ModelHelper.Objects.remove = function(objectKey)
{
    if (objectKey in ModelHelper.Objects)
    {
        delete ModelHelper.Objects[objectKey];
    }
};

// Register a cube. Note that all other
//objects should be registered in a different file.
//This cube allows potential functions to work
//without extra includes (e.g. allowing
//ModelHelper.Objects.get to default to 
//a cube).
ModelHelper.Objects.register("Cube", 
[
    // Face 1
    50, 50, 0,
    50, 0, 0,
    0, 0, 0,
    
    50, 50, 0,
    0, 0, 0,
    0, 50, 0,
    
    // Face 2
    50, 0, 50,
    50, 50, 50,
    0, 50, 50,
    
    50, 0, 50,
    0, 50, 50,
    0, 0, 50,
    
    // Face 3
    0, 50, 0,
    0, 0, 0,
    0, 0, 50,
            
    0, 50, 0,
    0, 0, 50,
    0, 50, 50,
    
    // Face 4
    50, 0, 0,
    50, 50, 0,
    50, 50, 50,
    
    50, 0, 0,
    50, 50, 50,
    50, 0, 50,
    
    // Face 5
    50, 50, 50,
    50, 50, 0,
    0, 50, 0,
    
    50, 50, 50,
    0, 50, 0,
    0, 50, 50,
    
    // Face 6
    50, 0, 50,
    0, 0, 50,
    0, 0, 0,
    
    50, 0, 50,
    0, 0, 0, 
    50, 0, 0
], undefined,
(
    // Get a cube's normals!
    //Note: Copied from Objects.js
    //in the older version of this WebGL 
    //support library.
    function (verticiesCount)
    {
        var locations = [];
        var points = [];
        var j;
        
        var face = 0;

        for(var i = 0; i < verticiesCount / 2; i++)
        {
            face = i;
            
            points = 
            [
                [0, 0],
                [0, 1],
                [1, 1],
                [0, 0],
                [1, 1],
                [1, 0]
            ];
            
            for(j = 0; j < points.length; j++)
            {
                if(face === 0 || face === 2)
                {
                    locations.push(1 - points[j][0]);
                    locations.push(1 - points[j][1]);
                }
                else
                {
                    locations.push(points[j][0]);
                    locations.push(points[j][1]);
                }
            }
        }
        
        return locations;
    }
)(36));


// Inserted file DraggableElement.js encoding='utf-8'
"use strict";

/*
    Something that can be moved through pointer-interaction.
    The parameter, content, is the HTML Element on which a
    listener is placed that shows the dragElement, and calls
    onDrag(delta x, delta y, client x, client y) while the
    content is dragged.
    The trackWindowScroll parameter is a boolean. If true, 
    dx includes changes in window.scrollX and dy includes
    changes in window.scrollY.
*/
function DraggableElement(content, dragElement, onDrag, trackWindowScroll)
{
    var pointerDown = false;
    var lastX, lastY, lastClientX, lastClientY;
    this.onDrag = onDrag;
    this.onBeforeDrag = function() {};
    
    var me = this;

    var eventToPosition = (event) =>
    {
        let x, y;
        
        // If we don't have clientX, clientY (we don't know
        // the type of the given event), re-use the previous.
        // It might be that the mouse has not moved but the 
        // viewport has.
        if (event.clientX !== undefined && event.clientY !== undefined)
        {
            x = event.clientX;
            y = event.clientY;

            lastClientX = x;
            lastClientY = y;
        }
        else
        {
            x = lastClientX;
            y = lastClientY;
        }

        if (trackWindowScroll)
        {
            x += window.scrollX;
            y += window.scrollY;
        }

        return { x: x, y: y };
    };
    
    var eventStart = function(event)
    {
        event.preventDefault();
    
        pointerDown = true;
        dragElement.style.display = "block";

        const position = eventToPosition(event);

        lastX = position.x;
        lastY = position.y;
        
        me.onBeforeDrag(lastX, lastY);
    };
    
    var eventMove = function(event)
    {
        if (pointerDown)
        {
            event.preventDefault();
            
            const position = eventToPosition(event);
            var x = position.x;
            var y = position.y;
        
            var dx = x - lastX;
            var dy = y - lastY;
            
            me.onDrag(dx, dy, x, y);
            
            lastX = x;
            lastY = y;
        }
    };
    
    var eventEnd = function(event)
    {
        event.preventDefault();
    
        pointerDown = false;
        dragElement.style.display = "none";
    };

    // At the time of this writing, Safari DID NOT support
    //pointer events. TODO Due to this, when the first pointer
    //event is fired, note that other event handlers can
    //ignore their input.
    JSHelper.Events.registerPointerEvent("down", content, function(e)
    {
        eventStart(e);
        
        return true;
    });
    
    JSHelper.Events.registerPointerEvent("move", dragElement, function(e)
    {
        eventMove(e);
        
        return true;
    });
    
    JSHelper.Events.registerPointerEvent("stop", dragElement, function(e)
    {
        eventEnd(e);
        
        return true;
    });

    JSHelper.Events.registerPointerEvent("move", content, function(e)
    {
        eventMove(e);
        
        return true;
    });
    
    JSHelper.Events.registerPointerEvent("up", content, function(e)
    {
        eventEnd(e);
        
        return true;
    });

    if (trackWindowScroll)
    {
        document.addEventListener("scroll", function(e)
        {
            // Allow the browser to defer eventMoves.
            requestAnimationFrame(() => eventMove(e));
        });
    }
}



// Inserted file CloudHelper.js encoding='utf-8'
"use strict";

/**
 *  A very simple content management system for uwappdev.github.io.
 * Although it is intended to be usable for changes to page content,
 * its primary goal is for management of tools that might be exposed
 * through the website. For example, displaying a survey without a commit
 * to Github.
 */
 
const ContentManager = {};

ContentManager.URL_PAGE_SPECIFIER_START = "?="; // Use this string to requestF a specific page.
ContentManager.currentPage = null;
ContentManager.SEARCH_CHAR = "→";
ContentManager.PAGE_CHANGE_EVENT = "PAGE_CHANGED_CMS";
ContentManager.UPDATE_PAGE_NOTIFY = "PAGE_SPECIFIC_CHANGED: ";
ContentManager.PAGE_NOT_FOUND = `<h2>We couldn't find that page!</h2>
                                <p>Please, check your spelling and try
                                   again. If you believe that this 
                                   message is in error, please
                                   contact a club administrator!</p>`;

/**
 *  Display a single page. If doNotAddToHistory is set,
 * the page will not be added to the window's set of backstacked pages.
 * Use forceReload to reload a page (set to true).
 */
ContentManager.displayPage = 
async function(name, doNotAddToHistory, forceReload)
{
    // Get elements.
    let contentZone = document.querySelector("#mainData");
    
    // Animate it!
    contentZone.parentElement.classList.add("shrinkGrow");
    
    // Check: Are we already on the page?
    if (ContentManager.currentPage === name && !forceReload)
    {
        return; // No need to load it twice.
    }
    
    await PageDataHelper.awaitLoad(); // Make sure we've loaded the page.
    
    ContentManager.currentPage = name;
    
    // Default values
    name = name || PageDataHelper.defaultPage;
    
    // Set content.
    const pageContent = await PageDataHelper.getPageContent(name);
    contentZone.innerHTML = pageContent || ContentManager.PAGE_NOT_FOUND;
    
    // Did the page request a background?
    JSHelper.Notifier.notify(BACKGROUND_CHANGE_EVENT, PageDataHelper.pageBackgrounds[name]);
    
    // Cleanup animation
    setTimeout(() =>
    {
        contentZone.parentElement.classList.remove("shrinkGrow");
    }, ANIM_SHRINK_GROW_DURATION); // We assume it's safe after a ANIM_SHRINK_GROW_DURATION.
    
    // Push to backstack.
    if (window.history && !doNotAddToHistory)
    {
        const state = { pageName: name },
              title = '',
              url   = ContentManager.URL_PAGE_SPECIFIER_START + name;
              
        window.history.pushState(state, title, url);
    }
    
    // If the pages list was reloaded, reload the page!
    while (true)
    {
        let result = await JSHelper.Notifier.waitForAny(PageDataHelper.PAGES_RELOAD, 
                ContentManager.PAGE_CHANGE_EVENT, ContentManager.UPDATE_PAGE_NOTIFY + name);
        
        
        // Stop if a new page was loaded.
        if (result.event === ContentManager.PAGE_CHANGE_EVENT)
        {
            break;
        }
        
        // Otherwise, reload the current page.
        ContentManager.displayPage(name, true, true); // Don't add it to history again, force reload.
    }
};

// Load a page after a change in
//the backstack data!
ContentManager.onBackstackTransit =
function()
{
    let requestedPage = ContentManager.getURLRequestedPage() || PageDataHelper.defaultPage;
    
    ContentManager.displayPage(requestedPage,
                               true); // Don't push to back stack again.
};

/**
 * Create buttons and connect them to actions.
 */
ContentManager.initializePages = 
async function()
{
    let addedButtons = [];
    
    const createPageButton = (pageName, buttonZones, buttonPrecedence) =>
    {
        for (let i = 0; i < buttonZones.length; i++)
        {
            let newButton = 
            HTMLHelper.addButton(pageName, buttonZones[i], () =>
            {
                ContentManager.displayPage(pageName);
            });
            
            newButton.style.order = buttonPrecedence || 0;
            
            addedButtons.push(newButton);
        }
    };
    
    // Clear all page buttons that have been created.
    const clearButtons = async () =>
    {
        while (addedButtons.length > 0)
        {
            let lastButton = addedButtons.pop();
            
            // Shrink it.
            lastButton.style.filter = "opacity(100%)";
            lastButton.style.transition = "0.1s ease filter";
            
            await JSHelper.nextAnimationFrame();
            lastButton.style.filter = "opacity(0%)";
            
            await JSHelper.waitFor(100); // Wait 100ms.
            lastButton.remove(); // Delete it.
        }
    };
    
    // Load page shortcuts.
    const loadButtons = () =>
    {
        let buttonAreas = document.querySelectorAll(".navigationButtons");
        let pageName;
    
        // Create a button for every linked page.
        for (let pageName in PageDataHelper.linkedPages)
        {
            createPageButton(pageName, buttonAreas, PageDataHelper.linkedPages[pageName]);
        }
        
        // Refresh buttons on edit.
        (async () =>
        {
            await JSHelper.Notifier.waitFor(PageDataHelper.PAGE_BUTTONS_CHANGED);
            
            await clearButtons();
            loadButtons();
        })();
    };

    await PageDataHelper.awaitLoad();
    
    loadButtons();
    
    // Check the URL -- has a specific page been linked to?
    let requestedPage = ContentManager.getURLRequestedPage() || PageDataHelper.defaultPage;
    
    // Display it.
    ContentManager.displayPage(requestedPage);
};

/**
 * Get the name of the page requested by the page's address bar.
 * If no page is requested, undefined is returned.
 */
ContentManager.getURLRequestedPage = () =>
{
    const specifierIndex = location.href.indexOf(ContentManager.URL_PAGE_SPECIFIER_START);
    let requestedPage = undefined;
    
    // Find the requested page.
    if (location.href && specifierIndex > location.href.lastIndexOf("/"))
    {
        // Get the page's name.
        requestedPage = location.href.substring
        (
            specifierIndex + ContentManager.URL_PAGE_SPECIFIER_START.length
        );
    }
    
    return requestedPage;
};

/**
 * Display UI letting users edit/manage pages.
 */
ContentManager.editPages = () =>
{
    const pageEditWindow = SubWindowHelper.create(
    { 
        title: "Manage Pages",
        className: "pageManagementWindow",
        minWidth: 256,
        minHeight: 100,
        fixWindowSize: true
    });
    
    // Enable flex-boxing.
    pageEditWindow.enableFlex("row");
    
    // Create both the left and right panes.
    const leftPane = document.createElement("div");
    const rightPane = document.createElement("div");
    
    // Styling.
    leftPane.classList.add("pageListManage");
    rightPane.classList.add("pageEditManage");
    
    // Add both to the window.
    pageEditWindow.appendChild(leftPane);
    pageEditWindow.appendChild(rightPane);
    
    // Add content to panes.
    let searchInput, pageEditor;
    
    const searchPanel = document.createElement("div");
    searchPanel.classList.add("searchContainer");
    
    // Create the results display.
    const resultsDisplay = document.createElement("div");
    resultsDisplay.style.display = "flex";
    resultsDisplay.style.flexDirection = "column";
    
    let reSearch = () => {};
    let currentPage = undefined;
    
    // Manage search.
    const runSearch = async () =>
    {
        reSearch = async (queryText) =>
        {
            const results = await PageDataHelper.query(queryText);
            
            const createListItem = (pageTitle) =>
            {
                const listItem = document.createElement("div");
                listItem.setAttribute("tabIndex", 2);
                listItem.classList.add("pageListItemManage");
                
                listItem.innerText = pageTitle;
                
                listItem.addEventListener("click", () =>
                {
                    // Select it.
                    if (currentPage && currentPage.classList)
                    {
                        currentPage.classList.remove("selected");
                    }
                    
                    currentPage = listItem;
                    currentPage.classList.add("selected");
                    
                    pageEditor.editPage(pageTitle);
                });
                
                // If the item IS the currently-selected,
                //note this.
                if (pageTitle == pageEditor.getPageName())
                {
                    listItem.classList.add("selected");
                }
                
                // If the item is published, note that, too.
                if (PageDataHelper.isPublished(pageTitle))
                {
                    listItem.classList.add("published");
                    
                    listItem.setAttribute("title", "Edit published " + pageTitle);
                }
                else
                {
                    listItem.setAttribute("title", "Edit " + pageTitle);
                }
                
                resultsDisplay.appendChild(listItem);
            };
            
            // Clear the results.
            resultsDisplay.innerHTML = "";
            
            for (var i = 0; i < results.length; i++)
            {
                createListItem(results[i][0]);
            }
        };
        
        await reSearch(searchInput.value);
    };
    
    // Re-run last search on reload of pages.
    (async () =>
    {
        while (!pageEditWindow.closed)
        {
            // Wait for data refresh.
            await JSHelper.Notifier.waitFor(PageDataHelper.PAGES_RELOAD);
            
            // Re-search.
            reSearch(searchInput.value);
        }
    })();
    
    searchInput = HTMLHelper.addInput("Search Pages...", "", "text", searchPanel, undefined,
                                            runSearch);
    const searchButton = HTMLHelper.addButton(ContentManager.SEARCH_CHAR, searchPanel, runSearch);
    searchButton.setAttribute("title", "Submit search");
    
    searchInput.setAttribute("tabIndex", 2);
    
    // Add elements to panes.
    leftPane.appendChild(searchPanel);
    leftPane.appendChild(resultsDisplay);
    
    // Spacer & commands below it.
    HTMLHelper.addSpacer(leftPane);
    
    // Hide and show left pane buttons.
    let showPane = HTMLHelper.addButton("Show Pane", rightPane, () =>
    {
        leftPane.classList.remove("hidden");
        showPane.classList.add("hidden");
    });
    
    showPane.classList.add("showPane");
    showPane.classList.add("hidden");
    
    HTMLHelper.addButton("Hide Pane", leftPane, () =>
    {
        leftPane.classList.add("hidden");
        showPane.classList.remove("hidden");
    });
    
    // Display a warning if the user isn't an admin.
    (async () =>
     {
        if (!(await AuthHelper.isAdmin()))
        {
            await SubWindowHelper.alert("Danger!", "It looks like you aren't an admin. This editor probably won't work, but you can try to use it anyways.");
        }
     })();

    // Actually create the editor.
    pageEditor = PageEditor.create(rightPane);
    
    pageEditWindow.setOnCloseListener(() =>
    {
        pageEditor.close();
    });
};

/**
 * Add any global content-management controls to the page.
 * For example, a sign-in button and survey management tools.
 */
ContentManager.addCMSControls = 
async function(parent)
{
    AuthHelper.insertAuthCommands(parent);
    
    // Any windows opened by the CMS.
    let CMSWindows = [];
    
    // Wrap all content-management utilities in
    //a div.
    let cmsWrapper = document.createElement("div");
    
    cmsWrapper.style.display = "none";
    cmsWrapper.style.flexDirection = "column";
    
    // Add buttons to the CMS.
    HTMLHelper.addButton("Page Editor", cmsWrapper, () =>
    {
        ContentManager.setBladeClosed(true);
        
        ContentManager.editPages();
    });
    
    // Show the content-management system.
    const showCMS = () =>
    {
        cmsWrapper.style.display = "flex";
    };
    
    // Hide the content-management system.
    const hideCMS = () =>
    {
        cmsWrapper.style.display = "none";
    };
    
    // Add the wrapper.
    parent.appendChild(cmsWrapper);
    
    while (true)
    {
        if (!AuthHelper.isSignedIn())
        {
            await JSHelper.Notifier.waitFor(AuthHelper.SIGN_IN_EVENT);
        }
        
        showCMS();
        
        await JSHelper.Notifier.waitFor(AuthHelper.SIGN_OUT_EVENT);
        
        hideCMS();
    }
};

/**
 * Add a search bar that permits searches through page titles and content.
 */
ContentManager.addPageSearch = 
function(parent)
{
    let searchInput, searchResultsDiv; // Define elements here so they can be accessed in helper
                                    //functions.
    
    const submitSearch = async () =>
    {
        const searchText = searchInput.value;
        
        // Get search results!
        const results = await PageDataHelper.query(searchText);
        
        // Clear the results list.
        searchResultsDiv.innerHTML = "";
        
        const makePageLink = (pageTitle, relevancy) =>
        {
            HTMLHelper.addButton(pageTitle + " (+" + relevancy + ")", searchResultsDiv,
            () =>
            {
                ContentManager.toggleBlade();
                ContentManager.displayPage(pageTitle);
                
                // Clear the search input.
                searchInput.value = "";
            });
        };
        
        // Note the number of results.
        let foundText = HTMLHelper.addTextElement("Found " + results.length + " result" + 
                                                 (results.length == 1 ? '' : 's') + ".",
                                                  searchResultsDiv);
        
        // Link to each.
        for (let i = 0; i < results.length; i++)
        {
            makePageLink(results[i][0], results[i][1]);
        }
        
        // Focus the results.
        searchResultsDiv.setAttribute("tabindex", 2);
        searchResultsDiv.focus();
        
        foundText.setAttribute("tabIndex", 2);
        foundText.focus();
    };
    
    // Clear results on data refresh.
    (async () =>
    {
        while (true)
        {
            // Wait for data refresh.
            await JSHelper.Notifier.waitFor(PageDataHelper.PAGES_RELOAD);
            
            // Clear results.
            searchResultsDiv.innerHTML = "...";
        }
    })();

    searchResultsDiv = document.createElement("div"); 
    const searchDiv     = document.createElement("div");
    searchInput  = HTMLHelper.addInput("Search Pages", "", "text", 
                                            searchDiv, undefined, submitSearch);
    const searchButton = HTMLHelper.addButton(ContentManager.SEARCH_CHAR, searchDiv, submitSearch);
    searchButton.setAttribute("title", "Submit search.");
    
    searchDiv.classList.add("searchContainer");
    searchResultsDiv.classList.add("searchResults");
    
    parent.appendChild(searchResultsDiv);
    parent.appendChild(searchDiv);
};

// Show/hide the blade.
ContentManager.toggleBlade = () => {};
ContentManager.setBladeClosed = (closed) => {};

/**
 *  Connects the main menu's UI to actions, among other things, connecting its
 * logo element to a menu.
 */
ContentManager.initializeMainMenu = 
async function()
{
    let logoDisplay = document.querySelector(".navabar .logo");
    let menuBlade = document.querySelector("#mainBlade"); // Lets call them "blades" --
                                                          //I think that's what they're called.
    
    const showHideBlade = () =>
    {
        menuBlade.classList.toggle("bladeClosed");
        menuBlade.classList.toggle("bladeOpen");
        
        logoDisplay.classList.toggle("requestRotate");
    };
    
    // Click listeners for showing/hiding.
    logoDisplay.addEventListener("click", showHideBlade);
    logoDisplay.setAttribute("tabindex", 1); // Allow focusing.
    logoDisplay.setAttribute("title", "Push to access the main menu. Use as a button." + 
                                       " After opening, items should be selectable with the " +
                                       " up and down arrow keys. ");
    
    ContentManager.toggleBlade = showHideBlade;
    ContentManager.setBladeClosed = (closed) =>
    {
        if (closed)
        {
            menuBlade.classList.add("bladeClosed");
            menuBlade.classList.remove("bladeOpen");
            logoDisplay.classList.remove("requestRotate");
        }
        else
        {
            menuBlade.classList.remove("bladeClosed");
            menuBlade.classList.add("bladeOpen");
            logoDisplay.classList.add("requestRotate");
        }
    };
    
    // Add a sign-in button and a search bar.
    ContentManager.addCMSControls(menuBlade);
    HTMLHelper.addSpacer         (menuBlade);
    ContentManager.addPageSearch (menuBlade);
    
    while (true)
    {
        await JSHelper.Notifier.waitFor(AuthHelper.AUTH_MENU_USED);
        ContentManager.setBladeClosed  (true);
    }
};

// Handle all tasks related to initialization.
//Should be called by main.
ContentManager.init = () =>
{
    const me = ContentManager;
    
    me.initializePages();
    me.initializeMainMenu();
};

// Await page load, but push the request to a
//background frame to ensure JSHelper has loaded.
requestAnimationFrame(
async () =>
{
    await JSHelper.Notifier.waitFor(JSHelper.PAGE_SETUP_COMPLETE, true);
    
    // Enable backstack navigation.
    window.addEventListener("popstate", ContentManager.onBackstackTransit);
});

// Inserted file Worlds.js encoding='utf-8'





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-YMmzFjPJlvm/Qhqug7ZE3UZYDXl4sfGs/xmLIlbN/cPFV/AU5/89DOLsHIwlpQFyji5oVuWE049paRcr+RF3cQ==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-60c9b31633c996f9bf421aae83b644dd.css" />
  
    <link crossorigin="anonymous" media="all" integrity="sha512-nE04eXFjy2BsjXb0ebP8VWbZyNeZ9IUeYYega6ljSbewyx2t5uTOhbSn5ckJiM6soO/6NbmY6P1wGm+1oKoybg==" rel="stylesheet" href="https://github.githubassets.com/assets/github-9c4d38797163cb606c8d76f479b3fc55.css" />
    
    
    
    


  <meta name="viewport" content="width=device-width">
  
  <title>uwappdev.github.io/Worlds.js at 0fa8268c9e6c4a64819aa47d136ed12fafe69437 · UWAppDev/uwappdev.github.io</title>
    <meta name="description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905">

    <meta name="twitter:image:src" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="UWAppDev/uwappdev.github.io" /><meta name="twitter:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="UWAppDev/uwappdev.github.io" /><meta property="og:url" content="https://github.com/UWAppDev/uwappdev.github.io" /><meta property="og:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/46334387/ws?session=eyJ2IjoiVjMiLCJ1Ijo0NjMzNDM4NywicyI6NTQ4NzY2NDI4LCJjIjoxMDk2OTk4MjczLCJ0IjoxNTk1MTQ2MDk1fQ==--9f328394a64333c7388eb4a269f9a49cc3d57ed93840c230a07dc2087b45f1a8" data-refresh-url="/_ws">
  <link rel="sudo-modal" href="/sessions/sudo_modal">

  <meta name="request-id" content="B286:3803:1BA5DA1:28FCF93:5F13FF6C" data-pjax-transient="true" /><meta name="html-safe-nonce" content="d41d2c4f445ab4c91927d6286b7ccb84cf4aec70" data-pjax-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9VV0FwcERldi91d2FwcGRldi5naXRodWIuaW8vdHJlZS8wZmE4MjY4YzllNmM0YTY0ODE5YWE0N2QxMzZlZDEyZmFmZTY5NDM3L0xpYnMiLCJyZXF1ZXN0X2lkIjoiQjI4NjozODAzOjFCQTVEQTE6MjhGQ0Y5Mzo1RjEzRkY2QyIsInZpc2l0b3JfaWQiOiI0MjYxMjE3NTkwNjAxOTMzOTI3IiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=" data-pjax-transient="true" /><meta name="visitor-hmac" content="d5bbe62030df695786225e0b2442bc329dbac12f5932b694249548c81df8311e" data-pjax-transient="true" />

    <meta name="hovercard-subject-tag" content="repository:224055749" data-pjax-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code" data-pjax-transient="true" />

  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-ga_id" content="" class="js-octo-ga-id" /><meta name="octolytics-actor-id" content="46334387" /><meta name="octolytics-actor-login" content="personalizedrefrigerator" /><meta name="octolytics-actor-hash" content="44341c0453f95b9c20699834ff36ff8380d1ab4d5c670a2e2111abbd658d6532" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />

  




    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="e5adcf865a377eef45fe70a7f01fc9c2">

<meta class="js-ga-set" name="dimension10" content="Responsive" data-pjax-transient>

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="personalizedrefrigerator">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="NmE2ZjU5NDk3YmU5NzdmNmUzM2M3YzlmMmE4NzYyMjQwZjJhZGRjZTRlOTRjYmQyOTA2MGU3NzY4MDZiYTI2Znx7InJlbW90ZV9hZGRyZXNzIjoiNTAuNDYuMTIyLjc0IiwicmVxdWVzdF9pZCI6IkIyODY6MzgwMzoxQkE1REExOjI4RkNGOTM6NUYxM0ZGNkMiLCJ0aW1lc3RhbXAiOjE1OTUxNDYwOTUsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS">

  <meta http-equiv="x-pjax-version" content="3b2903574a46b09375530a98aad2e096">
  

      <link href="https://github.com/UWAppDev/uwappdev.github.io/commits/0fa8268c9e6c4a64819aa47d136ed12fafe69437.atom" rel="alternate" title="Recent Commits to uwappdev.github.io:0fa8268c9e6c4a64819aa47d136ed12fafe69437" type="application/atom+xml">

  <meta name="go-import" content="github.com/UWAppDev/uwappdev.github.io git https://github.com/UWAppDev/uwappdev.github.io.git">

  <meta name="octolytics-dimension-user_id" content="57975771" /><meta name="octolytics-dimension-user_login" content="UWAppDev" /><meta name="octolytics-dimension-repository_id" content="224055749" /><meta name="octolytics-dimension-repository_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="224055749" /><meta name="octolytics-dimension-repository_network_root_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
        <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
      </span>

      
      



          <header class="Header py-lg-0 js-details-container Details flex-wrap flex-lg-nowrap px-3" role="banner">
  <div class="Header-item d-none d-lg-flex">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item d-lg-none">
    <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
      <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg>
    </button>
  </div>

  <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
        <div class="header-search header-search-current js-header-search-current  flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to js-header-search-current-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="224055749" data-scoped-search-url="/UWAppDev/uwappdev.github.io/search" data-unscoped-search-url="/search" action="/UWAppDev/uwappdev.github.io/search" accept-charset="UTF-8" method="get">
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search or jump to…"
          data-unscoped-placeholder="Search or jump to…"
          data-scoped-placeholder="Search or jump to…"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to…"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" value="BXCcEsEKG7/9jhJrA+GW5XPFDOz4A4hnxIm8zblq8EZ9if2s5ZctnYUS7tox+WH3OJNaBhgnc/q8n4T+RNWOxg==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


    <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
    <a class="Header-link py-lg-3 d-block d-lg-none py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="/dashboard">
      Dashboard
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
    Pull requests
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
    Issues
</a>

    <div class="mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15">
      <a class="js-selected-navigation-item Header-link py-lg-3 d-inline-block" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="/marketplace">
        Marketplace
</a>      

    </div>

  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
    Explore
</a>


    <a class="Header-link d-block d-lg-none mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15" href="/personalizedrefrigerator">
      <img class="avatar avatar-user" src="https://avatars2.githubusercontent.com/u/46334387?s=40&amp;v=4" width="20" height="20" alt="@personalizedrefrigerator" />
      personalizedrefrigerator
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="cWe5eaH8XRrrkLG+hFTOMrjyiygKeoN1XVPneXRMl5H2O8B2ESKmEOjE7ZtwZktaApLyAMSOc9LTHz6zQM6IZQ==" />
      <button type="submit" class="Header-link mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15 d-lg-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

  </div>

  <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
    
    <a aria-label="You have no unread notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDYzMzQzODciLCJ0IjoxNTk1MTQ2MDk1fQ==--aeaac6d678959f2f59f132b91175e93583a51a6a1e97cced5e1d9e61ed0ffa42" href="/notifications">
        <span class="js-indicator-modifier mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path></svg>
</a>
  </div>


  <div class="Header-item position-relative d-none d-lg-flex">
    <details class="details-overlay details-reset">
  <summary class="Header-link"
      aria-label="Create new…"
      data-ga-click="Header, create new, icon:add">
    <svg class="octicon octicon-plus" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2a.75.75 0 01.75.75v4.5h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5h-4.5a.75.75 0 010-1.5h4.5v-4.5A.75.75 0 018 2z"></path></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="UWAppDev/uwappdev.github.io">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="/UWAppDev/uwappdev.github.io/issues/new/choose" data-ga-click="Header, create new issue" data-skip-pjax>
      New issue
    </a>


  </details-menu>
</details>

  </div>

  <div class="Header-item position-relative mr-0 d-none d-lg-flex">
    
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/personalizedrefrigerator/feature_preview/indicator_check">

  <summary class="Header-link"
    aria-label="View profile and more"
    data-ga-click="Header, show menu, icon:avatar">
    <img
  alt="@personalizedrefrigerator"
  width="20"
  height="20"
  src="https://avatars1.githubusercontent.com/u/46334387?s=60&amp;v=4"
  class="avatar avatar-user " />

      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 10px;" hidden></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2" style="width: 180px" >
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">personalizedrefrigerator</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context lh-condensed" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container rounded-1 px-2 py-1 mt-2 border"
  data-team-hovercards-enabled>
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit "
      role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:57975771,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:46334387,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;}}" data-hydro-click-hmac="50bd87e2ddd852c288fb6088efa113d09313b9acd46001f6f5c8fd51859d8185">
      <div class="d-flex flex-items-center flex-items-stretch">
        <div class="f6 lh-condensed user-status-header d-flex user-status-emoji-only-header circle">
          <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center lh-condensed-ultra v-align-bottom">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
          </div>
        </div>
        <div class="
          
           user-status-message-wrapper f6 min-width-0"
           style="line-height: 20px;" >
          <div class="css-truncate css-truncate-target width-fit text-gray-dark text-left">
              <span class="text-gray">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="details-dialog rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative flex-auto js-user-status-form" action="/users/status?circle=0&amp;compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" /><input type="hidden" name="authenticity_token" value="zbsUt+pwk2cWnWPrOtrzDYKZ/lDAaQgCzvpeeUlzyp3v4lhBpm4bhveVGjeKuOeJKkak2vB0W1rCFSxlx9sT5w==" />
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker btn-open-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon" >
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input
                  type="text"
                  autocomplete="off"
                  data-no-org-url="/autocomplete/user-suggestions"
                  data-org-url="/suggestions?mention_suggester=1"
                  data-maxlength="80"
                  class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field"
                  placeholder="What's happening?"
                  name="message"
                  value=""
                  aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden>
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">🌴</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">🤒</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">🏠</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">🎯</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
          <div class="d-inline-block f5 mr-2 pt-3 pb-2" >
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="f5 btn-link link-gray-dark border px-2 py-1 rounded-1" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2020-07-19T01:38:15-07:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2020-07-19T02:08:15-07:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2020-07-19T05:08:15-07:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2020-07-19T23:59:59-07:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2020-07-19T23:59:59-07:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:your profile" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_PROFILE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="58f592366138a98daf886ebca4c293b81ef609d9f0262c662d1e69d97d3d57fa" >Your profile</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_REPOSITORIES&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="8c4fbb63acb5a30d0c8048fcd85b7583a3b560bb4688164562758f3b5183007b" >Your repositories</a>

      <a role="menuitem"
         class="dropdown-item"
         href="/settings/organizations"
         
         data-ga-click="Header, go to organizations, text:your organizations"
         data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_ORGANIZATIONS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="d56b10e11b28601cd5d8bab7846d3f61d9c7b19856fdea4af42d6e7004fd1d5e"
         >Your organizations</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=projects" data-ga-click="Header, go to projects, text:your projects" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_PROJECTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="9300145cc58288aaace5e634b7e9970a3ea4b98de6a4b3cdceb1787f3df1baf2" >Your projects</a>


    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=stars" data-ga-click="Header, go to starred repos, text:your stars" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_STARS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="df5e30a0167500d4260988127b9e1c72c890d1058c33d57bea10c252f62c199c" >Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;YOUR_GISTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="7119ac1cb6887e775bfe9d8c163898923c8498bb2139f4e3a5972da23394af79" >Your gists</a>





    <div role="none" class="dropdown-divider"></div>
      <a role="menuitem" class="dropdown-item" href="/settings/billing" data-ga-click="Header, go to billing, text:upgrade" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;UPGRADE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="e21944e1482e1585ded0bcd543a96f1efda6b496150d29a0fbaa043f949b60fa" >Upgrade</a>
      
<div id="feature-enrollment-toggle" class="hide-sm hide-md feature-preview-details position-relative">
  <button
    type="button"
    class="dropdown-item btn-link"
    role="menuitem"
    data-feature-preview-trigger-url="/users/personalizedrefrigerator/feature_previews"
    data-feature-preview-close-details="{&quot;event_type&quot;:&quot;feature_preview.clicks.close_modal&quot;,&quot;payload&quot;:{&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}"
    data-feature-preview-close-hmac="5803e9f8645973a327fa27f7f17175bedc7165ea43ab3b6226d8d5b5b77372d4"
    data-hydro-click="{&quot;event_type&quot;:&quot;feature_preview.clicks.open_modal&quot;,&quot;payload&quot;:{&quot;link_location&quot;:&quot;user_dropdown&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}"
    data-hydro-click-hmac="0edc7e4b6766874f72c44522f5135a3b79394803f7a40045db3a7c11d87aa1b5"
  >
    Feature preview
  </button>
    <span class="feature-preview-indicator js-feature-preview-indicator" hidden></span>
</div>

    <a role="menuitem" class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;HELP&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="ec877fc7c6121d22c160095c14e926d18d6853820f944c4fae3845c4ba1b3f4b" >Help</a>
    <a role="menuitem" class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;SETTINGS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="62fa802fd66dcbb898a6501d33dc4f34dd76be4862ea21249799aff57667d1c9" >Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="YrGnvtvus2bY0T7T9GSOyV87KqcXyfk8vB9eYdACtZ7l7d6xazBIbNuFYvYAVguh5VtTj9k9CZsyU4er5ICqag==" />
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;target&quot;:&quot;SIGN_OUT&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="1560cb66fe8e5177b8fee8ee785d2313ec033c3e1b545b037568f78a6a672a1c"  role="menuitem">
        Sign out
      </button>
      <input type="text" name="required_field_0da0" hidden="hidden" class="form-control" /><input type="hidden" name="timestamp" value="1595146095647" class="form-control" /><input type="hidden" name="timestamp_secret" value="a436acb596614da3477c27ef600e3228901f6d498268e2db145fee9a423faae2" class="form-control" />
</form>  </details-menu>
</details>

  </div>

</header>

          

    </div>

  <div id="start-of-content" class="show-on-focus"></div>




    <div id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  js-flash-template-container">
  <div class=" px-2" >
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    
      <div class="js-flash-template-message"></div>

  </div>
</div>
  </template>
</div>


  

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>



  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main  >
      

  


  










  <div class="bg-gray-light pt-3 hide-full-screen mb-5">

    <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

      <div class="flex-auto min-width-0 width-fit mr-3">
        <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo text-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
  <span class="author ml-2 flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/UWAppDev/hovercard" href="/UWAppDev">UWAppDev</a>
  </span>
  <span class="mx-1 flex-self-stretch">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" href="/UWAppDev/uwappdev.github.io">uwappdev.github.io</a>
  </strong>
  
</h1>


      </div>

      <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
        <form data-remote="true" class="d-flex js-social-form js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="mA7+X0W9kO/L514bSZuJUZ3iC3O3uRiOiSW6G0ETjU5MXMftbPHbUIiSIymW+3YI6tL5mkarRwdD8z1gCaaXpA==" />      <input type="hidden" name="repository_id" value="224055749">

      <details class="details-reset details-overlay select-menu hx_rsm">
        <summary class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="eda20a1e4b192c7748a4be2265920ab5d44f9761e7140649914f9788583ea029" data-ga-click="Repository, click Watch settings, action:blob#show">          <span data-menu-button>
              <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

              Unwatch
          </span>
          <span class="dropdown-caret"></span>
</summary>        <details-menu
          class="select-menu-modal position-absolute mt-5"
          style="z-index: 99;">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-mute" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.75a.75.75 0 00-1.238-.57L3.472 5H1.75A1.75 1.75 0 000 6.75v2.5C0 10.216.784 11 1.75 11h1.723l3.289 2.82A.75.75 0 008 13.25V2.75zM4.238 6.32L6.5 4.38v7.24L4.238 9.68a.75.75 0 00-.488-.18h-2a.25.25 0 01-.25-.25v-2.5a.25.25 0 01.25-.25h2a.75.75 0 00.488-.18zm7.042-1.1a.75.75 0 10-1.06 1.06L11.94 8l-1.72 1.72a.75.75 0 101.06 1.06L13 9.06l1.72 1.72a.75.75 0 101.06-1.06L14.06 8l1.72-1.72a.75.75 0 00-1.06-1.06L13 6.94l-1.72-1.72z"></path></svg>

                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count"
          href="/UWAppDev/uwappdev.github.io/watchers"
          aria-label="2 users are watching this repository">
          2
        </a>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="/UWAppDev/uwappdev.github.io/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Zt1mXmtJ67rh8cQqH/a6o9hEZhW0lve18Reh2RRva1V40Pk0J3JBtum90HfU3JsIWOg67pKP8xbhdps8GZRBrg==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="57786cc33a44d274abd4fae4607919751c36e22779e00f4906dcfb662e1b538e" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">        <svg height="16" class="octicon octicon-star-fill" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path></svg>

        Unstar
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
           0
        </a>
</form>
    <form class="unstarred js-social-form" action="/UWAppDev/uwappdev.github.io/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="QCZb68znCNpWwSfRzFpN6jySIuAVqMo93vabJsSRdgRFv1qJF+4MjPnUhYXl6JdOQ4DflhFPiNsoGDfvS5eFfQ==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="e46a304eeeddf275bee9405c04ecd5738b66c6a8670629e88f803c7ef5663851" data-ga-click="Repository, click star button, action:blob#show; text:Star">        <svg height="16" class="octicon octicon-star" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg>

        Star
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
          <div class="float-left">
            <details class="details-reset details-overlay details-overlay-dark " >
                    <summary
                  class="btn btn-sm btn-with-count"
                  title="Fork your own copy of UWAppDev/uwappdev.github.io to your account"
                  data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="af9aeb1367ba4749d0dfde9ed8949f853e79c9079309904f2aadf391d15025e6" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
                  <svg class="octicon octicon-repo-forked" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>
                  Fork
                </summary>

  <details-dialog
    class="Box d-flex flex-column anim-fade-in fast Box--overlay"
      aria-label="Fork uwappdev.github.io"
      src="/UWAppDev/uwappdev.github.io/fork?fragment=1"
      preload
    >
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
        <svg height="16" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>

      </button>
      <h1 class="Box-title">Fork uwappdev.github.io</h1>
    </div>
      
              <div class="text-center overflow-auto">
                <include-fragment>
                  <div class="octocat-spinner my-5" aria-label="Loading..."></div>
                  <p class="f5 text-gray">If this dialog fails to load, you can visit <a href="/UWAppDev/uwappdev.github.io/fork">the fork page</a> directly.</p>
                </include-fragment>
              </div>

  </details-dialog>
</details>
          </div>

    <a href="/UWAppDev/uwappdev.github.io/network/members" class="social-count"
       aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

    </div>
    
<nav class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 bg-gray-light" aria-label="Repository" data-pjax="#js-repo-pjax-container">
  <ul class="UnderlineNav-body list-style-none ">
          <li class="d-flex">
        <a class="js-selected-navigation-item selected UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="code-tab" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
              <svg height="16" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>

            <span data-content="Code">Code</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="issues-tab" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" data-selected-links="repo_issues repo_labels repo_milestones /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
              <svg height="16" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>

            <span data-content="Issues">Issues</span>
              <span class="Counter " title="2">2</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="pull-requests-tab" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-selected-links="repo_pulls checks /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
              <svg height="16" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>

            <span data-content="Pull requests">Pull requests</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="actions-tab" data-hotkey="g w" data-ga-click="Repository, Navigation click, Actions tab" data-selected-links="repo_actions /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
              <svg height="16" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>

            <span data-content="Actions">Actions</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="projects-tab" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-selected-links="repo_projects new_repo_project repo_project /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
              <svg height="16" class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>

            <span data-content="Projects">Projects</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="security-tab" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-selected-links="security overview alerts policy token_scanning code_scanning /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
              <svg height="16" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>

            <span data-content="Security">Security</span>
              <span class="js-security-tab-count Counter " data-url="/UWAppDev/uwappdev.github.io/security/overall-count" title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="insights-tab" data-ga-click="Repository, Navigation click, Insights tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
              <svg height="16" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>

            <span data-content="Insights">Insights</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="settings-tab" data-ga-click="Repository, Navigation click, Settings tab" data-selected-links="repo_settings repo_branch_settings hooks integration_installations repo_keys_settings issue_template_editor secrets_settings key_links_settings repo_actions_settings notifications /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
              <svg height="16" class="octicon octicon-gear UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.429 1.525a6.593 6.593 0 011.142 0c.036.003.108.036.137.146l.289 1.105c.147.56.55.967.997 1.189.174.086.341.183.501.29.417.278.97.423 1.53.27l1.102-.303c.11-.03.175.016.195.046.219.31.41.641.573.989.014.031.022.11-.059.19l-.815.806c-.411.406-.562.957-.53 1.456a4.588 4.588 0 010 .582c-.032.499.119 1.05.53 1.456l.815.806c.08.08.073.159.059.19a6.494 6.494 0 01-.573.99c-.02.029-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.851.628-.998 1.189l-.289 1.105c-.029.11-.101.143-.137.146a6.613 6.613 0 01-1.142 0c-.036-.003-.108-.037-.137-.146l-.289-1.105c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.501-.29c-.417-.278-.97-.423-1.53-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.031-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.559.153 1.112.008 1.529-.27.16-.107.327-.204.5-.29.449-.222.851-.628.998-1.189l.289-1.105c.029-.11.101-.143.137-.146zM8 0c-.236 0-.47.01-.701.03-.743.065-1.29.615-1.458 1.261l-.29 1.106c-.017.066-.078.158-.211.224a5.994 5.994 0 00-.668.386c-.123.082-.233.09-.3.071L3.27 2.776c-.644-.177-1.392.02-1.82.63a7.977 7.977 0 00-.704 1.217c-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.469-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.609 1.176.806 1.82.63l1.103-.303c.066-.019.176-.011.299.071.213.143.436.272.668.386.133.066.194.158.212.224l.289 1.106c.169.646.715 1.196 1.458 1.26a8.094 8.094 0 001.402 0c.743-.064 1.29-.614 1.458-1.26l.29-1.106c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.071l1.102.302c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.891l-.814-.806c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.039-.246.088-.294l.814-.806c.475-.469.679-1.216.364-1.891a7.992 7.992 0 00-.704-1.218c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.019-.176.011-.299-.071a5.991 5.991 0 00-.668-.386c-.133-.066-.194-.158-.212-.224L10.16 1.29C9.99.645 9.444.095 8.701.031A8.094 8.094 0 008 0zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM11 8a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>

            <span data-content="Settings">Settings</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>

</ul>        <div class="position-absolute right-0 pr-3 pr-md-4 pr-lg-5 js-responsive-underlinenav-overflow" style="visibility:hidden;">
      <details class="details-overlay details-reset position-relative">
  <summary role="button">
              <div class="UnderlineNav-item mr-0 border-0">
            <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
            <span class="sr-only">More</span>
          </div>

</summary>            <details-menu class="dropdown-menu dropdown-menu-sw " role="menu">
  
            <ul>
                <li data-menu-item="code-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
                    Code
</a>                </li>
                <li data-menu-item="issues-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
                    Issues
</a>                </li>
                <li data-menu-item="pull-requests-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="actions-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
                    Actions
</a>                </li>
                <li data-menu-item="projects-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
                    Projects
</a>                </li>
                <li data-menu-item="security-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
                    Security
</a>                </li>
                <li data-menu-item="insights-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
                    Insights
</a>                </li>
                <li data-menu-item="settings-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
                    Settings
</a>                </li>
            </ul>

</details-menu>
</details>    </div>

</nav>
  </div>

<div class="container-xl clearfix new-discussion-timeline  px-3 px-md-4 px-lg-5">
  <div class="repository-content " >

    
    

  


    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js">Permalink</a>

    <!-- blob contrib key: blob_contributors:v22:ed259c0ff91e874cb6eab80c75e5f210 -->
    

    <div class="d-flex flex-items-center flex-shrink-0 pb-3 flex-wrap flex-justify-between flex-md-justify-start">
      
<details class="details-reset details-overlay mr-0 mb-0 " id="branch-select-menu">
  <summary class="btn css-truncate"
           data-hotkey="w"
           title="Switch branches or tags">
    <svg height="16" class="octicon octicon-git-branch text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path></svg>

    <span class="css-truncate-target" data-menu-button>0fa8268c9e</span>
    <span class="dropdown-caret"></span>
  </summary>

  <details-menu class="SelectMenu SelectMenu--hasFilter" src="/UWAppDev/uwappdev.github.io/refs/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js?source_action=show&amp;source_controller=blob" preload>
    <div class="SelectMenu-modal">
      <include-fragment class="SelectMenu-loading" aria-label="Menu is loading">
        <svg class="octicon octicon-octoface anim-pulse" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>
      </include-fragment>
    </div>
  </details-menu>
</details>

      <h2 id="blob-path" class="breadcrumb flex-auto min-width-0 text-normal mx-0 mx-md-3 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
        <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437"><span>uwappdev.github.io</span></a></span></span><span class="separator">/</span><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs"><span>Libs</span></a></span><span class="separator">/</span><strong class="final-path">Worlds.js</strong>
          <span class="separator">/</span><details class="details-reset details-overlay d-inline" id="jumpto-symbol-select-menu">
  <summary class="btn-link link-gray css-truncate" aria-haspopup="true" data-hotkey="r" data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_blob_definitions&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_blob_definitions&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="e8981f0afef35f60ce8e169542d90cc264eaffc5207b81e1780989ced0ba09f1">
      <svg class="octicon octicon-code" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
    <span data-menu-button>Jump to</span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="SelectMenu SelectMenu--hasFilter" role="menu">
    <div class="SelectMenu-modal">
      <header class="SelectMenu-header">
        <span class="SelectMenu-title">Code definitions</span>
        <button class="SelectMenu-closeButton" type="button" data-toggle-for="jumpto-symbol-select-menu">
          <svg aria-label="Close menu" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
        </button>
      </header>
      <div class="SelectMenu-list">
          <div class="SelectMenu-blankslate">
            <p class="mb-0 text-gray">
              No definitions found in this file.
            </p>
          </div>
        <div data-filterable-for="jumpto-symbols-filter-field" data-filterable-type="substring">
        </div>
      </div>
      <footer class="SelectMenu-footer">
        <div class="d-flex flex-justify-between">
          Code navigation not available for this commit
          <svg class="octicon octicon-dot-fill text-light-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z"></path></svg>
        </div>
      </footer>
    </div>
  </details-menu>
</details>

      </h2>
      <a href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437"
            class="js-pjax-capture-input btn mr-2 d-none d-md-block"
            data-pjax
            data-hotkey="t">
        Go to file
      </a>

      <details class="flex-self-end details-overlay details-reset position-relative" id="blob-more-options-details">
  <summary role="button">
              <span class="btn">
            <svg height="16" class="octicon octicon-kebab-horizontal" aria-label="More options" viewBox="0 0 16 16" version="1.1" width="16" role="img"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>

          </span>

</summary>            <ul class="dropdown-menu dropdown-menu-sw">
            <li class="d-block d-md-none">
              <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="fbcb9e46d542090bfae598306d27d56b2b58291f8d19963e4a75514b46af0398" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" data-pjax="true" href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437">
                <span class="flex-auto">Go to file</span>
                <span class="text-small text-gray" aria-hidden="true">T</span>
</a>            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-line-details-dialog" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to line</span>
                  <span class="text-small text-gray" aria-hidden="true">L</span>
                </span>
              </button>
            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-symbol-select-menu" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to definition</span>
                  <span class="text-small text-gray" aria-hidden="true">R</span>
                </span>
              </button>
            </li>
            <li class="dropdown-divider" role="none"></li>
            <li>
              <clipboard-copy value="Libs/Worlds.js" class="dropdown-item cursor-pointer" data-toggle-for="blob-more-options-details">
                Copy path
              </clipboard-copy>
            </li>
          </ul>

</details>    </div>



    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
      
  <div class="Box-header Box-header--blue Details js-details-container">
      <div class="d-flex flex-items-center">
        <span class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1">
          <a rel="contributor" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator"><img class="avatar avatar-user" src="https://avatars3.githubusercontent.com/u/46334387?s=48&amp;v=4" width="24" height="24" alt="@personalizedrefrigerator" /></a>
        </span>
        <div class="flex-1 d-flex flex-items-center ml-3 min-width-0">
          <div class="css-truncate css-truncate-overflow">
            <a class="text-bold link-gray-dark" rel="contributor" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator">personalizedrefrigerator</a>

              <span>
                <a data-pjax="true" title="Mid-design commit. Incomplete" class="link-gray" href="/UWAppDev/uwappdev.github.io/commit/aac71e7fbc1acf7637a544db9388c03c8f03065c">Mid-design commit. Incomplete</a>
              </span>
          </div>


          <span class="ml-2">
            <include-fragment accept="text/fragment+html" src="/UWAppDev/uwappdev.github.io/commit/aac71e7fbc1acf7637a544db9388c03c8f03065c/rollup?direction=e" class="d-inline"></include-fragment>
          </span>
        </div>
        <div class="ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end text-gray no-wrap">
          <span class="d-none d-md-inline">
            <span>Latest commit</span>
            <a class="text-small text-mono link-gray" href="/UWAppDev/uwappdev.github.io/commit/aac71e7fbc1acf7637a544db9388c03c8f03065c" data-pjax>aac71e7</a>
            <span itemprop="dateModified"><relative-time datetime="2020-01-17T00:57:59Z" class="no-wrap">Jan 16, 2020</relative-time></span>
          </span>

          <a data-pjax href="/UWAppDev/uwappdev.github.io/commits/aac71e7fbc1acf7637a544db9388c03c8f03065c/Libs/Worlds.js" class="ml-3 no-wrap link-gray-dark no-underline">
            <svg height="16" class="octicon octicon-history text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"></path></svg>

            <span class="d-none d-sm-inline">
              <strong>History</strong>
            </span>
          </a>
        </div>
      </div>

  </div>

  <div class="Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap" >
    <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark float-left mr-3" id="blob_contributors_box">
      <summary class="link-gray-dark">
        <svg height="16" class="octicon octicon-people text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg>

        <strong>1</strong>
        
        contributor
      </summary>
      <details-dialog
        class="Box Box--overlay d-flex flex-column anim-fade-in fast"
        aria-label="Users who have contributed to this file"
        src="/UWAppDev/uwappdev.github.io/contributors-list/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js" preload>
        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title">
            Users who have contributed to this file
          </h3>
        </div>
        <include-fragment class="octocat-spinner my-3" aria-label="Loading..."></include-fragment>
      </details-dialog>
    </details>
  </div>
    </div>






    <div class="Box mt-3 position-relative
      ">
      
<div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">

      333 lines (270 sloc)
      <span class="file-info-divider"></span>
    9.84 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/UWAppDev/uwappdev.github.io/raw/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js">Blame</a>
    </div>

    <div>
          <button class="btn-octicon disabled tooltipped tooltipped-nw js-remove-unless-platform"
             data-platforms="windows,mac" type="button"  disabled
             aria-label="You must be on a branch to open this file in GitHub Desktop">
              <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z"></path></svg>
          </button>

          <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-pencil" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>
          </button>
          <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-trashcan" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path></svg>
          </button>
    </div>
  </div>
</div>



      

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-s>&quot;use strict&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  A single part of a world. Each world object should</span></td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * have model data that can be rendered (something registered</span></td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * with the renderer), a method to get</span></td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * that data, and an animation request handler. By default,</span></td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * getModel is set to do THROW. It must be overridden.</span></td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * The animate method, however, does nothing by default, as</span></td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * not all objects must animate. The getTransform method,</span></td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * by default, returns this.transformMat, which, at initialization</span></td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * is set to the identity matrix.</span></td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-v>WorldObject</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>me</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>transformMat</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Mat44</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>transformMat</span><span class=pl-kos>.</span><span class=pl-en>toIdentity</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-c>// Select the identity, rather than the</span></td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-c>//zero matrix.</span></td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line">                                  </td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>textureCanvas</span> <span class=pl-c1>=</span> undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>var</span> <span class=pl-s1>registeredModel</span> <span class=pl-c1>=</span> undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// By default, throw. This method should return</span></td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//refrences to models. This should be called only once.</span></td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//Do not use this to generate dynamic models.</span></td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>getModel</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>throw</span> <span class=pl-s>&quot;WorldObject.getModel is abstract and must be implemented.&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Get the registered version of this object&#39;s model.</span></td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>getRegisteredModel</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> </td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>registeredModel</span> <span class=pl-c1>==</span> undefined<span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>registerModels</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>registeredModel</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Intended for the registration of all models with the renderer.</span></td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>registerModels</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>registeredModel</span> <span class=pl-c1>=</span> <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>registerObject</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>registeredModel</span><span class=pl-kos>.</span><span class=pl-en>fromModel</span><span class=pl-kos>(</span><span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>getModel</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>getTransform</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>transformMat</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// The animate method takes a change in time and a renderer</span></td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//The renderer provides useful context information and permits</span></td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//the registration/unregistration of objects.</span></td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>animate</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// By default, do nothing. This is to</span></td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//be overridden by clients who wish to</span></td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//animate.</span></td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>cleanup</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span> <span class=pl-c>// Cleanup from an animate/render.</span></td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Render the world object. This method is intended</span></td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//to be final, or if it is overridden, be called by</span></td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//the method that overrides it.</span></td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>render</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Save and restore the world matrix.</span></td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>save</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// TODO Test this for compliance with both left and</span></td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//right multiplication matricies (e.g. do we need to</span></td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//transpose?).</span></td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>leftMulAndSet</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>getTransform</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>preRender</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>preRender</span><span class=pl-kos>.</span><span class=pl-en>call</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>,</span> <span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Push the world matrix to WebGL.</span></td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>updateWorldMatrix</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Set textures.</span></td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>setTexture</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>textureCanvas</span> <span class=pl-c1>||</span> <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>getOutputCanvas</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Bind the object.</span></td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>model</span> <span class=pl-c1>=</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>getRegisteredModel</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Bind the objects buffers and render</span></td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//it.</span></td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>model</span><span class=pl-kos>.</span><span class=pl-en>bindBuffers</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>render</span><span class=pl-kos>(</span><span class=pl-s1>model</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>restore</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *      &quot;A world in a box.&quot;</span></td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * Construct a single, small world that can</span></td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * coexist with other such worlds. This world</span></td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * responds to ticks of the global clock and</span></td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * shares a renderer with the full container.</span></td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *</span></td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * This is ideal for small, in-page animations,</span></td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * like that of a spinning/squishable logo.</span></td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-v>WorldBox</span><span class=pl-kos>(</span><span class=pl-s1>options</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>options</span> <span class=pl-c1>=</span> <span class=pl-s1>options</span> <span class=pl-c1>||</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>WorldObject</span><span class=pl-kos>.</span><span class=pl-en>apply</span><span class=pl-kos>(</span><span class=pl-smi>this</span><span class=pl-kos>)</span><span class=pl-kos>;</span>            <span class=pl-c>// Each WorldBox is considered</span></td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line">                                        <span class=pl-c>//a box in the larger world.</span></td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>me</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>objects</span> <span class=pl-c1>=</span> <span class=pl-kos>[</span><span class=pl-kos>]</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>unregisteredObjects</span> <span class=pl-c1>=</span> <span class=pl-kos>[</span><span class=pl-kos>]</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span> <span class=pl-c1>=</span> undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span> <span class=pl-c1>=</span> <span class=pl-s1>options</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span><span class=pl-kos>;</span>   <span class=pl-c>// A renderer to override the FullWorld&#39;s default.</span></td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>outputResolution</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// When asked to register models,</span></td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//simply do that for all sub-objects.</span></td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>registerModels</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>lastObject</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>while</span> <span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>unregisteredObjects</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>0</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>lastObject</span> <span class=pl-c1>=</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>unregisteredObjects</span><span class=pl-kos>.</span><span class=pl-en>pop</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Tell the object to register itself.</span></td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>lastObject</span><span class=pl-kos>.</span><span class=pl-en>registerModels</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// The last object is now registered.</span></td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>.</span><span class=pl-en>push</span><span class=pl-kos>(</span><span class=pl-s1>lastObject</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>setDestinationCanvas</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>canvas</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span> <span class=pl-c1>=</span> <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-en>getContext</span><span class=pl-kos>(</span><span class=pl-s>&quot;2d&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Animate!</span></td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//Pass this call to all sub-objects.</span></td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>animateChildren</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Register all unregistered objects.</span></td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>registerModels</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Animate all sub-objects.</span></td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>var</span> <span class=pl-s1>i</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span><span class=pl-kos>;</span> <span class=pl-s1>i</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>.</span><span class=pl-c1>length</span><span class=pl-kos>;</span> <span class=pl-s1>i</span><span class=pl-c1>++</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>[</span><span class=pl-s1>i</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-en>animate</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>cleanupChildren</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>var</span> <span class=pl-s1>i</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span><span class=pl-kos>;</span> <span class=pl-s1>i</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>.</span><span class=pl-c1>length</span><span class=pl-kos>;</span> <span class=pl-s1>i</span><span class=pl-c1>++</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>[</span><span class=pl-s1>i</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-en>cleanup</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>animate</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>animateChildren</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>cleanup</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>cleanupChildren</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>render</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span> <span class=pl-c1>||</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>var</span> <span class=pl-s1>canvas</span> <span class=pl-c1>=</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span> ? <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span> : <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span><span class=pl-kos>.</span><span class=pl-en>getOutputCanvas</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Update the renderer&#39;s size if necessary.</span></td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>updateViewIfNeeded</span><span class=pl-kos>(</span><span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientWidth</span> * <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>outputResolution</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line">                                           <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientHeight</span> * <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>outputResolution</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line">                                           <span class=pl-c1>false</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-c>// Don&#39;t force.</span></td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Update the size of the rendering context if needed.</span></td>
      </tr>
      <tr>
        <td id="L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="LC191" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span> !== <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientWidth</span> <span class=pl-c1>||</span> <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span> !== <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientHeight</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="LC192" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="LC193" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span> <span class=pl-c1>=</span> <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientWidth</span> * <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>outputResolution</span> <span class=pl-c1>||</span> <span class=pl-c1>1</span><span class=pl-kos>;</span> <span class=pl-c>// Don&#39;t go to zero.</span></td>
      </tr>
      <tr>
        <td id="L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="LC194" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>clientHeight</span> * <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>outputResolution</span> <span class=pl-c1>||</span> <span class=pl-c1>1</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="LC195" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="LC196" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="LC197" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="LC198" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>currentObject</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="LC199" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="LC200" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>clear</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="LC201" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="LC202" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>saveUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="LC203" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>save</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="LC204" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>leftMulAndSet</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>getTransform</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="LC205" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="LC206" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// If a function has been implemented that handles </span></td>
      </tr>
      <tr>
        <td id="L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="LC207" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//the application of renderer settings, call it.</span></td>
      </tr>
      <tr>
        <td id="L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="LC208" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>preRender</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="LC209" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="LC210" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>preRender</span><span class=pl-kos>.</span><span class=pl-en>call</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>,</span> <span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="LC211" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="LC212" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="LC213" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Render every child object.</span></td>
      </tr>
      <tr>
        <td id="L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="LC214" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>let</span> <span class=pl-s1>i</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span><span class=pl-kos>;</span> <span class=pl-s1>i</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>.</span><span class=pl-c1>length</span><span class=pl-kos>;</span> <span class=pl-s1>i</span><span class=pl-c1>++</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="LC215" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="LC216" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>currentObject</span> <span class=pl-c1>=</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>objects</span><span class=pl-kos>[</span><span class=pl-s1>i</span><span class=pl-kos>]</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="LC217" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="LC218" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Sub-objects might change uniforms.</span></td>
      </tr>
      <tr>
        <td id="L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="LC219" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>//Save and restore them.</span></td>
      </tr>
      <tr>
        <td id="L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="LC220" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>saveUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="LC221" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>save</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="LC222" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="LC223" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Render using the default method only if the</span></td>
      </tr>
      <tr>
        <td id="L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="LC224" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>//rendering method hasn&#39;t been overridden or unless</span></td>
      </tr>
      <tr>
        <td id="L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="LC225" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>//it requests default rendering.</span></td>
      </tr>
      <tr>
        <td id="L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="LC226" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>onRender</span> <span class=pl-c1>||</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>onRender</span><span class=pl-kos>(</span><span class=pl-s1>currentObject</span><span class=pl-kos>,</span> <span class=pl-s1>renderer</span><span class=pl-kos>)</span> <span class=pl-c1>===</span> <span class=pl-c1>true</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="LC227" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="LC228" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>currentObject</span><span class=pl-kos>.</span><span class=pl-en>render</span><span class=pl-kos>(</span><span class=pl-s1>renderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="LC229" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="LC230" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="LC231" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>restoreUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="LC232" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>restore</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="LC233" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="LC234" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="LC235" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>restoreUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="LC236" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-c1>worldMatrix</span><span class=pl-kos>.</span><span class=pl-en>restore</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="LC237" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="LC238" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="LC239" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="LC240" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Clear the destination context.</span></td>
      </tr>
      <tr>
        <td id="L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="LC241" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>.</span><span class=pl-en>clearRect</span><span class=pl-kos>(</span><span class=pl-c1>0</span><span class=pl-kos>,</span> <span class=pl-c1>0</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="LC242" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="LC243" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="LC244" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="LC245" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Render to the destination context.</span></td>
      </tr>
      <tr>
        <td id="L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="LC246" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>renderer</span><span class=pl-kos>.</span><span class=pl-en>display</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>destinationCtx</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="LC247" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="LC248" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="LC249" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L250" class="blob-num js-line-number" data-line-number="250"></td>
        <td id="LC250" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>addObject</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>newObject</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L251" class="blob-num js-line-number" data-line-number="251"></td>
        <td id="LC251" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L252" class="blob-num js-line-number" data-line-number="252"></td>
        <td id="LC252" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>unregisteredObjects</span><span class=pl-kos>.</span><span class=pl-en>push</span><span class=pl-kos>(</span><span class=pl-s1>newObject</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L253" class="blob-num js-line-number" data-line-number="253"></td>
        <td id="LC253" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L254" class="blob-num js-line-number" data-line-number="254"></td>
        <td id="LC254" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L255" class="blob-num js-line-number" data-line-number="255"></td>
        <td id="LC255" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>registerObject</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>addObject</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L256" class="blob-num js-line-number" data-line-number="256"></td>
        <td id="LC256" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L257" class="blob-num js-line-number" data-line-number="257"></td>
        <td id="LC257" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L258" class="blob-num js-line-number" data-line-number="258"></td>
        <td id="LC258" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L259" class="blob-num js-line-number" data-line-number="259"></td>
        <td id="LC259" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  A full world is a collection of smaller, world boxes.</span></td>
      </tr>
      <tr>
        <td id="L260" class="blob-num js-line-number" data-line-number="260"></td>
        <td id="LC260" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * It manages the creation and update of such worlds.</span></td>
      </tr>
      <tr>
        <td id="L261" class="blob-num js-line-number" data-line-number="261"></td>
        <td id="LC261" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L262" class="blob-num js-line-number" data-line-number="262"></td>
        <td id="LC262" class="blob-code blob-code-inner js-file-line"><span class=pl-k>function</span> <span class=pl-v>FullWorld</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L263" class="blob-num js-line-number" data-line-number="263"></td>
        <td id="LC263" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L264" class="blob-num js-line-number" data-line-number="264"></td>
        <td id="LC264" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>me</span> <span class=pl-c1>=</span> <span class=pl-smi>this</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L265" class="blob-num js-line-number" data-line-number="265"></td>
        <td id="LC265" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L266" class="blob-num js-line-number" data-line-number="266"></td>
        <td id="LC266" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>worlds</span> <span class=pl-c1>=</span> <span class=pl-kos>[</span><span class=pl-kos>]</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L267" class="blob-num js-line-number" data-line-number="267"></td>
        <td id="LC267" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>stopLoop</span> <span class=pl-c1>=</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L268" class="blob-num js-line-number" data-line-number="268"></td>
        <td id="LC268" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span> <span class=pl-c1>=</span> <span class=pl-v>RendererHelper</span><span class=pl-kos>.</span><span class=pl-en>getRenderer</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L269" class="blob-num js-line-number" data-line-number="269"></td>
        <td id="LC269" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-c1>lastAnimateTime</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-c>// TODO Check for potential bug when</span></td>
      </tr>
      <tr>
        <td id="L270" class="blob-num js-line-number" data-line-number="270"></td>
        <td id="LC270" class="blob-code blob-code-inner js-file-line">                                                   <span class=pl-c>// animate is called for the first time -- </span></td>
      </tr>
      <tr>
        <td id="L271" class="blob-num js-line-number" data-line-number="271"></td>
        <td id="LC271" class="blob-code blob-code-inner js-file-line">                                                   <span class=pl-c>// if the user creates a FullWorld</span></td>
      </tr>
      <tr>
        <td id="L272" class="blob-num js-line-number" data-line-number="272"></td>
        <td id="LC272" class="blob-code blob-code-inner js-file-line">                                                   <span class=pl-c>// at program init, there could be a</span></td>
      </tr>
      <tr>
        <td id="L273" class="blob-num js-line-number" data-line-number="273"></td>
        <td id="LC273" class="blob-code blob-code-inner js-file-line">                                                   <span class=pl-c>// significant deltaT, messing things up. </span></td>
      </tr>
      <tr>
        <td id="L274" class="blob-num js-line-number" data-line-number="274"></td>
        <td id="LC274" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L275" class="blob-num js-line-number" data-line-number="275"></td>
        <td id="LC275" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>registerWorld</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>world</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L276" class="blob-num js-line-number" data-line-number="276"></td>
        <td id="LC276" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L277" class="blob-num js-line-number" data-line-number="277"></td>
        <td id="LC277" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Add the world.</span></td>
      </tr>
      <tr>
        <td id="L278" class="blob-num js-line-number" data-line-number="278"></td>
        <td id="LC278" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>worlds</span><span class=pl-kos>.</span><span class=pl-en>push</span><span class=pl-kos>(</span><span class=pl-s1>world</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L279" class="blob-num js-line-number" data-line-number="279"></td>
        <td id="LC279" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L280" class="blob-num js-line-number" data-line-number="280"></td>
        <td id="LC280" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L281" class="blob-num js-line-number" data-line-number="281"></td>
        <td id="LC281" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>updateWorld</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-s1>world</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L282" class="blob-num js-line-number" data-line-number="282"></td>
        <td id="LC282" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L283" class="blob-num js-line-number" data-line-number="283"></td>
        <td id="LC283" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>worldRenderer</span> <span class=pl-c1>=</span> <span class=pl-s1>world</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span> <span class=pl-c1>||</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>renderer</span><span class=pl-kos>;</span> <span class=pl-c>// Use the world&#39;s renderer,</span></td>
      </tr>
      <tr>
        <td id="L284" class="blob-num js-line-number" data-line-number="284"></td>
        <td id="LC284" class="blob-code blob-code-inner js-file-line">                                                           <span class=pl-c>//if it has one.</span></td>
      </tr>
      <tr>
        <td id="L285" class="blob-num js-line-number" data-line-number="285"></td>
        <td id="LC285" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L286" class="blob-num js-line-number" data-line-number="286"></td>
        <td id="LC286" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>worldRenderer</span><span class=pl-kos>.</span><span class=pl-en>saveUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L287" class="blob-num js-line-number" data-line-number="287"></td>
        <td id="LC287" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L288" class="blob-num js-line-number" data-line-number="288"></td>
        <td id="LC288" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>world</span><span class=pl-kos>.</span><span class=pl-en>animate</span><span class=pl-kos>(</span><span class=pl-s1>worldRenderer</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L289" class="blob-num js-line-number" data-line-number="289"></td>
        <td id="LC289" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>world</span><span class=pl-kos>.</span><span class=pl-en>render</span><span class=pl-kos>(</span><span class=pl-s1>worldRenderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L290" class="blob-num js-line-number" data-line-number="290"></td>
        <td id="LC290" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>world</span><span class=pl-kos>.</span><span class=pl-en>cleanup</span><span class=pl-kos>(</span><span class=pl-s1>worldRenderer</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L291" class="blob-num js-line-number" data-line-number="291"></td>
        <td id="LC291" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L292" class="blob-num js-line-number" data-line-number="292"></td>
        <td id="LC292" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>worldRenderer</span><span class=pl-kos>.</span><span class=pl-en>restoreUniforms</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L293" class="blob-num js-line-number" data-line-number="293"></td>
        <td id="LC293" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L294" class="blob-num js-line-number" data-line-number="294"></td>
        <td id="LC294" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L295" class="blob-num js-line-number" data-line-number="295"></td>
        <td id="LC295" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>loopOnce</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L296" class="blob-num js-line-number" data-line-number="296"></td>
        <td id="LC296" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L297" class="blob-num js-line-number" data-line-number="297"></td>
        <td id="LC297" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>nowTime</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L298" class="blob-num js-line-number" data-line-number="298"></td>
        <td id="LC298" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>deltaT</span> <span class=pl-c1>=</span> <span class=pl-s1>nowTime</span> <span class=pl-c1>-</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>lastAnimateTime</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L299" class="blob-num js-line-number" data-line-number="299"></td>
        <td id="LC299" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L300" class="blob-num js-line-number" data-line-number="300"></td>
        <td id="LC300" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Animate and render.</span></td>
      </tr>
      <tr>
        <td id="L301" class="blob-num js-line-number" data-line-number="301"></td>
        <td id="LC301" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>let</span> <span class=pl-s1>i</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span><span class=pl-kos>;</span> <span class=pl-s1>i</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>worlds</span><span class=pl-kos>.</span><span class=pl-c1>length</span><span class=pl-kos>;</span> <span class=pl-s1>i</span><span class=pl-c1>++</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L302" class="blob-num js-line-number" data-line-number="302"></td>
        <td id="LC302" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L303" class="blob-num js-line-number" data-line-number="303"></td>
        <td id="LC303" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>updateWorld</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>worlds</span><span class=pl-kos>[</span><span class=pl-s1>i</span><span class=pl-kos>]</span><span class=pl-kos>,</span> <span class=pl-s1>deltaT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L304" class="blob-num js-line-number" data-line-number="304"></td>
        <td id="LC304" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L305" class="blob-num js-line-number" data-line-number="305"></td>
        <td id="LC305" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L306" class="blob-num js-line-number" data-line-number="306"></td>
        <td id="LC306" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>lastAnimateTime</span> <span class=pl-c1>=</span> <span class=pl-s1>nowTime</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L307" class="blob-num js-line-number" data-line-number="307"></td>
        <td id="LC307" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L308" class="blob-num js-line-number" data-line-number="308"></td>
        <td id="LC308" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L309" class="blob-num js-line-number" data-line-number="309"></td>
        <td id="LC309" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>loop</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L310" class="blob-num js-line-number" data-line-number="310"></td>
        <td id="LC310" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L311" class="blob-num js-line-number" data-line-number="311"></td>
        <td id="LC311" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// If not to stop looping,</span></td>
      </tr>
      <tr>
        <td id="L312" class="blob-num js-line-number" data-line-number="312"></td>
        <td id="LC312" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>stopLoop</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L313" class="blob-num js-line-number" data-line-number="313"></td>
        <td id="LC313" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L314" class="blob-num js-line-number" data-line-number="314"></td>
        <td id="LC314" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-en>loopOnce</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L315" class="blob-num js-line-number" data-line-number="315"></td>
        <td id="LC315" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L316" class="blob-num js-line-number" data-line-number="316"></td>
        <td id="LC316" class="blob-code blob-code-inner js-file-line">            <span class=pl-en>requestAnimationFrame</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L317" class="blob-num js-line-number" data-line-number="317"></td>
        <td id="LC317" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L318" class="blob-num js-line-number" data-line-number="318"></td>
        <td id="LC318" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>me</span><span class=pl-kos>.</span><span class=pl-c1>loop</span><span class=pl-kos>.</span><span class=pl-en>call</span><span class=pl-kos>(</span><span class=pl-s1>me</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L319" class="blob-num js-line-number" data-line-number="319"></td>
        <td id="LC319" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L320" class="blob-num js-line-number" data-line-number="320"></td>
        <td id="LC320" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span> <span class=pl-c>// Otherwise, we&#39;ve stopped the loop.</span></td>
      </tr>
      <tr>
        <td id="L321" class="blob-num js-line-number" data-line-number="321"></td>
        <td id="LC321" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L322" class="blob-num js-line-number" data-line-number="322"></td>
        <td id="LC322" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L323" class="blob-num js-line-number" data-line-number="323"></td>
        <td id="LC323" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>stopLoop</span> <span class=pl-c1>=</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L324" class="blob-num js-line-number" data-line-number="324"></td>
        <td id="LC324" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L325" class="blob-num js-line-number" data-line-number="325"></td>
        <td id="LC325" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L326" class="blob-num js-line-number" data-line-number="326"></td>
        <td id="LC326" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L327" class="blob-num js-line-number" data-line-number="327"></td>
        <td id="LC327" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Notes that we should stop looping.</span></td>
      </tr>
      <tr>
        <td id="L328" class="blob-num js-line-number" data-line-number="328"></td>
        <td id="LC328" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>this</span><span class=pl-kos>.</span><span class=pl-en>cancelLoop</span> <span class=pl-c1>=</span> <span class=pl-k>function</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L329" class="blob-num js-line-number" data-line-number="329"></td>
        <td id="LC329" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L330" class="blob-num js-line-number" data-line-number="330"></td>
        <td id="LC330" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>stopLoop</span> <span class=pl-c1>=</span> <span class=pl-c1>true</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L331" class="blob-num js-line-number" data-line-number="331"></td>
        <td id="LC331" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L332" class="blob-num js-line-number" data-line-number="332"></td>
        <td id="LC332" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span></td>
      </tr>
</table>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1" aria-label="Inline file action toolbar">
      <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
    </summary>
    <details-menu>
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2" style="width:185px">
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;">
            Copy lines
          </clipboard-copy>
        </li>
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;">
            Copy permalink
          </clipboard-copy>
        </li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/UWAppDev/uwappdev.github.io/issues/new">Reference in new issue</a></li>
      </ul>
    </details-menu>
  </details>

  </div>

    </div>

  


  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>

    <div class="Popover anim-scale-in js-tagsearch-popover"
     hidden
     data-tagsearch-url="/UWAppDev/uwappdev.github.io/find-definition"
     data-tagsearch-ref="0fa8268c9e6c4a64819aa47d136ed12fafe69437"
     data-tagsearch-path="Libs/Worlds.js"
     data-tagsearch-lang="JavaScript"
     data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_symbol&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_symbol&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/Worlds.js&quot;,&quot;user_id&quot;:46334387}}"
     data-hydro-click-hmac="e706985a01e3b72a2eced88b21fa5f05162f891588e6975f22af5224530912aa">
  <div class="Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box box-shadow-large">
    <div class="TagsearchPopover-content js-tagsearch-popover-content overflow-auto" style="will-change:transform;">
    </div>
  </div>
</div>




  </div>
</div>

    </main>
  </div>
  

  </div>

        
<div class="footer container-xl width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">&copy; 2020 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>

    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    <script crossorigin="anonymous" async="async" integrity="sha512-bn/3rKJzBl2H64K38R8KaVcT26vKK7BJQC59lwYc+9fjlHzmy0fwh+hzBtsgTdhIi13dxjzNKWhdSN8WTM9qUw==" type="application/javascript" id="js-conditional-compat" data-src="https://github.githubassets.com/assets/compat-bootstrap-6e7ff7ac.js"></script>
    <script crossorigin="anonymous" integrity="sha512-66iSSZrIoQctMJb6USLgAUBxXV82p3JQTUWGIwN/klsywNeBXy59fW5kqtQPbKTQJYtAdHbsiAJzOoY7zgj/Uw==" type="application/javascript" src="https://github.githubassets.com/assets/environment-bootstrap-eba89249.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-DOd7qGW6QV+ebX8GXvsADOaVYxoAPfrr1hnvYJ7EZwX3OxWqPdFvyLdjbV3zwA4eW3H3EmjggGjStE5UE285vA==" type="application/javascript" src="https://github.githubassets.com/assets/vendor-0ce77ba8.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-co+zOTSpzxx6JoM35lmjAiwoxIHgfLg05wD7HYFQeDAahWFam5U/aYNFG4PEy1aJvL6IcJDcp3qcglZJXcG/hg==" type="application/javascript" src="https://github.githubassets.com/assets/frameworks-728fb339.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-+lymvNF/kkbWyNxJVHK+0ianQbVggsfZ3inLiuzugkLG9qX/qXLs/vaGgvClMudhnKA1tJkXWJgnGhN+LH+fyw==" type="application/javascript" src="https://github.githubassets.com/assets/github-bootstrap-fa5ca6bc.js"></script>
    
      <script crossorigin="anonymous" async="async" integrity="sha512-R96MM8s0Y6IohqxZNKDeymadVcVg1KjV6E71KYykaisTYDPGpONjop8kGyNY5DSOJEsFp3737xpcjEo1a333WQ==" type="application/javascript" data-module-id="./Sortable.js" data-src="https://github.githubassets.com/assets/Sortable-47de8c33.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-4GcSWGoe36+BoWho4gtJcByZe8j43w+lt2/PDe3rmBxRVSgD29YipDwuIywe8fvOd2b2CszBqaPGxSznUtE3Xg==" type="application/javascript" data-module-id="./drag-drop.js" data-src="https://github.githubassets.com/assets/drag-drop-e0671258.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-2k8dDHk0yt52uKvOvgc9cwOXOeJhxBfVP5kPS2BrCdytDmtEIJ2yone26vFENAyk1a2aFQ7KDgEevRQafuAf8A==" type="application/javascript" data-module-id="./gist-vendor.js" data-src="https://github.githubassets.com/assets/gist-vendor-da4f1d0c.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-Bc7fK3x3D97t//yKXJFTcKAZWc+DoBkyOGeSrGKN6K1s+A5rkUmH7M+HuvXOQEd+5pBqcB/LKYTbItFp7J4mjg==" type="application/javascript" data-module-id="./randomColor.js" data-src="https://github.githubassets.com/assets/randomColor-05cedf2b.js"></script>
    
    
  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>


  </body>
</html>


// Inserted file AuthHelper.js encoding='utf-8'





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-YMmzFjPJlvm/Qhqug7ZE3UZYDXl4sfGs/xmLIlbN/cPFV/AU5/89DOLsHIwlpQFyji5oVuWE049paRcr+RF3cQ==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-60c9b31633c996f9bf421aae83b644dd.css" />
  
    <link crossorigin="anonymous" media="all" integrity="sha512-nE04eXFjy2BsjXb0ebP8VWbZyNeZ9IUeYYega6ljSbewyx2t5uTOhbSn5ckJiM6soO/6NbmY6P1wGm+1oKoybg==" rel="stylesheet" href="https://github.githubassets.com/assets/github-9c4d38797163cb606c8d76f479b3fc55.css" />
    
    
    
    


  <meta name="viewport" content="width=device-width">
  
  <title>uwappdev.github.io/AuthHelper.js at 0fa8268c9e6c4a64819aa47d136ed12fafe69437 · UWAppDev/uwappdev.github.io</title>
    <meta name="description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905">

    <meta name="twitter:image:src" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="UWAppDev/uwappdev.github.io" /><meta name="twitter:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="UWAppDev/uwappdev.github.io" /><meta property="og:url" content="https://github.com/UWAppDev/uwappdev.github.io" /><meta property="og:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/46334387/ws?session=eyJ2IjoiVjMiLCJ1Ijo0NjMzNDM4NywicyI6NTQ4NzY2NDI4LCJjIjoxNDI3NDYyODEzLCJ0IjoxNTk1MTQxODIxfQ==--5fc43e060a98fd700fc752e3a7842aa0c6f01193947ca6104cf8b05bd51dcb3d" data-refresh-url="/_ws">
  <link rel="sudo-modal" href="/sessions/sudo_modal">

  <meta name="request-id" content="986E:7B43:20A0A1C:2F9519E:5F13EEB9" data-pjax-transient="true" /><meta name="html-safe-nonce" content="d41d2c4f445ab4c91927d6286b7ccb84cf4aec70" data-pjax-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9VV0FwcERldi91d2FwcGRldi5naXRodWIuaW8vdHJlZS8wZmE4MjY4YzllNmM0YTY0ODE5YWE0N2QxMzZlZDEyZmFmZTY5NDM3L0xpYnMiLCJyZXF1ZXN0X2lkIjoiOTg2RTo3QjQzOjIwQTBBMUM6MkY5NTE5RTo1RjEzRUVCOSIsInZpc2l0b3JfaWQiOiI0MjYxMjE3NTkwNjAxOTMzOTI3IiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=" data-pjax-transient="true" /><meta name="visitor-hmac" content="64a7ea6c108135f18871234a561bb22968bd1454e4e9a48dbeb3f0254286edaa" data-pjax-transient="true" />

    <meta name="hovercard-subject-tag" content="repository:224055749" data-pjax-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code" data-pjax-transient="true" />

  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-ga_id" content="" class="js-octo-ga-id" /><meta name="octolytics-actor-id" content="46334387" /><meta name="octolytics-actor-login" content="personalizedrefrigerator" /><meta name="octolytics-actor-hash" content="44341c0453f95b9c20699834ff36ff8380d1ab4d5c670a2e2111abbd658d6532" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />

  




    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="e5adcf865a377eef45fe70a7f01fc9c2">

<meta class="js-ga-set" name="dimension10" content="Responsive" data-pjax-transient>

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="personalizedrefrigerator">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="YzQ2OGI0ZjEwMGNmY2UwZDMyZDU3MzQ4NmI5NDA4M2U1YjUwNmQ2Njk3ODEyYjRlZjE3ZjFmM2IyMzYwNTU0N3x7InJlbW90ZV9hZGRyZXNzIjoiNTAuNDYuMTIyLjc0IiwicmVxdWVzdF9pZCI6Ijk4NkU6N0I0MzoyMEEwQTFDOjJGOTUxOUU6NUYxM0VFQjkiLCJ0aW1lc3RhbXAiOjE1OTUxNDE4MjEsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS">

  <meta http-equiv="x-pjax-version" content="3b2903574a46b09375530a98aad2e096">
  

      <link href="https://github.com/UWAppDev/uwappdev.github.io/commits/0fa8268c9e6c4a64819aa47d136ed12fafe69437.atom" rel="alternate" title="Recent Commits to uwappdev.github.io:0fa8268c9e6c4a64819aa47d136ed12fafe69437" type="application/atom+xml">

  <meta name="go-import" content="github.com/UWAppDev/uwappdev.github.io git https://github.com/UWAppDev/uwappdev.github.io.git">

  <meta name="octolytics-dimension-user_id" content="57975771" /><meta name="octolytics-dimension-user_login" content="UWAppDev" /><meta name="octolytics-dimension-repository_id" content="224055749" /><meta name="octolytics-dimension-repository_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="224055749" /><meta name="octolytics-dimension-repository_network_root_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
        <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
      </span>

      
      



          <header class="Header py-lg-0 js-details-container Details flex-wrap flex-lg-nowrap px-3" role="banner">
  <div class="Header-item d-none d-lg-flex">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item d-lg-none">
    <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
      <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg>
    </button>
  </div>

  <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
        <div class="header-search header-search-current js-header-search-current  flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to js-header-search-current-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="224055749" data-scoped-search-url="/UWAppDev/uwappdev.github.io/search" data-unscoped-search-url="/search" action="/UWAppDev/uwappdev.github.io/search" accept-charset="UTF-8" method="get">
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search or jump to…"
          data-unscoped-placeholder="Search or jump to…"
          data-scoped-placeholder="Search or jump to…"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to…"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" value="gdNRjRVO7jeDgizvzMQ2fHmaDfQYNVmpEv2VROcNz6b5KjAzMdPYFfse0F7+3MFuMsxbHvgRojRq6613GrKxJg==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


    <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
    <a class="Header-link py-lg-3 d-block d-lg-none py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="/dashboard">
      Dashboard
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
    Pull requests
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
    Issues
</a>

    <div class="mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15">
      <a class="js-selected-navigation-item Header-link py-lg-3 d-inline-block" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="/marketplace">
        Marketplace
</a>      

    </div>

  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
    Explore
</a>


    <a class="Header-link d-block d-lg-none mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15" href="/personalizedrefrigerator">
      <img class="avatar avatar-user" src="https://avatars2.githubusercontent.com/u/46334387?s=40&amp;v=4" width="20" height="20" alt="@personalizedrefrigerator" />
      personalizedrefrigerator
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="QyThq+XFZP2O5zRId/rYu6xWFEDmE2fOukSiLoKpeVHEeJikVRuf942zaG2DyF3TFjZtaCjnl2k0CHvktitmpQ==" />
      <button type="submit" class="Header-link mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15 d-lg-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

  </div>

  <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
    
    <a aria-label="You have no unread notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDYzMzQzODciLCJ0IjoxNTk1MTQxODIxfQ==--aa529a16ed2186a142e3fabf1d1a1a575e473ef182f8e071b610323ff8fada54" href="/notifications">
        <span class="js-indicator-modifier mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path></svg>
</a>
  </div>


  <div class="Header-item position-relative d-none d-lg-flex">
    <details class="details-overlay details-reset">
  <summary class="Header-link"
      aria-label="Create new…"
      data-ga-click="Header, create new, icon:add">
    <svg class="octicon octicon-plus" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2a.75.75 0 01.75.75v4.5h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5h-4.5a.75.75 0 010-1.5h4.5v-4.5A.75.75 0 018 2z"></path></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="UWAppDev/uwappdev.github.io">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="/UWAppDev/uwappdev.github.io/issues/new/choose" data-ga-click="Header, create new issue" data-skip-pjax>
      New issue
    </a>


  </details-menu>
</details>

  </div>

  <div class="Header-item position-relative mr-0 d-none d-lg-flex">
    
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/personalizedrefrigerator/feature_preview/indicator_check">

  <summary class="Header-link"
    aria-label="View profile and more"
    data-ga-click="Header, show menu, icon:avatar">
    <img
  alt="@personalizedrefrigerator"
  width="20"
  height="20"
  src="https://avatars1.githubusercontent.com/u/46334387?s=60&amp;v=4"
  class="avatar avatar-user " />

      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 10px;" hidden></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2" style="width: 180px" >
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">personalizedrefrigerator</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context lh-condensed" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container rounded-1 px-2 py-1 mt-2 border"
  data-team-hovercards-enabled>
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit "
      role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:57975771,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:46334387,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;}}" data-hydro-click-hmac="1877cd5ddfec94fd885013450e64778c7ca9f76061a4ade4483244b9d3f68b5a">
      <div class="d-flex flex-items-center flex-items-stretch">
        <div class="f6 lh-condensed user-status-header d-flex user-status-emoji-only-header circle">
          <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center lh-condensed-ultra v-align-bottom">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
          </div>
        </div>
        <div class="
          
           user-status-message-wrapper f6 min-width-0"
           style="line-height: 20px;" >
          <div class="css-truncate css-truncate-target width-fit text-gray-dark text-left">
              <span class="text-gray">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="details-dialog rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative flex-auto js-user-status-form" action="/users/status?circle=0&amp;compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" /><input type="hidden" name="authenticity_token" value="kArbgYsO2kByPii0cpy14B0YcEPratWWY+UQLZchRN+yU5d3xxBSoZM2UWjC/qFktccqydt3hs5vCmIxGYmdpQ==" />
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker btn-open-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon" >
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input
                  type="text"
                  autocomplete="off"
                  data-no-org-url="/autocomplete/user-suggestions"
                  data-org-url="/suggestions?mention_suggester=1"
                  data-maxlength="80"
                  class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field"
                  placeholder="What's happening?"
                  name="message"
                  value=""
                  aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden>
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">🌴</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">🤒</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">🏠</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">🎯</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
          <div class="d-inline-block f5 mr-2 pt-3 pb-2" >
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="f5 btn-link link-gray-dark border px-2 py-1 rounded-1" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2020-07-19T00:27:01-07:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2020-07-19T00:57:01-07:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2020-07-19T03:57:01-07:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2020-07-18T23:59:59-07:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2020-07-19T23:59:59-07:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:your profile" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_PROFILE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="8c3ef003956ab90383f33b922a24be9122894c25030480eaa135fe02cbaa02fe" >Your profile</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_REPOSITORIES&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="944554a1cf68f0502267f160acc0767ada852b93ae9469843db85b9497eee1c8" >Your repositories</a>

      <a role="menuitem"
         class="dropdown-item"
         href="/settings/organizations"
         
         data-ga-click="Header, go to organizations, text:your organizations"
         data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_ORGANIZATIONS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="7c503832cc5df8c717ea99594cffb2fbf710ad6baf71beca49cb39289436ac4f"
         >Your organizations</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=projects" data-ga-click="Header, go to projects, text:your projects" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_PROJECTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="2a2175207cfb2eddd1f96ceae9f48206a643e59156e2f991fdfc135c3e058087" >Your projects</a>


    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=stars" data-ga-click="Header, go to starred repos, text:your stars" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_STARS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="696a9eae481f5847a48ed7a652f89750ebd9425ba2d43afc0d7bdab3f84cb88d" >Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;YOUR_GISTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="e90a6ba7007ece5a0f7b513bf7fa8c4bc8cd2a449c112e8790abbeefc4cd17cc" >Your gists</a>





    <div role="none" class="dropdown-divider"></div>
      <a role="menuitem" class="dropdown-item" href="/settings/billing" data-ga-click="Header, go to billing, text:upgrade" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;UPGRADE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="59d3726ff243f066e5ae919b582d4e828c19085db6753e885827790a18e3d5e8" >Upgrade</a>
      
<div id="feature-enrollment-toggle" class="hide-sm hide-md feature-preview-details position-relative">
  <button
    type="button"
    class="dropdown-item btn-link"
    role="menuitem"
    data-feature-preview-trigger-url="/users/personalizedrefrigerator/feature_previews"
    data-feature-preview-close-details="{&quot;event_type&quot;:&quot;feature_preview.clicks.close_modal&quot;,&quot;payload&quot;:{&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}"
    data-feature-preview-close-hmac="5f735d0d772530a51b0d8fbc043029b0530ae4f2f8749319a11e0d941ef58617"
    data-hydro-click="{&quot;event_type&quot;:&quot;feature_preview.clicks.open_modal&quot;,&quot;payload&quot;:{&quot;link_location&quot;:&quot;user_dropdown&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}"
    data-hydro-click-hmac="cd8fb89d315ca5bd12daacfc897074492e6419a9984b3e8e681f6505a7554d99"
  >
    Feature preview
  </button>
    <span class="feature-preview-indicator js-feature-preview-indicator" hidden></span>
</div>

    <a role="menuitem" class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;HELP&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="51c4614e6c14142a2ff094eb962c2336317392e4314bd2716ade3872bc6bbcf2" >Help</a>
    <a role="menuitem" class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;SETTINGS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="4b9e05ebb8653535aedcdb3171817519e9a4307a57faa08cbc20679e4de60b75" >Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="t4pRZxUhgOcS3CGV2J7YUvBe5iZ+ivZPvHkN3Hv1lHow1ihopf977RGIfbAsrF06Sj6fDrB+BugyNdQWT3eLjg==" />
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;target&quot;:&quot;SIGN_OUT&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="ec5089dbdd4aa94225f63e262f13ebf9d18aeeaad252947fc710d22955ecd7b7"  role="menuitem">
        Sign out
      </button>
      <input type="text" name="required_field_56fd" hidden="hidden" class="form-control" /><input type="hidden" name="timestamp" value="1595141821598" class="form-control" /><input type="hidden" name="timestamp_secret" value="442ca85602fda90b22f8b6b16f6313994d7db54b1cdca7a1b1468f18c88a04cc" class="form-control" />
</form>  </details-menu>
</details>

  </div>

</header>

          

    </div>

  <div id="start-of-content" class="show-on-focus"></div>




    <div id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  js-flash-template-container">
  <div class=" px-2" >
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    
      <div class="js-flash-template-message"></div>

  </div>
</div>
  </template>
</div>


  

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>



  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main  >
      

  


  










  <div class="bg-gray-light pt-3 hide-full-screen mb-5">

    <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

      <div class="flex-auto min-width-0 width-fit mr-3">
        <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo text-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
  <span class="author ml-2 flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/UWAppDev/hovercard" href="/UWAppDev">UWAppDev</a>
  </span>
  <span class="mx-1 flex-self-stretch">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" href="/UWAppDev/uwappdev.github.io">uwappdev.github.io</a>
  </strong>
  
</h1>


      </div>

      <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
        <form data-remote="true" class="d-flex js-social-form js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="bj3N5RJ7zEjQZRM00MOpaUOwbJm4VJwwtIkE/sjTlI26b/RXOzeH95MQbgYPo1YwNICecElGw7l+X4OFgGaOZw==" />      <input type="hidden" name="repository_id" value="224055749">

      <details class="details-reset details-overlay select-menu hx_rsm">
        <summary class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="fb9a99dc6ad23675f634eaac02a22c0a21f004d953d8cec763d6ffb359d58f66" data-ga-click="Repository, click Watch settings, action:blob#show">          <span data-menu-button>
              <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

              Unwatch
          </span>
          <span class="dropdown-caret"></span>
</summary>        <details-menu
          class="select-menu-modal position-absolute mt-5"
          style="z-index: 99;">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-mute" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.75a.75.75 0 00-1.238-.57L3.472 5H1.75A1.75 1.75 0 000 6.75v2.5C0 10.216.784 11 1.75 11h1.723l3.289 2.82A.75.75 0 008 13.25V2.75zM4.238 6.32L6.5 4.38v7.24L4.238 9.68a.75.75 0 00-.488-.18h-2a.25.25 0 01-.25-.25v-2.5a.25.25 0 01.25-.25h2a.75.75 0 00.488-.18zm7.042-1.1a.75.75 0 10-1.06 1.06L11.94 8l-1.72 1.72a.75.75 0 101.06 1.06L13 9.06l1.72 1.72a.75.75 0 101.06-1.06L14.06 8l1.72-1.72a.75.75 0 00-1.06-1.06L13 6.94l-1.72-1.72z"></path></svg>

                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count"
          href="/UWAppDev/uwappdev.github.io/watchers"
          aria-label="2 users are watching this repository">
          2
        </a>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="/UWAppDev/uwappdev.github.io/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="iIecBBYLOYPBu/gemS5Bfs7gp+sG8j9XeQu171d/JTeWigNuWjCTj8n37ENSBGDVTkz7ECDrO/Rpao8KWoQPzA==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="3deb1b6386f857705aba5a9f8325ff66da7dfa21750406a7ff3fbc15801b39a4" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">        <svg height="16" class="octicon octicon-star-fill" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path></svg>

        Unstar
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
           0
        </a>
</form>
    <form class="unstarred js-social-form" action="/UWAppDev/uwappdev.github.io/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="qkWZbaAiZbgEIy1qtMkpPDSxCx+/XaBDTFylMsIymI2v3JgPeyth7qs2jz6de/OYS6P2abu64qW6sgn7TTRr9A==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="7081b987a3abcddac02bffb47f10411ff4c16f3b4e2eb89b5a6c7bcaa3bf6427" data-ga-click="Repository, click star button, action:blob#show; text:Star">        <svg height="16" class="octicon octicon-star" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg>

        Star
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
          <div class="float-left">
            <details class="details-reset details-overlay details-overlay-dark " >
                    <summary
                  class="btn btn-sm btn-with-count"
                  title="Fork your own copy of UWAppDev/uwappdev.github.io to your account"
                  data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="dc3f24ca3119c3bb9d397ba4553fbd824258bf03f1782d04e0ab1dcee35b4916" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
                  <svg class="octicon octicon-repo-forked" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>
                  Fork
                </summary>

  <details-dialog
    class="Box d-flex flex-column anim-fade-in fast Box--overlay"
      aria-label="Fork uwappdev.github.io"
      src="/UWAppDev/uwappdev.github.io/fork?fragment=1"
      preload
    >
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
        <svg height="16" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>

      </button>
      <h1 class="Box-title">Fork uwappdev.github.io</h1>
    </div>
      
              <div class="text-center overflow-auto">
                <include-fragment>
                  <div class="octocat-spinner my-5" aria-label="Loading..."></div>
                  <p class="f5 text-gray">If this dialog fails to load, you can visit <a href="/UWAppDev/uwappdev.github.io/fork">the fork page</a> directly.</p>
                </include-fragment>
              </div>

  </details-dialog>
</details>
          </div>

    <a href="/UWAppDev/uwappdev.github.io/network/members" class="social-count"
       aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

    </div>
    
<nav class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 bg-gray-light" aria-label="Repository" data-pjax="#js-repo-pjax-container">
  <ul class="UnderlineNav-body list-style-none ">
          <li class="d-flex">
        <a class="js-selected-navigation-item selected UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="code-tab" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
              <svg height="16" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>

            <span data-content="Code">Code</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="issues-tab" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" data-selected-links="repo_issues repo_labels repo_milestones /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
              <svg height="16" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>

            <span data-content="Issues">Issues</span>
              <span class="Counter " title="2">2</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="pull-requests-tab" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-selected-links="repo_pulls checks /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
              <svg height="16" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>

            <span data-content="Pull requests">Pull requests</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="actions-tab" data-hotkey="g w" data-ga-click="Repository, Navigation click, Actions tab" data-selected-links="repo_actions /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
              <svg height="16" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>

            <span data-content="Actions">Actions</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="projects-tab" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-selected-links="repo_projects new_repo_project repo_project /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
              <svg height="16" class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>

            <span data-content="Projects">Projects</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="security-tab" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-selected-links="security overview alerts policy token_scanning code_scanning /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
              <svg height="16" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>

            <span data-content="Security">Security</span>
              <span class="js-security-tab-count Counter " data-url="/UWAppDev/uwappdev.github.io/security/overall-count" title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="insights-tab" data-ga-click="Repository, Navigation click, Insights tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
              <svg height="16" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>

            <span data-content="Insights">Insights</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="settings-tab" data-ga-click="Repository, Navigation click, Settings tab" data-selected-links="repo_settings repo_branch_settings hooks integration_installations repo_keys_settings issue_template_editor secrets_settings key_links_settings repo_actions_settings notifications /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
              <svg height="16" class="octicon octicon-gear UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.429 1.525a6.593 6.593 0 011.142 0c.036.003.108.036.137.146l.289 1.105c.147.56.55.967.997 1.189.174.086.341.183.501.29.417.278.97.423 1.53.27l1.102-.303c.11-.03.175.016.195.046.219.31.41.641.573.989.014.031.022.11-.059.19l-.815.806c-.411.406-.562.957-.53 1.456a4.588 4.588 0 010 .582c-.032.499.119 1.05.53 1.456l.815.806c.08.08.073.159.059.19a6.494 6.494 0 01-.573.99c-.02.029-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.851.628-.998 1.189l-.289 1.105c-.029.11-.101.143-.137.146a6.613 6.613 0 01-1.142 0c-.036-.003-.108-.037-.137-.146l-.289-1.105c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.501-.29c-.417-.278-.97-.423-1.53-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.031-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.559.153 1.112.008 1.529-.27.16-.107.327-.204.5-.29.449-.222.851-.628.998-1.189l.289-1.105c.029-.11.101-.143.137-.146zM8 0c-.236 0-.47.01-.701.03-.743.065-1.29.615-1.458 1.261l-.29 1.106c-.017.066-.078.158-.211.224a5.994 5.994 0 00-.668.386c-.123.082-.233.09-.3.071L3.27 2.776c-.644-.177-1.392.02-1.82.63a7.977 7.977 0 00-.704 1.217c-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.469-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.609 1.176.806 1.82.63l1.103-.303c.066-.019.176-.011.299.071.213.143.436.272.668.386.133.066.194.158.212.224l.289 1.106c.169.646.715 1.196 1.458 1.26a8.094 8.094 0 001.402 0c.743-.064 1.29-.614 1.458-1.26l.29-1.106c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.071l1.102.302c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.891l-.814-.806c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.039-.246.088-.294l.814-.806c.475-.469.679-1.216.364-1.891a7.992 7.992 0 00-.704-1.218c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.019-.176.011-.299-.071a5.991 5.991 0 00-.668-.386c-.133-.066-.194-.158-.212-.224L10.16 1.29C9.99.645 9.444.095 8.701.031A8.094 8.094 0 008 0zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM11 8a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>

            <span data-content="Settings">Settings</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>

</ul>        <div class="position-absolute right-0 pr-3 pr-md-4 pr-lg-5 js-responsive-underlinenav-overflow" style="visibility:hidden;">
      <details class="details-overlay details-reset position-relative">
  <summary role="button">
              <div class="UnderlineNav-item mr-0 border-0">
            <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
            <span class="sr-only">More</span>
          </div>

</summary>            <details-menu class="dropdown-menu dropdown-menu-sw " role="menu">
  
            <ul>
                <li data-menu-item="code-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
                    Code
</a>                </li>
                <li data-menu-item="issues-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
                    Issues
</a>                </li>
                <li data-menu-item="pull-requests-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="actions-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
                    Actions
</a>                </li>
                <li data-menu-item="projects-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
                    Projects
</a>                </li>
                <li data-menu-item="security-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
                    Security
</a>                </li>
                <li data-menu-item="insights-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
                    Insights
</a>                </li>
                <li data-menu-item="settings-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
                    Settings
</a>                </li>
            </ul>

</details-menu>
</details>    </div>

</nav>
  </div>

<div class="container-xl clearfix new-discussion-timeline  px-3 px-md-4 px-lg-5">
  <div class="repository-content " >

    
    

  


    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js">Permalink</a>

    <!-- blob contrib key: blob_contributors:v22:7797ef00483837bec8ca7980b95537f0 -->
    

    <div class="d-flex flex-items-center flex-shrink-0 pb-3 flex-wrap flex-justify-between flex-md-justify-start">
      
<details class="details-reset details-overlay mr-0 mb-0 " id="branch-select-menu">
  <summary class="btn css-truncate"
           data-hotkey="w"
           title="Switch branches or tags">
    <svg height="16" class="octicon octicon-git-branch text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path></svg>

    <span class="css-truncate-target" data-menu-button>0fa8268c9e</span>
    <span class="dropdown-caret"></span>
  </summary>

  <details-menu class="SelectMenu SelectMenu--hasFilter" src="/UWAppDev/uwappdev.github.io/refs/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js?source_action=show&amp;source_controller=blob" preload>
    <div class="SelectMenu-modal">
      <include-fragment class="SelectMenu-loading" aria-label="Menu is loading">
        <svg class="octicon octicon-octoface anim-pulse" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>
      </include-fragment>
    </div>
  </details-menu>
</details>

      <h2 id="blob-path" class="breadcrumb flex-auto min-width-0 text-normal mx-0 mx-md-3 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
        <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437"><span>uwappdev.github.io</span></a></span></span><span class="separator">/</span><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs"><span>Libs</span></a></span><span class="separator">/</span><strong class="final-path">AuthHelper.js</strong>
          <span class="separator">/</span><details class="details-reset details-overlay d-inline" id="jumpto-symbol-select-menu">
  <summary class="btn-link link-gray css-truncate" aria-haspopup="true" data-hotkey="r" data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_blob_definitions&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_blob_definitions&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="5350e166d9157b920268ef9a2c2fe2bc3ab1291336358c4c49e841c88e11ac80">
      <svg class="octicon octicon-code" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
    <span data-menu-button>Jump to</span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="SelectMenu SelectMenu--hasFilter" role="menu">
    <div class="SelectMenu-modal">
      <header class="SelectMenu-header">
        <span class="SelectMenu-title">Code definitions</span>
        <button class="SelectMenu-closeButton" type="button" data-toggle-for="jumpto-symbol-select-menu">
          <svg aria-label="Close menu" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
        </button>
      </header>
      <div class="SelectMenu-list">
          <div class="SelectMenu-blankslate">
            <p class="mb-0 text-gray">
              No definitions found in this file.
            </p>
          </div>
        <div data-filterable-for="jumpto-symbols-filter-field" data-filterable-type="substring">
        </div>
      </div>
      <footer class="SelectMenu-footer">
        <div class="d-flex flex-justify-between">
          Code navigation not available for this commit
          <svg class="octicon octicon-dot-fill text-light-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z"></path></svg>
        </div>
      </footer>
    </div>
  </details-menu>
</details>

      </h2>
      <a href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437"
            class="js-pjax-capture-input btn mr-2 d-none d-md-block"
            data-pjax
            data-hotkey="t">
        Go to file
      </a>

      <details class="flex-self-end details-overlay details-reset position-relative" id="blob-more-options-details">
  <summary role="button">
              <span class="btn">
            <svg height="16" class="octicon octicon-kebab-horizontal" aria-label="More options" viewBox="0 0 16 16" version="1.1" width="16" role="img"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>

          </span>

</summary>            <ul class="dropdown-menu dropdown-menu-sw">
            <li class="d-block d-md-none">
              <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="e7d87512916bc1008df396b63dff48f7de18e5fff1c287ed1d7351516b7e81a0" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" data-pjax="true" href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437">
                <span class="flex-auto">Go to file</span>
                <span class="text-small text-gray" aria-hidden="true">T</span>
</a>            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-line-details-dialog" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to line</span>
                  <span class="text-small text-gray" aria-hidden="true">L</span>
                </span>
              </button>
            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-symbol-select-menu" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to definition</span>
                  <span class="text-small text-gray" aria-hidden="true">R</span>
                </span>
              </button>
            </li>
            <li class="dropdown-divider" role="none"></li>
            <li>
              <clipboard-copy value="Libs/AuthHelper.js" class="dropdown-item cursor-pointer" data-toggle-for="blob-more-options-details">
                Copy path
              </clipboard-copy>
            </li>
          </ul>

</details>    </div>



    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
      
  <div class="Box-header Box-header--blue Details js-details-container">
      <div class="d-flex flex-items-center">
        <span class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1">
          <a rel="contributor" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator"><img class="avatar avatar-user" src="https://avatars3.githubusercontent.com/u/46334387?s=48&amp;v=4" width="24" height="24" alt="@personalizedrefrigerator" /></a>
        </span>
        <div class="flex-1 d-flex flex-items-center ml-3 min-width-0">
          <div class="css-truncate css-truncate-overflow">
            <a class="text-bold link-gray-dark" rel="contributor" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator">personalizedrefrigerator</a>

              <span>
                <a data-pjax="true" title="Partial implementation of page review requests." class="link-gray" href="/UWAppDev/uwappdev.github.io/commit/2696948cd3acd05c26b80ed90037d964f971ef76">Partial implementation of page review requests.</a>
              </span>
          </div>


          <span class="ml-2">
            <include-fragment accept="text/fragment+html" src="/UWAppDev/uwappdev.github.io/commit/2696948cd3acd05c26b80ed90037d964f971ef76/rollup?direction=e" class="d-inline"></include-fragment>
          </span>
        </div>
        <div class="ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end text-gray no-wrap">
          <span class="d-none d-md-inline">
            <span>Latest commit</span>
            <a class="text-small text-mono link-gray" href="/UWAppDev/uwappdev.github.io/commit/2696948cd3acd05c26b80ed90037d964f971ef76" data-pjax>2696948</a>
            <span itemprop="dateModified"><relative-time datetime="2020-01-25T17:36:26Z" class="no-wrap">Jan 25, 2020</relative-time></span>
          </span>

          <a data-pjax href="/UWAppDev/uwappdev.github.io/commits/2696948cd3acd05c26b80ed90037d964f971ef76/Libs/AuthHelper.js" class="ml-3 no-wrap link-gray-dark no-underline">
            <svg height="16" class="octicon octicon-history text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"></path></svg>

            <span class="d-none d-sm-inline">
              <strong>History</strong>
            </span>
          </a>
        </div>
      </div>

  </div>

  <div class="Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap" >
    <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark float-left mr-3" id="blob_contributors_box">
      <summary class="link-gray-dark">
        <svg height="16" class="octicon octicon-people text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg>

        <strong>1</strong>
        
        contributor
      </summary>
      <details-dialog
        class="Box Box--overlay d-flex flex-column anim-fade-in fast"
        aria-label="Users who have contributed to this file"
        src="/UWAppDev/uwappdev.github.io/contributors-list/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js" preload>
        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title">
            Users who have contributed to this file
          </h3>
        </div>
        <include-fragment class="octocat-spinner my-3" aria-label="Loading..."></include-fragment>
      </details-dialog>
    </details>
  </div>
    </div>






    <div class="Box mt-3 position-relative
      ">
      
<div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">

      779 lines (627 sloc)
      <span class="file-info-divider"></span>
    22 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/UWAppDev/uwappdev.github.io/raw/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js">Blame</a>
    </div>

    <div>
          <button class="btn-octicon disabled tooltipped tooltipped-nw js-remove-unless-platform"
             data-platforms="windows,mac" type="button"  disabled
             aria-label="You must be on a branch to open this file in GitHub Desktop">
              <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z"></path></svg>
          </button>

          <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-pencil" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>
          </button>
          <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-trashcan" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path></svg>
          </button>
    </div>
  </div>
</div>



      

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-s>&quot;use strict&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  A simple authentication manager.</span></td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-v>AuthHelper</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_IN_EVENT</span>  <span class=pl-c1>=</span> <span class=pl-s>&quot;AUTH_SIGN_IN&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_OUT_EVENT</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;AUTH_SIGN_OUT&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>AUTH_MENU_USED</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;AUTH_MENU_USED&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_STORE_LOCATION</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;https://firebasestorage.googleapis.com/&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PROFILE_PHOTO_SIZE</span> <span class=pl-c1>=</span> <span class=pl-c1>150</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_NAME_PREFIX</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;_&quot;</span><span class=pl-kos>;</span> <span class=pl-c>// Prefix all photos with this when stored on the server.</span></td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_DIR</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;profile_photos&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PASSWORD_REQUIREMENTS</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span> <span class=pl-c1>minLength</span>: <span class=pl-c1>14</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-c1>specialCharCount</span>: <span class=pl-c1>3</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-c1>numberCharCount</span>: <span class=pl-c1>4</span> <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Add buttons for managing authentication</span></td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//to the element, parent. Actions are completed</span></td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//in SubWindows.</span></td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>insertAuthCommands</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-s1>parent</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>signedOutDisplay</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>createElement</span><span class=pl-kos>(</span><span class=pl-s>&quot;div&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>signedInDisplay</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>createElement</span><span class=pl-kos>(</span><span class=pl-s>&quot;div&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>signInButton</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Sign In&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>signedOutDisplay</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>signOutButton</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Sign Out&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>signedInDisplay</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountSettings</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Account&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>signedInDisplay</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>createAccount</span>   <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Create Account&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>signedOutDisplay</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>signedOutDisplay</span><span class=pl-kos>.</span><span class=pl-c1>classList</span><span class=pl-kos>.</span><span class=pl-en>add</span><span class=pl-kos>(</span><span class=pl-s>&quot;authCommands&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>signedInDisplay</span><span class=pl-kos>.</span><span class=pl-c1>classList</span><span class=pl-kos>.</span><span class=pl-en>add</span><span class=pl-kos>(</span><span class=pl-s>&quot;authCommands&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Shows commands relevant to the user&#39;s current sign-in</span></td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//state.</span></td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-en>showRelevantCommands</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>isSignedIn</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>signedInDisplay</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>display</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;none&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>signedOutDisplay</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>display</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;flex&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>signedInDisplay</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>display</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;flex&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>signedOutDisplay</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>display</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;none&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Show only commands relevant to the user&#39;s current</span></td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//sign-in state.</span></td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>showRelevantCommands</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Add both displays</span></td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parent</span><span class=pl-kos>.</span><span class=pl-en>appendChild</span><span class=pl-kos>(</span><span class=pl-s1>signedOutDisplay</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parent</span><span class=pl-kos>.</span><span class=pl-en>appendChild</span><span class=pl-kos>(</span><span class=pl-s1>signedInDisplay</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Handle events.</span></td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>signInButton</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span>   <span class=pl-kos>(</span><span class=pl-s>&quot;click&quot;</span><span class=pl-kos>,</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>signIn</span>       <span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>createAccount</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span>  <span class=pl-kos>(</span><span class=pl-s>&quot;click&quot;</span><span class=pl-kos>,</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>createAccount</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>signOutButton</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span>  <span class=pl-kos>(</span><span class=pl-s>&quot;click&quot;</span><span class=pl-kos>,</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>signOut</span>      <span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountSettings</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span><span class=pl-kos>(</span><span class=pl-s>&quot;click&quot;</span><span class=pl-kos>,</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>manageAccount</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Show/hide relevant commands when the user authenticates/deauthenticates.</span></td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-kos>(</span><span class=pl-c1>true</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>waitFor</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_IN_EVENT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>showRelevantCommands</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>waitFor</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_OUT_EVENT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>showRelevantCommands</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Display a UI permitting the user to sign in or re-authenticate.</span></td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>signIn</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>AUTH_MENU_USED</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>response</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>prompt</span><span class=pl-kos>(</span><span class=pl-s>&quot;Sign In&quot;</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line">            <span class=pl-s>&quot;Please, enter your email/username and password.&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span> <span class=pl-s>&quot;Email&quot;</span>: <span class=pl-s>&quot;text&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Password&quot;</span>: <span class=pl-s>&quot;password&quot;</span> <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>email</span> <span class=pl-c1>=</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>Email</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Sign the user in.</span></td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>password</span> <span class=pl-c1>=</span> <span class=pl-s1>response</span><span class=pl-kos>.</span><span class=pl-c1>Password</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Sign in the user.</span></td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>signInWithEmailAndPassword</span></td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line">                                        <span class=pl-kos>(</span><span class=pl-s1>email</span><span class=pl-kos>,</span> <span class=pl-s1>password</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>errorCode</span> <span class=pl-c1>=</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>errorMessage</span> <span class=pl-c1>=</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Inform the user of the error.</span></td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>resetPassword</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>confirm</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>errorCode</span><span class=pl-kos>,</span> <span class=pl-s1>errorMessage</span> <span class=pl-c1>+</span> <span class=pl-s>&quot; Send a password reset email?&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Yes&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;No&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>resetPassword</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>sendPasswordResetEmail</span><span class=pl-kos>(</span><span class=pl-s1>email</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>catch</span> <span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Signed in!&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;You are signed in!&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>true</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Sign the user out.</span></td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>signOut</span> <span class=pl-c1>=</span></td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>AUTH_MENU_USED</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>signOut</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>isSignedIn</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>throw</span> <span class=pl-s>&quot;You seem to still be signed in. Please contact a site administrator.&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>code</span> <span class=pl-c1>||</span> <span class=pl-s>&quot;Error&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>message</span> <span class=pl-c1>||</span> <span class=pl-s1>e</span> <span class=pl-c1>+</span> <span class=pl-s>&quot;&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Signed out.&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;You are now signed out.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Display UI letting users create</span></td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//an account.</span></td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>createAccount</span> <span class=pl-c1>=</span></td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>AUTH_MENU_USED</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>accountCreateWindow</span> <span class=pl-c1>=</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>create</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>title</span>: <span class=pl-s>&quot;Create an Account&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>className</span>: <span class=pl-s>&quot;accountWindow&quot;</span></td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>contentWrapper</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>createElement</span><span class=pl-kos>(</span><span class=pl-s>&quot;div&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>display</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;flex&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>flexDirection</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;column&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>padding</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;8px&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>emailInput</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addLabeledInput</span><span class=pl-kos>(</span><span class=pl-s>&quot;Email Address&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;text&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>contentWrapper</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>passwordInput</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addPasswordConcocter</span><span class=pl-kos>(</span><span class=pl-s1>contentWrapper</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line">                                                       <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PASSWORD_REQUIREMENTS</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>disclaimer</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addParagraph</span><span class=pl-kos>(</span><span class=pl-s>`Please, do &lt;i&gt;&lt;b&gt;not&lt;/b&gt;&lt;/i&gt; create an</span></td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              account unless explicitly told to do so</span></td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              by club administration. We reserve the</span></td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              right to delete accounts and any data</span></td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              associated with them. We may also share</span></td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              any data given to this app &lt;span class = &quot;dash&quot;&gt;&lt;/span&gt;</span></td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              including your name and email &lt;span class = &quot;dash&quot;&gt;&lt;/span&gt;</span></td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line"><span class=pl-s>                                              with anyone.`</span><span class=pl-kos>,</span> <span class=pl-s1>contentWrapper</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>submitButton</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Sumbit&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>contentWrapper</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>transition</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0.4s ease all&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>overflow</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;hidden&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>passwordInput</span><span class=pl-kos>.</span><span class=pl-en>onValid</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="LC191" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="LC192" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;1.5em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="LC193" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="LC194" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="LC195" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>passwordInput</span><span class=pl-kos>.</span><span class=pl-en>onInvalid</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="LC196" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="LC197" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="LC198" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="LC199" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="LC200" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Minor styling.</span></td>
      </tr>
      <tr>
        <td id="L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="LC201" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>maxWidth</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;500px&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="LC202" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>marginLeft</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;auto&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="LC203" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contentWrapper</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>marginRight</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;auto&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="LC204" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="LC205" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Create the account!</span></td>
      </tr>
      <tr>
        <td id="L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="LC206" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span><span class=pl-kos>(</span><span class=pl-s>&quot;click&quot;</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="LC207" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="LC208" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="LC209" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>email</span>    <span class=pl-c1>=</span> <span class=pl-s1>emailInput</span><span class=pl-kos>.</span><span class=pl-c1>value</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="LC210" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>password</span> <span class=pl-c1>=</span> <span class=pl-s1>passwordInput</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="LC211" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="LC212" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="LC213" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="LC214" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>createUserWithEmailAndPassword</span><span class=pl-kos>(</span><span class=pl-s1>email</span><span class=pl-kos>,</span> <span class=pl-s1>password</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="LC215" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="LC216" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="LC217" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="LC218" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error: &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="LC219" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="LC220" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="LC221" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="LC222" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="LC223" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountCreateWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="LC224" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="LC225" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="LC226" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="LC227" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="LC228" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="LC229" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="LC230" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="LC231" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>sendEmailVerification</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="LC232" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="LC233" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="LC234" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="LC235" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error: &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="LC236" class="blob-code blob-code-inner js-file-line">                </td>
      </tr>
      <tr>
        <td id="L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="LC237" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="LC238" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="LC239" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="LC240" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="LC241" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="LC242" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s>&quot;User == null.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="LC243" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="LC244" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="LC245" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Success!&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Please, sign in and check your email.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="LC246" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="LC247" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="LC248" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountCreateWindow</span><span class=pl-kos>.</span><span class=pl-en>appendChild</span><span class=pl-kos>(</span><span class=pl-s1>contentWrapper</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="LC249" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L250" class="blob-num js-line-number" data-line-number="250"></td>
        <td id="LC250" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L251" class="blob-num js-line-number" data-line-number="251"></td>
        <td id="LC251" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>photoCtx</span> <span class=pl-c1>=</span> <span class=pl-smi>document</span><span class=pl-kos>.</span><span class=pl-en>createElement</span><span class=pl-kos>(</span><span class=pl-s>&quot;canvas&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getContext</span><span class=pl-kos>(</span><span class=pl-s>&quot;2d&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L252" class="blob-num js-line-number" data-line-number="252"></td>
        <td id="LC252" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L253" class="blob-num js-line-number" data-line-number="253"></td>
        <td id="LC253" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Get the SRC of the current user&#39;s profile picture.</span></td>
      </tr>
      <tr>
        <td id="L254" class="blob-num js-line-number" data-line-number="254"></td>
        <td id="LC254" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>getProfilePhotoSrc</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L255" class="blob-num js-line-number" data-line-number="255"></td>
        <td id="LC255" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-s1>requestedUserId</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L256" class="blob-num js-line-number" data-line-number="256"></td>
        <td id="LC256" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L257" class="blob-num js-line-number" data-line-number="257"></td>
        <td id="LC257" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L258" class="blob-num js-line-number" data-line-number="258"></td>
        <td id="LC258" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>userData</span> <span class=pl-c1>=</span> <span class=pl-s1>user</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L259" class="blob-num js-line-number" data-line-number="259"></td>
        <td id="LC259" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L260" class="blob-num js-line-number" data-line-number="260"></td>
        <td id="LC260" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>requestedUserId</span> !== <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>id</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>requestedUserId</span> !== undefined<span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L261" class="blob-num js-line-number" data-line-number="261"></td>
        <td id="LC261" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L262" class="blob-num js-line-number" data-line-number="262"></td>
        <td id="LC262" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>database</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIRESTORE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L263" class="blob-num js-line-number" data-line-number="263"></td>
        <td id="LC263" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L264" class="blob-num js-line-number" data-line-number="264"></td>
        <td id="LC264" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>doc</span> <span class=pl-c1>=</span> <span class=pl-s1>database</span><span class=pl-kos>.</span><span class=pl-en>collection</span><span class=pl-kos>(</span><span class=pl-s>&quot;userData&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>doc</span><span class=pl-kos>(</span><span class=pl-s1>requestedUserId</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L265" class="blob-num js-line-number" data-line-number="265"></td>
        <td id="LC265" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>docData</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-s1>doc</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L266" class="blob-num js-line-number" data-line-number="266"></td>
        <td id="LC266" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L267" class="blob-num js-line-number" data-line-number="267"></td>
        <td id="LC267" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>docData</span><span class=pl-kos>.</span><span class=pl-c1>exists</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L268" class="blob-num js-line-number" data-line-number="268"></td>
        <td id="LC268" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L269" class="blob-num js-line-number" data-line-number="269"></td>
        <td id="LC269" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>userData</span> <span class=pl-c1>=</span> <span class=pl-s1>docData</span><span class=pl-kos>.</span><span class=pl-en>data</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L270" class="blob-num js-line-number" data-line-number="270"></td>
        <td id="LC270" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span> <span class=pl-c1>=</span> <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>profileURL</span><span class=pl-kos>;</span> <span class=pl-c>// Correct different naming.</span></td>
      </tr>
      <tr>
        <td id="L271" class="blob-num js-line-number" data-line-number="271"></td>
        <td id="LC271" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L272" class="blob-num js-line-number" data-line-number="272"></td>
        <td id="LC272" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L273" class="blob-num js-line-number" data-line-number="273"></td>
        <td id="LC273" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L274" class="blob-num js-line-number" data-line-number="274"></td>
        <td id="LC274" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>userData</span> <span class=pl-c1>=</span></td>
      </tr>
      <tr>
        <td id="L275" class="blob-num js-line-number" data-line-number="275"></td>
        <td id="LC275" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L276" class="blob-num js-line-number" data-line-number="276"></td>
        <td id="LC276" class="blob-code blob-code-inner js-file-line">                <span class=pl-c1>photoURL</span>: null<span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L277" class="blob-num js-line-number" data-line-number="277"></td>
        <td id="LC277" class="blob-code blob-code-inner js-file-line">                <span class=pl-c1>displayName</span>: <span class=pl-s>&quot;?&quot;</span></td>
      </tr>
      <tr>
        <td id="L278" class="blob-num js-line-number" data-line-number="278"></td>
        <td id="LC278" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L279" class="blob-num js-line-number" data-line-number="279"></td>
        <td id="LC279" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L280" class="blob-num js-line-number" data-line-number="280"></td>
        <td id="LC280" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L281" class="blob-num js-line-number" data-line-number="281"></td>
        <td id="LC281" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L282" class="blob-num js-line-number" data-line-number="282"></td>
        <td id="LC282" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// If a photoURL...</span></td>
      </tr>
      <tr>
        <td id="L283" class="blob-num js-line-number" data-line-number="283"></td>
        <td id="LC283" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span><span class=pl-kos>.</span><span class=pl-en>startsWith</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_STORE_LOCATION</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L284" class="blob-num js-line-number" data-line-number="284"></td>
        <td id="LC284" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span><span class=pl-kos>.</span><span class=pl-en>indexOf</span><span class=pl-kos>(</span><span class=pl-s>&quot; &quot;</span><span class=pl-kos>)</span> <span class=pl-c1>===</span> <span class=pl-c1>-</span><span class=pl-c1>1</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L285" class="blob-num js-line-number" data-line-number="285"></td>
        <td id="LC285" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L286" class="blob-num js-line-number" data-line-number="286"></td>
        <td id="LC286" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L287" class="blob-num js-line-number" data-line-number="287"></td>
        <td id="LC287" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L288" class="blob-num js-line-number" data-line-number="288"></td>
        <td id="LC288" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L289" class="blob-num js-line-number" data-line-number="289"></td>
        <td id="LC289" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Reset the canvas.</span></td>
      </tr>
      <tr>
        <td id="L290" class="blob-num js-line-number" data-line-number="290"></td>
        <td id="LC290" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>ctx</span> <span class=pl-c1>=</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>photoCtx</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L291" class="blob-num js-line-number" data-line-number="291"></td>
        <td id="LC291" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span> <span class=pl-c1>=</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PROFILE_PHOTO_SIZE</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L292" class="blob-num js-line-number" data-line-number="292"></td>
        <td id="LC292" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PROFILE_PHOTO_SIZE</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L293" class="blob-num js-line-number" data-line-number="293"></td>
        <td id="LC293" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L294" class="blob-num js-line-number" data-line-number="294"></td>
        <td id="LC294" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Clear it!</span></td>
      </tr>
      <tr>
        <td id="L295" class="blob-num js-line-number" data-line-number="295"></td>
        <td id="LC295" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-en>clearRect</span><span class=pl-kos>(</span><span class=pl-c1>0</span><span class=pl-kos>,</span> <span class=pl-c1>0</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L296" class="blob-num js-line-number" data-line-number="296"></td>
        <td id="LC296" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L297" class="blob-num js-line-number" data-line-number="297"></td>
        <td id="LC297" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Draw a background.</span></td>
      </tr>
      <tr>
        <td id="L298" class="blob-num js-line-number" data-line-number="298"></td>
        <td id="LC298" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>fillStyle</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;gray&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L299" class="blob-num js-line-number" data-line-number="299"></td>
        <td id="LC299" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-en>fillRect</span><span class=pl-kos>(</span><span class=pl-c1>0</span><span class=pl-kos>,</span> <span class=pl-c1>0</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L300" class="blob-num js-line-number" data-line-number="300"></td>
        <td id="LC300" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L301" class="blob-num js-line-number" data-line-number="301"></td>
        <td id="LC301" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Draw text.</span></td>
      </tr>
      <tr>
        <td id="L302" class="blob-num js-line-number" data-line-number="302"></td>
        <td id="LC302" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>fillStyle</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;white&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L303" class="blob-num js-line-number" data-line-number="303"></td>
        <td id="LC303" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>font</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;12pt courier, sans&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L304" class="blob-num js-line-number" data-line-number="304"></td>
        <td id="LC304" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>textAlign</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;center&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L305" class="blob-num js-line-number" data-line-number="305"></td>
        <td id="LC305" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>textBaseline</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;middle&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L306" class="blob-num js-line-number" data-line-number="306"></td>
        <td id="LC306" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L307" class="blob-num js-line-number" data-line-number="307"></td>
        <td id="LC307" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>displayName</span> <span class=pl-c1>=</span> <span class=pl-s1>userData</span><span class=pl-kos>.</span><span class=pl-c1>displayName</span> <span class=pl-c1>||</span> <span class=pl-s>&quot;?&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L308" class="blob-num js-line-number" data-line-number="308"></td>
        <td id="LC308" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>nameWords</span> <span class=pl-c1>=</span> <span class=pl-s1>displayName</span><span class=pl-kos>.</span><span class=pl-en>split</span><span class=pl-kos>(</span><span class=pl-s>&quot; &quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L309" class="blob-num js-line-number" data-line-number="309"></td>
        <td id="LC309" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>textToUse</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;?&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L310" class="blob-num js-line-number" data-line-number="310"></td>
        <td id="LC310" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L311" class="blob-num js-line-number" data-line-number="311"></td>
        <td id="LC311" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>nameWords</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>0</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>nameWords</span><span class=pl-kos>[</span><span class=pl-c1>0</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L312" class="blob-num js-line-number" data-line-number="312"></td>
        <td id="LC312" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L313" class="blob-num js-line-number" data-line-number="313"></td>
        <td id="LC313" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>textToUse</span> <span class=pl-c1>=</span> <span class=pl-s1>nameWords</span><span class=pl-kos>[</span><span class=pl-c1>0</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-en>charAt</span><span class=pl-kos>(</span><span class=pl-c1>0</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L314" class="blob-num js-line-number" data-line-number="314"></td>
        <td id="LC314" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L315" class="blob-num js-line-number" data-line-number="315"></td>
        <td id="LC315" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>nameWords</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>nameWords</span><span class=pl-kos>[</span><span class=pl-s1>nameWords</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>-</span> <span class=pl-c1>1</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>0</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L316" class="blob-num js-line-number" data-line-number="316"></td>
        <td id="LC316" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L317" class="blob-num js-line-number" data-line-number="317"></td>
        <td id="LC317" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>textToUse</span> <span class=pl-c1>+=</span> <span class=pl-s1>nameWords</span><span class=pl-kos>[</span><span class=pl-s1>nameWords</span><span class=pl-kos>.</span><span class=pl-c1>length</span> <span class=pl-c1>-</span> <span class=pl-c1>1</span><span class=pl-kos>]</span><span class=pl-kos>.</span><span class=pl-en>charAt</span><span class=pl-kos>(</span><span class=pl-c1>0</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L318" class="blob-num js-line-number" data-line-number="318"></td>
        <td id="LC318" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L319" class="blob-num js-line-number" data-line-number="319"></td>
        <td id="LC319" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L320" class="blob-num js-line-number" data-line-number="320"></td>
        <td id="LC320" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L321" class="blob-num js-line-number" data-line-number="321"></td>
        <td id="LC321" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>outputText</span> <span class=pl-c1>=</span> <span class=pl-s1>textToUse</span><span class=pl-kos>.</span><span class=pl-en>toUpperCase</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L322" class="blob-num js-line-number" data-line-number="322"></td>
        <td id="LC322" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L323" class="blob-num js-line-number" data-line-number="323"></td>
        <td id="LC323" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-en>fillText</span><span class=pl-kos>(</span><span class=pl-s1>outputText</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>width</span> / <span class=pl-c1>2</span><span class=pl-kos>,</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-c1>height</span> / <span class=pl-c1>2</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L324" class="blob-num js-line-number" data-line-number="324"></td>
        <td id="LC324" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L325" class="blob-num js-line-number" data-line-number="325"></td>
        <td id="LC325" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>await</span> <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-en>nextAnimationFrame</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L326" class="blob-num js-line-number" data-line-number="326"></td>
        <td id="LC326" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L327" class="blob-num js-line-number" data-line-number="327"></td>
        <td id="LC327" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>ctx</span><span class=pl-kos>.</span><span class=pl-c1>canvas</span><span class=pl-kos>.</span><span class=pl-en>toDataURL</span><span class=pl-kos>(</span><span class=pl-s>&quot;img/png&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L328" class="blob-num js-line-number" data-line-number="328"></td>
        <td id="LC328" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L329" class="blob-num js-line-number" data-line-number="329"></td>
        <td id="LC329" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L330" class="blob-num js-line-number" data-line-number="330"></td>
        <td id="LC330" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Get whether the current user has admin privlidges.</span></td>
      </tr>
      <tr>
        <td id="L331" class="blob-num js-line-number" data-line-number="331"></td>
        <td id="LC331" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>isAdmin</span> <span class=pl-c1>=</span> <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L332" class="blob-num js-line-number" data-line-number="332"></td>
        <td id="LC332" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L333" class="blob-num js-line-number" data-line-number="333"></td>
        <td id="LC333" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L334" class="blob-num js-line-number" data-line-number="334"></td>
        <td id="LC334" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L335" class="blob-num js-line-number" data-line-number="335"></td>
        <td id="LC335" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L336" class="blob-num js-line-number" data-line-number="336"></td>
        <td id="LC336" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L337" class="blob-num js-line-number" data-line-number="337"></td>
        <td id="LC337" class="blob-code blob-code-inner js-file-line">    	<span class=pl-k>let</span> <span class=pl-s1>database</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIRESTORE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L338" class="blob-num js-line-number" data-line-number="338"></td>
        <td id="LC338" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L339" class="blob-num js-line-number" data-line-number="339"></td>
        <td id="LC339" class="blob-code blob-code-inner js-file-line">    	<span class=pl-k>let</span> <span class=pl-s1>doc</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-s1>database</span><span class=pl-kos>.</span><span class=pl-en>collection</span><span class=pl-kos>(</span><span class=pl-s>&quot;admins&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>doc</span><span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L340" class="blob-num js-line-number" data-line-number="340"></td>
        <td id="LC340" class="blob-code blob-code-inner js-file-line">    	</td>
      </tr>
      <tr>
        <td id="L341" class="blob-num js-line-number" data-line-number="341"></td>
        <td id="LC341" class="blob-code blob-code-inner js-file-line">    	<span class=pl-k>return</span> <span class=pl-s1>doc</span><span class=pl-kos>.</span><span class=pl-c1>exists</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L342" class="blob-num js-line-number" data-line-number="342"></td>
        <td id="LC342" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L343" class="blob-num js-line-number" data-line-number="343"></td>
        <td id="LC343" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L344" class="blob-num js-line-number" data-line-number="344"></td>
        <td id="LC344" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L345" class="blob-num js-line-number" data-line-number="345"></td>
        <td id="LC345" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L346" class="blob-num js-line-number" data-line-number="346"></td>
        <td id="LC346" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L347" class="blob-num js-line-number" data-line-number="347"></td>
        <td id="LC347" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>getUid</span> <span class=pl-c1>=</span> <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L348" class="blob-num js-line-number" data-line-number="348"></td>
        <td id="LC348" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L349" class="blob-num js-line-number" data-line-number="349"></td>
        <td id="LC349" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L350" class="blob-num js-line-number" data-line-number="350"></td>
        <td id="LC350" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L351" class="blob-num js-line-number" data-line-number="351"></td>
        <td id="LC351" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L352" class="blob-num js-line-number" data-line-number="352"></td>
        <td id="LC352" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L353" class="blob-num js-line-number" data-line-number="353"></td>
        <td id="LC353" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L354" class="blob-num js-line-number" data-line-number="354"></td>
        <td id="LC354" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L355" class="blob-num js-line-number" data-line-number="355"></td>
        <td id="LC355" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L356" class="blob-num js-line-number" data-line-number="356"></td>
        <td id="LC356" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L357" class="blob-num js-line-number" data-line-number="357"></td>
        <td id="LC357" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L358" class="blob-num js-line-number" data-line-number="358"></td>
        <td id="LC358" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L359" class="blob-num js-line-number" data-line-number="359"></td>
        <td id="LC359" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Display account-management UI.</span></td>
      </tr>
      <tr>
        <td id="L360" class="blob-num js-line-number" data-line-number="360"></td>
        <td id="LC360" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//Pre: The user is signed in.</span></td>
      </tr>
      <tr>
        <td id="L361" class="blob-num js-line-number" data-line-number="361"></td>
        <td id="LC361" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>manageAccount</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L362" class="blob-num js-line-number" data-line-number="362"></td>
        <td id="LC362" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L363" class="blob-num js-line-number" data-line-number="363"></td>
        <td id="LC363" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L364" class="blob-num js-line-number" data-line-number="364"></td>
        <td id="LC364" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>AUTH_MENU_USED</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L365" class="blob-num js-line-number" data-line-number="365"></td>
        <td id="LC365" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L366" class="blob-num js-line-number" data-line-number="366"></td>
        <td id="LC366" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Global declaration.</span></td>
      </tr>
      <tr>
        <td id="L367" class="blob-num js-line-number" data-line-number="367"></td>
        <td id="LC367" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>user</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L368" class="blob-num js-line-number" data-line-number="368"></td>
        <td id="LC368" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>changedProperties</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L369" class="blob-num js-line-number" data-line-number="369"></td>
        <td id="LC369" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L370" class="blob-num js-line-number" data-line-number="370"></td>
        <td id="LC370" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>profileImg</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L371" class="blob-num js-line-number" data-line-number="371"></td>
        <td id="LC371" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L372" class="blob-num js-line-number" data-line-number="372"></td>
        <td id="LC372" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Helper functions.</span></td>
      </tr>
      <tr>
        <td id="L373" class="blob-num js-line-number" data-line-number="373"></td>
        <td id="LC373" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Prompt the user for a photograph to</span></td>
      </tr>
      <tr>
        <td id="L374" class="blob-num js-line-number" data-line-number="374"></td>
        <td id="LC374" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//be associated with their profile.</span></td>
      </tr>
      <tr>
        <td id="L375" class="blob-num js-line-number" data-line-number="375"></td>
        <td id="LC375" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-en>selectPhoto</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L376" class="blob-num js-line-number" data-line-number="376"></td>
        <td id="LC376" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-s1>buttonElement</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L377" class="blob-num js-line-number" data-line-number="377"></td>
        <td id="LC377" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L378" class="blob-num js-line-number" data-line-number="378"></td>
        <td id="LC378" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>drawer</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Drawer2D</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L379" class="blob-num js-line-number" data-line-number="379"></td>
        <td id="LC379" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-s1>img</span><span class=pl-kos>,</span> <span class=pl-s1>dataURL</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L380" class="blob-num js-line-number" data-line-number="380"></td>
        <td id="LC380" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L381" class="blob-num js-line-number" data-line-number="381"></td>
        <td id="LC381" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L382" class="blob-num js-line-number" data-line-number="382"></td>
        <td id="LC382" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Upload the photo to FireStore.</span></td>
      </tr>
      <tr>
        <td id="L383" class="blob-num js-line-number" data-line-number="383"></td>
        <td id="LC383" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>storage</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIREBASE_STORAGE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L384" class="blob-num js-line-number" data-line-number="384"></td>
        <td id="LC384" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>storageRef</span> <span class=pl-c1>=</span> <span class=pl-s1>storage</span><span class=pl-kos>.</span><span class=pl-en>ref</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L385" class="blob-num js-line-number" data-line-number="385"></td>
        <td id="LC385" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L386" class="blob-num js-line-number" data-line-number="386"></td>
        <td id="LC386" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>userImages</span> <span class=pl-c1>=</span> <span class=pl-s1>storageRef</span><span class=pl-kos>.</span><span class=pl-en>child</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_DIR</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L387" class="blob-num js-line-number" data-line-number="387"></td>
        <td id="LC387" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L388" class="blob-num js-line-number" data-line-number="388"></td>
        <td id="LC388" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>photoFilename</span> <span class=pl-c1>=</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_NAME_PREFIX</span> <span class=pl-c1>+</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span> <span class=pl-c1>+</span> <span class=pl-s>&quot;.png&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L389" class="blob-num js-line-number" data-line-number="389"></td>
        <td id="LC389" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>photo</span> <span class=pl-c1>=</span> <span class=pl-s1>userImages</span><span class=pl-kos>.</span><span class=pl-en>child</span><span class=pl-kos>(</span><span class=pl-s1>photoFilename</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L390" class="blob-num js-line-number" data-line-number="390"></td>
        <td id="LC390" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L391" class="blob-num js-line-number" data-line-number="391"></td>
        <td id="LC391" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>let</span> <span class=pl-s1>photoURL</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L392" class="blob-num js-line-number" data-line-number="392"></td>
        <td id="LC392" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L393" class="blob-num js-line-number" data-line-number="393"></td>
        <td id="LC393" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L394" class="blob-num js-line-number" data-line-number="394"></td>
        <td id="LC394" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L395" class="blob-num js-line-number" data-line-number="395"></td>
        <td id="LC395" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-s1>photo</span><span class=pl-kos>.</span><span class=pl-en>putString</span><span class=pl-kos>(</span><span class=pl-s1>dataURL</span><span class=pl-kos>,</span> <span class=pl-s>&quot;data_url&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L396" class="blob-num js-line-number" data-line-number="396"></td>
        <td id="LC396" class="blob-code blob-code-inner js-file-line">                </td>
      </tr>
      <tr>
        <td id="L397" class="blob-num js-line-number" data-line-number="397"></td>
        <td id="LC397" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>photoURL</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-s1>userImages</span><span class=pl-kos>.</span><span class=pl-en>child</span><span class=pl-kos>(</span><span class=pl-s1>photoFilename</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getDownloadURL</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L398" class="blob-num js-line-number" data-line-number="398"></td>
        <td id="LC398" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>updateProfile</span><span class=pl-kos>(</span><span class=pl-kos>{</span> <span class=pl-c1>photoURL</span>: <span class=pl-s1>photoURL</span> <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L399" class="blob-num js-line-number" data-line-number="399"></td>
        <td id="LC399" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>publishUserData</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L400" class="blob-num js-line-number" data-line-number="400"></td>
        <td id="LC400" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L401" class="blob-num js-line-number" data-line-number="401"></td>
        <td id="LC401" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L402" class="blob-num js-line-number" data-line-number="402"></td>
        <td id="LC402" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L403" class="blob-num js-line-number" data-line-number="403"></td>
        <td id="LC403" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L404" class="blob-num js-line-number" data-line-number="404"></td>
        <td id="LC404" class="blob-code blob-code-inner js-file-line">                </td>
      </tr>
      <tr>
        <td id="L405" class="blob-num js-line-number" data-line-number="405"></td>
        <td id="LC405" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L406" class="blob-num js-line-number" data-line-number="406"></td>
        <td id="LC406" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L407" class="blob-num js-line-number" data-line-number="407"></td>
        <td id="LC407" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L408" class="blob-num js-line-number" data-line-number="408"></td>
        <td id="LC408" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Set the new photoURL.</span></td>
      </tr>
      <tr>
        <td id="L409" class="blob-num js-line-number" data-line-number="409"></td>
        <td id="LC409" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Done!&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Updated photograph!&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L410" class="blob-num js-line-number" data-line-number="410"></td>
        <td id="LC410" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L411" class="blob-num js-line-number" data-line-number="411"></td>
        <td id="LC411" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// CLose the window.</span></td>
      </tr>
      <tr>
        <td id="L412" class="blob-num js-line-number" data-line-number="412"></td>
        <td id="LC412" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L413" class="blob-num js-line-number" data-line-number="413"></td>
        <td id="LC413" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L414" class="blob-num js-line-number" data-line-number="414"></td>
        <td id="LC414" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L415" class="blob-num js-line-number" data-line-number="415"></td>
        <td id="LC415" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>initialImage</span>: <span class=pl-s1>profileImg</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L416" class="blob-num js-line-number" data-line-number="416"></td>
        <td id="LC416" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>imageWidth</span>: <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PROFILE_PHOTO_SIZE</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L417" class="blob-num js-line-number" data-line-number="417"></td>
        <td id="LC417" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>imageHeight</span>: <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PROFILE_PHOTO_SIZE</span></td>
      </tr>
      <tr>
        <td id="L418" class="blob-num js-line-number" data-line-number="418"></td>
        <td id="LC418" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L419" class="blob-num js-line-number" data-line-number="419"></td>
        <td id="LC419" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L420" class="blob-num js-line-number" data-line-number="420"></td>
        <td id="LC420" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L421" class="blob-num js-line-number" data-line-number="421"></td>
        <td id="LC421" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Handle a single option (e.g. add an input.</span></td>
      </tr>
      <tr>
        <td id="L422" class="blob-num js-line-number" data-line-number="422"></td>
        <td id="LC422" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//See below for usage. Data should be an array</span></td>
      </tr>
      <tr>
        <td id="L423" class="blob-num js-line-number" data-line-number="423"></td>
        <td id="LC423" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//of length two. The first element should be the</span></td>
      </tr>
      <tr>
        <td id="L424" class="blob-num js-line-number" data-line-number="424"></td>
        <td id="LC424" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//property name, the second, the input type/a button</span></td>
      </tr>
      <tr>
        <td id="L425" class="blob-num js-line-number" data-line-number="425"></td>
        <td id="LC425" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>//command.</span></td>
      </tr>
      <tr>
        <td id="L426" class="blob-num js-line-number" data-line-number="426"></td>
        <td id="LC426" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-en>handleOption</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>description</span><span class=pl-kos>,</span> <span class=pl-s1>data</span><span class=pl-kos>,</span> <span class=pl-s1>parent</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L427" class="blob-num js-line-number" data-line-number="427"></td>
        <td id="LC427" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L428" class="blob-num js-line-number" data-line-number="428"></td>
        <td id="LC428" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>userProperty</span> <span class=pl-c1>=</span> <span class=pl-s1>data</span><span class=pl-kos>[</span><span class=pl-c1>0</span><span class=pl-kos>]</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L429" class="blob-num js-line-number" data-line-number="429"></td>
        <td id="LC429" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>action</span>       <span class=pl-c1>=</span> <span class=pl-s1>data</span><span class=pl-kos>[</span><span class=pl-c1>1</span><span class=pl-kos>]</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L430" class="blob-num js-line-number" data-line-number="430"></td>
        <td id="LC430" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L431" class="blob-num js-line-number" data-line-number="431"></td>
        <td id="LC431" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-k>typeof</span> <span class=pl-kos>(</span><span class=pl-s1>action</span><span class=pl-kos>)</span> <span class=pl-c1>===</span> <span class=pl-s>&quot;function&quot;</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L432" class="blob-num js-line-number" data-line-number="432"></td>
        <td id="LC432" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L433" class="blob-num js-line-number" data-line-number="433"></td>
        <td id="LC433" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Add a button.</span></td>
      </tr>
      <tr>
        <td id="L434" class="blob-num js-line-number" data-line-number="434"></td>
        <td id="LC434" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s1>description</span><span class=pl-kos>,</span> <span class=pl-s1>parent</span><span class=pl-kos>,</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L435" class="blob-num js-line-number" data-line-number="435"></td>
        <td id="LC435" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L436" class="blob-num js-line-number" data-line-number="436"></td>
        <td id="LC436" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>action</span><span class=pl-kos>.</span><span class=pl-en>call</span><span class=pl-kos>(</span><span class=pl-smi>this</span><span class=pl-kos>,</span> <span class=pl-smi>this</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L437" class="blob-num js-line-number" data-line-number="437"></td>
        <td id="LC437" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L438" class="blob-num js-line-number" data-line-number="438"></td>
        <td id="LC438" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L439" class="blob-num js-line-number" data-line-number="439"></td>
        <td id="LC439" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L440" class="blob-num js-line-number" data-line-number="440"></td>
        <td id="LC440" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L441" class="blob-num js-line-number" data-line-number="441"></td>
        <td id="LC441" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Add an input.</span></td>
      </tr>
      <tr>
        <td id="L442" class="blob-num js-line-number" data-line-number="442"></td>
        <td id="LC442" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addLabeledInput</span><span class=pl-kos>(</span><span class=pl-s1>description</span><span class=pl-kos>,</span> <span class=pl-s1>user</span><span class=pl-kos>[</span><span class=pl-s1>userProperty</span><span class=pl-kos>]</span><span class=pl-kos>,</span> <span class=pl-s1>action</span><span class=pl-kos>,</span> <span class=pl-s1>parent</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L443" class="blob-num js-line-number" data-line-number="443"></td>
        <td id="LC443" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>(</span><span class=pl-s1>value</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L444" class="blob-num js-line-number" data-line-number="444"></td>
        <td id="LC444" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L445" class="blob-num js-line-number" data-line-number="445"></td>
        <td id="LC445" class="blob-code blob-code-inner js-file-line">                <span class=pl-s1>changedProperties</span><span class=pl-kos>[</span><span class=pl-s1>userProperty</span><span class=pl-kos>]</span> <span class=pl-c1>=</span> <span class=pl-s1>value</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L446" class="blob-num js-line-number" data-line-number="446"></td>
        <td id="LC446" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L447" class="blob-num js-line-number" data-line-number="447"></td>
        <td id="LC447" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L448" class="blob-num js-line-number" data-line-number="448"></td>
        <td id="LC448" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L449" class="blob-num js-line-number" data-line-number="449"></td>
        <td id="LC449" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L450" class="blob-num js-line-number" data-line-number="450"></td>
        <td id="LC450" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Define state.</span></td>
      </tr>
      <tr>
        <td id="L451" class="blob-num js-line-number" data-line-number="451"></td>
        <td id="LC451" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L452" class="blob-num js-line-number" data-line-number="452"></td>
        <td id="LC452" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L453" class="blob-num js-line-number" data-line-number="453"></td>
        <td id="LC453" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Request things of the user, if necessary.</span></td>
      </tr>
      <tr>
        <td id="L454" class="blob-num js-line-number" data-line-number="454"></td>
        <td id="LC454" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>emailVerified</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L455" class="blob-num js-line-number" data-line-number="455"></td>
        <td id="LC455" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L456" class="blob-num js-line-number" data-line-number="456"></td>
        <td id="LC456" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L457" class="blob-num js-line-number" data-line-number="457"></td>
        <td id="LC457" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L458" class="blob-num js-line-number" data-line-number="458"></td>
        <td id="LC458" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>sendEmailVerification</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L459" class="blob-num js-line-number" data-line-number="459"></td>
        <td id="LC459" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L460" class="blob-num js-line-number" data-line-number="460"></td>
        <td id="LC460" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L461" class="blob-num js-line-number" data-line-number="461"></td>
        <td id="LC461" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L462" class="blob-num js-line-number" data-line-number="462"></td>
        <td id="LC462" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L463" class="blob-num js-line-number" data-line-number="463"></td>
        <td id="LC463" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L464" class="blob-num js-line-number" data-line-number="464"></td>
        <td id="LC464" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L465" class="blob-num js-line-number" data-line-number="465"></td>
        <td id="LC465" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L466" class="blob-num js-line-number" data-line-number="466"></td>
        <td id="LC466" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L467" class="blob-num js-line-number" data-line-number="467"></td>
        <td id="LC467" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Email Verification&quot;</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L468" class="blob-num js-line-number" data-line-number="468"></td>
        <td id="LC468" class="blob-code blob-code-inner js-file-line">        <span class=pl-s>`</span></td>
      </tr>
      <tr>
        <td id="L469" class="blob-num js-line-number" data-line-number="469"></td>
        <td id="LC469" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            &lt;p&gt;It looks like you haven&#39;t verified your email.</span></td>
      </tr>
      <tr>
        <td id="L470" class="blob-num js-line-number" data-line-number="470"></td>
        <td id="LC470" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            We&#39;ve sent you another verification request.</span></td>
      </tr>
      <tr>
        <td id="L471" class="blob-num js-line-number" data-line-number="471"></td>
        <td id="LC471" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            If you are unable to find this request, please check</span></td>
      </tr>
      <tr>
        <td id="L472" class="blob-num js-line-number" data-line-number="472"></td>
        <td id="LC472" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            your junk and spam folders.&lt;/p&gt;</span></td>
      </tr>
      <tr>
        <td id="L473" class="blob-num js-line-number" data-line-number="473"></td>
        <td id="LC473" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            &lt;p&gt;Your email is currently listed as <span class=pl-s1><span class=pl-kos>${</span><span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>email</span><span class=pl-kos>}</span></span>.</span></td>
      </tr>
      <tr>
        <td id="L474" class="blob-num js-line-number" data-line-number="474"></td>
        <td id="LC474" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            If this is in error, please correct it using menus under</span></td>
      </tr>
      <tr>
        <td id="L475" class="blob-num js-line-number" data-line-number="475"></td>
        <td id="LC475" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            &amp;ldquo;Secured Settings&amp;rdquo;.</span></td>
      </tr>
      <tr>
        <td id="L476" class="blob-num js-line-number" data-line-number="476"></td>
        <td id="LC476" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        `</span><span class=pl-kos>,</span> undefined<span class=pl-kos>,</span> <span class=pl-c1>true</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-c>// No onclose, but use html.</span></td>
      </tr>
      <tr>
        <td id="L477" class="blob-num js-line-number" data-line-number="477"></td>
        <td id="LC477" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L478" class="blob-num js-line-number" data-line-number="478"></td>
        <td id="LC478" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L479" class="blob-num js-line-number" data-line-number="479"></td>
        <td id="LC479" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>singleAuthManaged</span> <span class=pl-c1>=</span></td>
      </tr>
      <tr>
        <td id="L480" class="blob-num js-line-number" data-line-number="480"></td>
        <td id="LC480" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L481" class="blob-num js-line-number" data-line-number="481"></td>
        <td id="LC481" class="blob-code blob-code-inner js-file-line">        <span class=pl-s>&quot;Name&quot;</span>: <span class=pl-kos>[</span><span class=pl-s>&quot;displayName&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;text&quot;</span><span class=pl-kos>]</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L482" class="blob-num js-line-number" data-line-number="482"></td>
        <td id="LC482" class="blob-code blob-code-inner js-file-line">        <span class=pl-s>&quot;Change Photo&quot;</span>: <span class=pl-kos>[</span><span class=pl-s>&quot;photoURL&quot;</span><span class=pl-kos>,</span>   <span class=pl-en>selectPhoto</span><span class=pl-kos>]</span></td>
      </tr>
      <tr>
        <td id="L483" class="blob-num js-line-number" data-line-number="483"></td>
        <td id="LC483" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L484" class="blob-num js-line-number" data-line-number="484"></td>
        <td id="LC484" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L485" class="blob-num js-line-number" data-line-number="485"></td>
        <td id="LC485" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Create the window.</span></td>
      </tr>
      <tr>
        <td id="L486" class="blob-num js-line-number" data-line-number="486"></td>
        <td id="LC486" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountManageWindow</span> <span class=pl-c1>=</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>create</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L487" class="blob-num js-line-number" data-line-number="487"></td>
        <td id="LC487" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L488" class="blob-num js-line-number" data-line-number="488"></td>
        <td id="LC488" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>title</span>: <span class=pl-s>&quot;Manage Account&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L489" class="blob-num js-line-number" data-line-number="489"></td>
        <td id="LC489" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>className</span>: <span class=pl-s>&quot;accountWindow&quot;</span></td>
      </tr>
      <tr>
        <td id="L490" class="blob-num js-line-number" data-line-number="490"></td>
        <td id="LC490" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L491" class="blob-num js-line-number" data-line-number="491"></td>
        <td id="LC491" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L492" class="blob-num js-line-number" data-line-number="492"></td>
        <td id="LC492" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>enableFlex</span><span class=pl-kos>(</span><span class=pl-s>&quot;column&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L493" class="blob-num js-line-number" data-line-number="493"></td>
        <td id="LC493" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L494" class="blob-num js-line-number" data-line-number="494"></td>
        <td id="LC494" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L495" class="blob-num js-line-number" data-line-number="495"></td>
        <td id="LC495" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>Image</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L496" class="blob-num js-line-number" data-line-number="496"></td>
        <td id="LC496" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span><span class=pl-kos>.</span><span class=pl-c1>crossOrigin</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;Anonymous&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L497" class="blob-num js-line-number" data-line-number="497"></td>
        <td id="LC497" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span><span class=pl-kos>.</span><span class=pl-en>setAttribute</span><span class=pl-kos>(</span><span class=pl-s>&quot;title&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Profile Image&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L498" class="blob-num js-line-number" data-line-number="498"></td>
        <td id="LC498" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L499" class="blob-num js-line-number" data-line-number="499"></td>
        <td id="LC499" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-en>resetCircle</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>waitTime</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L500" class="blob-num js-line-number" data-line-number="500"></td>
        <td id="LC500" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L501" class="blob-num js-line-number" data-line-number="501"></td>
        <td id="LC501" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// But do it after the display has had time to update.</span></td>
      </tr>
      <tr>
        <td id="L502" class="blob-num js-line-number" data-line-number="502"></td>
        <td id="LC502" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>setTimeout</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>updateResizeCircleLocation</span><span class=pl-kos>(</span><span class=pl-c1>true</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-kos>}</span><span class=pl-kos>,</span> <span class=pl-s1>waitTime</span> <span class=pl-c1>||</span> <span class=pl-c1>200</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L503" class="blob-num js-line-number" data-line-number="503"></td>
        <td id="LC503" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L504" class="blob-num js-line-number" data-line-number="504"></td>
        <td id="LC504" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L505" class="blob-num js-line-number" data-line-number="505"></td>
        <td id="LC505" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Reset the resize circle&#39;s position.</span></td>
      </tr>
      <tr>
        <td id="L506" class="blob-num js-line-number" data-line-number="506"></td>
        <td id="LC506" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// TODO Make this better!</span></td>
      </tr>
      <tr>
        <td id="L507" class="blob-num js-line-number" data-line-number="507"></td>
        <td id="LC507" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span><span class=pl-kos>.</span><span class=pl-en>addEventListener</span><span class=pl-kos>(</span><span class=pl-s>&quot;load&quot;</span><span class=pl-kos>,</span> <span class=pl-en>resetCircle</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L508" class="blob-num js-line-number" data-line-number="508"></td>
        <td id="LC508" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L509" class="blob-num js-line-number" data-line-number="509"></td>
        <td id="LC509" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Reset the circle two seconds after load.</span></td>
      </tr>
      <tr>
        <td id="L510" class="blob-num js-line-number" data-line-number="510"></td>
        <td id="LC510" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>resetCircle</span><span class=pl-kos>(</span><span class=pl-c1>2000</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L511" class="blob-num js-line-number" data-line-number="511"></td>
        <td id="LC511" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L512" class="blob-num js-line-number" data-line-number="512"></td>
        <td id="LC512" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span><span class=pl-kos>.</span><span class=pl-c1>src</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>getProfilePhotoSrc</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L513" class="blob-num js-line-number" data-line-number="513"></td>
        <td id="LC513" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>profileImg</span><span class=pl-kos>.</span><span class=pl-c1>classList</span><span class=pl-kos>.</span><span class=pl-en>add</span><span class=pl-kos>(</span><span class=pl-s>&quot;profilePhoto&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L514" class="blob-num js-line-number" data-line-number="514"></td>
        <td id="LC514" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L515" class="blob-num js-line-number" data-line-number="515"></td>
        <td id="LC515" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Add the user&#39;s profile photo.</span></td>
      </tr>
      <tr>
        <td id="L516" class="blob-num js-line-number" data-line-number="516"></td>
        <td id="LC516" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>appendChild</span><span class=pl-kos>(</span><span class=pl-s1>profileImg</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L517" class="blob-num js-line-number" data-line-number="517"></td>
        <td id="LC517" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L518" class="blob-num js-line-number" data-line-number="518"></td>
        <td id="LC518" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>let</span> <span class=pl-s1>description</span> <span class=pl-k>in</span> <span class=pl-s1>singleAuthManaged</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L519" class="blob-num js-line-number" data-line-number="519"></td>
        <td id="LC519" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L520" class="blob-num js-line-number" data-line-number="520"></td>
        <td id="LC520" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>handleOption</span><span class=pl-kos>(</span><span class=pl-s1>description</span><span class=pl-kos>,</span> <span class=pl-s1>singleAuthManaged</span><span class=pl-kos>[</span><span class=pl-s1>description</span><span class=pl-kos>]</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L521" class="blob-num js-line-number" data-line-number="521"></td>
        <td id="LC521" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L522" class="blob-num js-line-number" data-line-number="522"></td>
        <td id="LC522" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L523" class="blob-num js-line-number" data-line-number="523"></td>
        <td id="LC523" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Add the submit button.</span></td>
      </tr>
      <tr>
        <td id="L524" class="blob-num js-line-number" data-line-number="524"></td>
        <td id="LC524" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Submit&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L525" class="blob-num js-line-number" data-line-number="525"></td>
        <td id="LC525" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L526" class="blob-num js-line-number" data-line-number="526"></td>
        <td id="LC526" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L527" class="blob-num js-line-number" data-line-number="527"></td>
        <td id="LC527" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L528" class="blob-num js-line-number" data-line-number="528"></td>
        <td id="LC528" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L529" class="blob-num js-line-number" data-line-number="529"></td>
        <td id="LC529" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>updateProfile</span><span class=pl-kos>(</span><span class=pl-s1>changedProperties</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L530" class="blob-num js-line-number" data-line-number="530"></td>
        <td id="LC530" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>publishUserData</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L531" class="blob-num js-line-number" data-line-number="531"></td>
        <td id="LC531" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L532" class="blob-num js-line-number" data-line-number="532"></td>
        <td id="LC532" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L533" class="blob-num js-line-number" data-line-number="533"></td>
        <td id="LC533" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L534" class="blob-num js-line-number" data-line-number="534"></td>
        <td id="LC534" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L535" class="blob-num js-line-number" data-line-number="535"></td>
        <td id="LC535" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L536" class="blob-num js-line-number" data-line-number="536"></td>
        <td id="LC536" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L537" class="blob-num js-line-number" data-line-number="537"></td>
        <td id="LC537" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L538" class="blob-num js-line-number" data-line-number="538"></td>
        <td id="LC538" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L539" class="blob-num js-line-number" data-line-number="539"></td>
        <td id="LC539" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L540" class="blob-num js-line-number" data-line-number="540"></td>
        <td id="LC540" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L541" class="blob-num js-line-number" data-line-number="541"></td>
        <td id="LC541" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L542" class="blob-num js-line-number" data-line-number="542"></td>
        <td id="LC542" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Add any double-auth managed state.</span></td>
      </tr>
      <tr>
        <td id="L543" class="blob-num js-line-number" data-line-number="543"></td>
        <td id="LC543" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Secured Settings&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L544" class="blob-num js-line-number" data-line-number="544"></td>
        <td id="LC544" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L545" class="blob-num js-line-number" data-line-number="545"></td>
        <td id="LC545" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L546" class="blob-num js-line-number" data-line-number="546"></td>
        <td id="LC546" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>manageSecureSettings</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L547" class="blob-num js-line-number" data-line-number="547"></td>
        <td id="LC547" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L548" class="blob-num js-line-number" data-line-number="548"></td>
        <td id="LC548" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L549" class="blob-num js-line-number" data-line-number="549"></td>
        <td id="LC549" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L550" class="blob-num js-line-number" data-line-number="550"></td>
        <td id="LC550" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L551" class="blob-num js-line-number" data-line-number="551"></td>
        <td id="LC551" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Publish user-related data.</span></td>
      </tr>
      <tr>
        <td id="L552" class="blob-num js-line-number" data-line-number="552"></td>
        <td id="LC552" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>publishUserData</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L553" class="blob-num js-line-number" data-line-number="553"></td>
        <td id="LC553" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L554" class="blob-num js-line-number" data-line-number="554"></td>
        <td id="LC554" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L555" class="blob-num js-line-number" data-line-number="555"></td>
        <td id="LC555" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-en>dataMismatch</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>,</span> <span class=pl-s1>user</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L556" class="blob-num js-line-number" data-line-number="556"></td>
        <td id="LC556" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L557" class="blob-num js-line-number" data-line-number="557"></td>
        <td id="LC557" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span> !== <span class=pl-s1>data</span><span class=pl-kos>.</span><span class=pl-c1>uid</span> <span class=pl-c1>||</span> <span class=pl-s1>data</span><span class=pl-kos>.</span><span class=pl-c1>displayName</span> !== <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>displayName</span></td>
      </tr>
      <tr>
        <td id="L558" class="blob-num js-line-number" data-line-number="558"></td>
        <td id="LC558" class="blob-code blob-code-inner js-file-line">                    <span class=pl-c1>||</span> <span class=pl-s1>data</span><span class=pl-kos>.</span><span class=pl-c1>profileURL</span> !== <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L559" class="blob-num js-line-number" data-line-number="559"></td>
        <td id="LC559" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L560" class="blob-num js-line-number" data-line-number="560"></td>
        <td id="LC560" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L561" class="blob-num js-line-number" data-line-number="561"></td>
        <td id="LC561" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L562" class="blob-num js-line-number" data-line-number="562"></td>
        <td id="LC562" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L563" class="blob-num js-line-number" data-line-number="563"></td>
        <td id="LC563" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>database</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIRESTORE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L564" class="blob-num js-line-number" data-line-number="564"></td>
        <td id="LC564" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L565" class="blob-num js-line-number" data-line-number="565"></td>
        <td id="LC565" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>doc</span> <span class=pl-c1>=</span> <span class=pl-s1>database</span><span class=pl-kos>.</span><span class=pl-en>collection</span><span class=pl-kos>(</span><span class=pl-s>&quot;userData&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>doc</span><span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L566" class="blob-num js-line-number" data-line-number="566"></td>
        <td id="LC566" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>userDataPublic</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-s1>doc</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L567" class="blob-num js-line-number" data-line-number="567"></td>
        <td id="LC567" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L568" class="blob-num js-line-number" data-line-number="568"></td>
        <td id="LC568" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>userDataPublic</span><span class=pl-kos>.</span><span class=pl-c1>exists</span> <span class=pl-c1>||</span> <span class=pl-en>dataMismatch</span><span class=pl-kos>(</span><span class=pl-s1>userDataPublic</span><span class=pl-kos>.</span><span class=pl-en>data</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>,</span> <span class=pl-s1>user</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L569" class="blob-num js-line-number" data-line-number="569"></td>
        <td id="LC569" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L570" class="blob-num js-line-number" data-line-number="570"></td>
        <td id="LC570" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>docContent</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L571" class="blob-num js-line-number" data-line-number="571"></td>
        <td id="LC571" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L572" class="blob-num js-line-number" data-line-number="572"></td>
        <td id="LC572" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>uid</span>: <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L573" class="blob-num js-line-number" data-line-number="573"></td>
        <td id="LC573" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>displayName</span>: <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>displayName</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L574" class="blob-num js-line-number" data-line-number="574"></td>
        <td id="LC574" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>profileURL</span>: <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>photoURL</span></td>
      </tr>
      <tr>
        <td id="L575" class="blob-num js-line-number" data-line-number="575"></td>
        <td id="LC575" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L576" class="blob-num js-line-number" data-line-number="576"></td>
        <td id="LC576" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L577" class="blob-num js-line-number" data-line-number="577"></td>
        <td id="LC577" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>docContent</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L578" class="blob-num js-line-number" data-line-number="578"></td>
        <td id="LC578" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L579" class="blob-num js-line-number" data-line-number="579"></td>
        <td id="LC579" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>doc</span><span class=pl-kos>.</span><span class=pl-en>set</span><span class=pl-kos>(</span><span class=pl-s1>docContent</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L580" class="blob-num js-line-number" data-line-number="580"></td>
        <td id="LC580" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L581" class="blob-num js-line-number" data-line-number="581"></td>
        <td id="LC581" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L582" class="blob-num js-line-number" data-line-number="582"></td>
        <td id="LC582" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L583" class="blob-num js-line-number" data-line-number="583"></td>
        <td id="LC583" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Delete all data associated with a user.</span></td>
      </tr>
      <tr>
        <td id="L584" class="blob-num js-line-number" data-line-number="584"></td>
        <td id="LC584" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>deleteUserData</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L585" class="blob-num js-line-number" data-line-number="585"></td>
        <td id="LC585" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L586" class="blob-num js-line-number" data-line-number="586"></td>
        <td id="LC586" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L587" class="blob-num js-line-number" data-line-number="587"></td>
        <td id="LC587" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Delete files (for now, just the profile photo).</span></td>
      </tr>
      <tr>
        <td id="L588" class="blob-num js-line-number" data-line-number="588"></td>
        <td id="LC588" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L589" class="blob-num js-line-number" data-line-number="589"></td>
        <td id="LC589" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L590" class="blob-num js-line-number" data-line-number="590"></td>
        <td id="LC590" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>storage</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIREBASE_STORAGE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L591" class="blob-num js-line-number" data-line-number="591"></td>
        <td id="LC591" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>storageRef</span> <span class=pl-c1>=</span> <span class=pl-s1>storage</span><span class=pl-kos>.</span><span class=pl-en>ref</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L592" class="blob-num js-line-number" data-line-number="592"></td>
        <td id="LC592" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L593" class="blob-num js-line-number" data-line-number="593"></td>
        <td id="LC593" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>userImages</span> <span class=pl-c1>=</span> <span class=pl-s1>storageRef</span><span class=pl-kos>.</span><span class=pl-en>child</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_DIR</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L594" class="blob-num js-line-number" data-line-number="594"></td>
        <td id="LC594" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L595" class="blob-num js-line-number" data-line-number="595"></td>
        <td id="LC595" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>photoFilename</span> <span class=pl-c1>=</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PHOTO_NAME_PREFIX</span> <span class=pl-c1>+</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span> <span class=pl-c1>+</span> <span class=pl-s>&quot;.png&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L596" class="blob-num js-line-number" data-line-number="596"></td>
        <td id="LC596" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>photo</span> <span class=pl-c1>=</span> <span class=pl-s1>userImages</span><span class=pl-kos>.</span><span class=pl-en>child</span><span class=pl-kos>(</span><span class=pl-s1>photoFilename</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L597" class="blob-num js-line-number" data-line-number="597"></td>
        <td id="LC597" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L598" class="blob-num js-line-number" data-line-number="598"></td>
        <td id="LC598" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>await</span> <span class=pl-s1>photo</span><span class=pl-kos>.</span><span class=pl-en>delete</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L599" class="blob-num js-line-number" data-line-number="599"></td>
        <td id="LC599" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L600" class="blob-num js-line-number" data-line-number="600"></td>
        <td id="LC600" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Delete user data.</span></td>
      </tr>
      <tr>
        <td id="L601" class="blob-num js-line-number" data-line-number="601"></td>
        <td id="LC601" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>database</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-en>awaitComponent</span><span class=pl-kos>(</span><span class=pl-v>CloudHelper</span><span class=pl-kos>.</span><span class=pl-c1>Service</span><span class=pl-kos>.</span><span class=pl-c1>FIRESTORE</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L602" class="blob-num js-line-number" data-line-number="602"></td>
        <td id="LC602" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L603" class="blob-num js-line-number" data-line-number="603"></td>
        <td id="LC603" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>userContent</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-s1>database</span><span class=pl-kos>.</span><span class=pl-en>collection</span><span class=pl-kos>(</span><span class=pl-s>&quot;userData&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>doc</span><span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L604" class="blob-num js-line-number" data-line-number="604"></td>
        <td id="LC604" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L605" class="blob-num js-line-number" data-line-number="605"></td>
        <td id="LC605" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>userContent</span><span class=pl-kos>.</span><span class=pl-c1>exists</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L606" class="blob-num js-line-number" data-line-number="606"></td>
        <td id="LC606" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L607" class="blob-num js-line-number" data-line-number="607"></td>
        <td id="LC607" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>await</span> <span class=pl-s1>database</span><span class=pl-kos>.</span><span class=pl-en>collection</span><span class=pl-kos>(</span><span class=pl-s>&quot;userData&quot;</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>doc</span><span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-c1>uid</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>delete</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L608" class="blob-num js-line-number" data-line-number="608"></td>
        <td id="LC608" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L609" class="blob-num js-line-number" data-line-number="609"></td>
        <td id="LC609" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L610" class="blob-num js-line-number" data-line-number="610"></td>
        <td id="LC610" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L611" class="blob-num js-line-number" data-line-number="611"></td>
        <td id="LC611" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Manage secured settings -- open a GUI for</span></td>
      </tr>
      <tr>
        <td id="L612" class="blob-num js-line-number" data-line-number="612"></td>
        <td id="LC612" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//changing password/email/deleting account.</span></td>
      </tr>
      <tr>
        <td id="L613" class="blob-num js-line-number" data-line-number="613"></td>
        <td id="LC613" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>manageSecureSettings</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L614" class="blob-num js-line-number" data-line-number="614"></td>
        <td id="LC614" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L615" class="blob-num js-line-number" data-line-number="615"></td>
        <td id="LC615" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L616" class="blob-num js-line-number" data-line-number="616"></td>
        <td id="LC616" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Re-authenticate the user.</span></td>
      </tr>
      <tr>
        <td id="L617" class="blob-num js-line-number" data-line-number="617"></td>
        <td id="LC617" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>signInResult</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>signIn</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L618" class="blob-num js-line-number" data-line-number="618"></td>
        <td id="LC618" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L619" class="blob-num js-line-number" data-line-number="619"></td>
        <td id="LC619" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>signInResult</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L620" class="blob-num js-line-number" data-line-number="620"></td>
        <td id="LC620" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L621" class="blob-num js-line-number" data-line-number="621"></td>
        <td id="LC621" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L622" class="blob-num js-line-number" data-line-number="622"></td>
        <td id="LC622" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L623" class="blob-num js-line-number" data-line-number="623"></td>
        <td id="LC623" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L624" class="blob-num js-line-number" data-line-number="624"></td>
        <td id="LC624" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Create a window with secured settings.</span></td>
      </tr>
      <tr>
        <td id="L625" class="blob-num js-line-number" data-line-number="625"></td>
        <td id="LC625" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>accountManageWindow</span> <span class=pl-c1>=</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>create</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L626" class="blob-num js-line-number" data-line-number="626"></td>
        <td id="LC626" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L627" class="blob-num js-line-number" data-line-number="627"></td>
        <td id="LC627" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>title</span>: <span class=pl-s>&quot;Manage Account (Secured Settings)&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L628" class="blob-num js-line-number" data-line-number="628"></td>
        <td id="LC628" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>className</span>: <span class=pl-s>&quot;accountWindowSecuredSettings&quot;</span></td>
      </tr>
      <tr>
        <td id="L629" class="blob-num js-line-number" data-line-number="629"></td>
        <td id="LC629" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L630" class="blob-num js-line-number" data-line-number="630"></td>
        <td id="LC630" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L631" class="blob-num js-line-number" data-line-number="631"></td>
        <td id="LC631" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Get the user.</span></td>
      </tr>
      <tr>
        <td id="L632" class="blob-num js-line-number" data-line-number="632"></td>
        <td id="LC632" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>currentUser</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L633" class="blob-num js-line-number" data-line-number="633"></td>
        <td id="LC633" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L634" class="blob-num js-line-number" data-line-number="634"></td>
        <td id="LC634" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Enable flexible-box</span></td>
      </tr>
      <tr>
        <td id="L635" class="blob-num js-line-number" data-line-number="635"></td>
        <td id="LC635" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>enableFlex</span><span class=pl-kos>(</span><span class=pl-s>&quot;column&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L636" class="blob-num js-line-number" data-line-number="636"></td>
        <td id="LC636" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L637" class="blob-num js-line-number" data-line-number="637"></td>
        <td id="LC637" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Change Email Address&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L638" class="blob-num js-line-number" data-line-number="638"></td>
        <td id="LC638" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L639" class="blob-num js-line-number" data-line-number="639"></td>
        <td id="LC639" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L640" class="blob-num js-line-number" data-line-number="640"></td>
        <td id="LC640" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L641" class="blob-num js-line-number" data-line-number="641"></td>
        <td id="LC641" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L642" class="blob-num js-line-number" data-line-number="642"></td>
        <td id="LC642" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>emails</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L643" class="blob-num js-line-number" data-line-number="643"></td>
        <td id="LC643" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L644" class="blob-num js-line-number" data-line-number="644"></td>
        <td id="LC644" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>do</span></td>
      </tr>
      <tr>
        <td id="L645" class="blob-num js-line-number" data-line-number="645"></td>
        <td id="LC645" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L646" class="blob-num js-line-number" data-line-number="646"></td>
        <td id="LC646" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>emails</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>prompt</span><span class=pl-kos>(</span><span class=pl-s>&quot;New Email Address&quot;</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L647" class="blob-num js-line-number" data-line-number="647"></td>
        <td id="LC647" class="blob-code blob-code-inner js-file-line">                <span class=pl-s>&quot;Enter and confirm the new email address.&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L648" class="blob-num js-line-number" data-line-number="648"></td>
        <td id="LC648" class="blob-code blob-code-inner js-file-line">                <span class=pl-kos>{</span> <span class=pl-s>&quot;Email&quot;</span>: <span class=pl-s>&quot;text&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Confirm Email&quot;</span>: <span class=pl-s>&quot;text&quot;</span> <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L649" class="blob-num js-line-number" data-line-number="649"></td>
        <td id="LC649" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L650" class="blob-num js-line-number" data-line-number="650"></td>
        <td id="LC650" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>while</span> <span class=pl-kos>(</span><span class=pl-s1>emails</span><span class=pl-kos>.</span><span class=pl-c1>Email</span> !== <span class=pl-s1>emails</span><span class=pl-kos>[</span><span class=pl-s>&quot;Confirm Email&quot;</span><span class=pl-kos>]</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L651" class="blob-num js-line-number" data-line-number="651"></td>
        <td id="LC651" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L652" class="blob-num js-line-number" data-line-number="652"></td>
        <td id="LC652" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// Update it!</span></td>
      </tr>
      <tr>
        <td id="L653" class="blob-num js-line-number" data-line-number="653"></td>
        <td id="LC653" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L654" class="blob-num js-line-number" data-line-number="654"></td>
        <td id="LC654" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L655" class="blob-num js-line-number" data-line-number="655"></td>
        <td id="LC655" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>updateEmail</span><span class=pl-kos>(</span><span class=pl-s1>emails</span><span class=pl-kos>.</span><span class=pl-c1>Email</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L656" class="blob-num js-line-number" data-line-number="656"></td>
        <td id="LC656" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>sendEmailVerification</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L657" class="blob-num js-line-number" data-line-number="657"></td>
        <td id="LC657" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L658" class="blob-num js-line-number" data-line-number="658"></td>
        <td id="LC658" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L659" class="blob-num js-line-number" data-line-number="659"></td>
        <td id="LC659" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L660" class="blob-num js-line-number" data-line-number="660"></td>
        <td id="LC660" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L661" class="blob-num js-line-number" data-line-number="661"></td>
        <td id="LC661" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L662" class="blob-num js-line-number" data-line-number="662"></td>
        <td id="LC662" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L663" class="blob-num js-line-number" data-line-number="663"></td>
        <td id="LC663" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L664" class="blob-num js-line-number" data-line-number="664"></td>
        <td id="LC664" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Email Address Changed&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Your email address has been changed. Please, verify the new address.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L665" class="blob-num js-line-number" data-line-number="665"></td>
        <td id="LC665" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L666" class="blob-num js-line-number" data-line-number="666"></td>
        <td id="LC666" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L667" class="blob-num js-line-number" data-line-number="667"></td>
        <td id="LC667" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Change Password&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L668" class="blob-num js-line-number" data-line-number="668"></td>
        <td id="LC668" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L669" class="blob-num js-line-number" data-line-number="669"></td>
        <td id="LC669" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L670" class="blob-num js-line-number" data-line-number="670"></td>
        <td id="LC670" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L671" class="blob-num js-line-number" data-line-number="671"></td>
        <td id="LC671" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L672" class="blob-num js-line-number" data-line-number="672"></td>
        <td id="LC672" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>submitButton</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L673" class="blob-num js-line-number" data-line-number="673"></td>
        <td id="LC673" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L674" class="blob-num js-line-number" data-line-number="674"></td>
        <td id="LC674" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>passwordChangeWindow</span> <span class=pl-c1>=</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>create</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L675" class="blob-num js-line-number" data-line-number="675"></td>
        <td id="LC675" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L676" class="blob-num js-line-number" data-line-number="676"></td>
        <td id="LC676" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>title</span>: <span class=pl-s>&quot;Change Password&quot;</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L677" class="blob-num js-line-number" data-line-number="677"></td>
        <td id="LC677" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>className</span>: <span class=pl-s>&quot;accountWindow&quot;</span></td>
      </tr>
      <tr>
        <td id="L678" class="blob-num js-line-number" data-line-number="678"></td>
        <td id="LC678" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L679" class="blob-num js-line-number" data-line-number="679"></td>
        <td id="LC679" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L680" class="blob-num js-line-number" data-line-number="680"></td>
        <td id="LC680" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L681" class="blob-num js-line-number" data-line-number="681"></td>
        <td id="LC681" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addLabel</span><span class=pl-kos>(</span><span class=pl-s>&quot;Enter a new password: &quot;</span><span class=pl-kos>,</span> <span class=pl-s1>passwordChangeWindow</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L682" class="blob-num js-line-number" data-line-number="682"></td>
        <td id="LC682" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L683" class="blob-num js-line-number" data-line-number="683"></td>
        <td id="LC683" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>passwordCreator</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addPasswordConcocter</span><span class=pl-kos>(</span><span class=pl-s1>passwordChangeWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L684" class="blob-num js-line-number" data-line-number="684"></td>
        <td id="LC684" class="blob-code blob-code-inner js-file-line">                                                       <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>PASSWORD_REQUIREMENTS</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L685" class="blob-num js-line-number" data-line-number="685"></td>
        <td id="LC685" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L686" class="blob-num js-line-number" data-line-number="686"></td>
        <td id="LC686" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span> <span class=pl-c1>=</span> <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Submit&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>passwordChangeWindow</span><span class=pl-kos>,</span> </td>
      </tr>
      <tr>
        <td id="L687" class="blob-num js-line-number" data-line-number="687"></td>
        <td id="LC687" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L688" class="blob-num js-line-number" data-line-number="688"></td>
        <td id="LC688" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L689" class="blob-num js-line-number" data-line-number="689"></td>
        <td id="LC689" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>const</span> <span class=pl-s1>password</span> <span class=pl-c1>=</span> <span class=pl-s1>passwordCreator</span><span class=pl-kos>.</span><span class=pl-en>get</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L690" class="blob-num js-line-number" data-line-number="690"></td>
        <td id="LC690" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L691" class="blob-num js-line-number" data-line-number="691"></td>
        <td id="LC691" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L692" class="blob-num js-line-number" data-line-number="692"></td>
        <td id="LC692" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L693" class="blob-num js-line-number" data-line-number="693"></td>
        <td id="LC693" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>updatePassword</span><span class=pl-kos>(</span><span class=pl-s1>password</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L694" class="blob-num js-line-number" data-line-number="694"></td>
        <td id="LC694" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L695" class="blob-num js-line-number" data-line-number="695"></td>
        <td id="LC695" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L696" class="blob-num js-line-number" data-line-number="696"></td>
        <td id="LC696" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L697" class="blob-num js-line-number" data-line-number="697"></td>
        <td id="LC697" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>,</span> <span class=pl-s1>error</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L698" class="blob-num js-line-number" data-line-number="698"></td>
        <td id="LC698" class="blob-code blob-code-inner js-file-line">                </td>
      </tr>
      <tr>
        <td id="L699" class="blob-num js-line-number" data-line-number="699"></td>
        <td id="LC699" class="blob-code blob-code-inner js-file-line">                <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L700" class="blob-num js-line-number" data-line-number="700"></td>
        <td id="LC700" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L701" class="blob-num js-line-number" data-line-number="701"></td>
        <td id="LC701" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L702" class="blob-num js-line-number" data-line-number="702"></td>
        <td id="LC702" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Updated password!&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Your password has been updated.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L703" class="blob-num js-line-number" data-line-number="703"></td>
        <td id="LC703" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L704" class="blob-num js-line-number" data-line-number="704"></td>
        <td id="LC704" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>passwordChangeWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L705" class="blob-num js-line-number" data-line-number="705"></td>
        <td id="LC705" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L706" class="blob-num js-line-number" data-line-number="706"></td>
        <td id="LC706" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L707" class="blob-num js-line-number" data-line-number="707"></td>
        <td id="LC707" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>// TODO This looks like duplicated code...</span></td>
      </tr>
      <tr>
        <td id="L708" class="blob-num js-line-number" data-line-number="708"></td>
        <td id="LC708" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>//      How might this be fixed?</span></td>
      </tr>
      <tr>
        <td id="L709" class="blob-num js-line-number" data-line-number="709"></td>
        <td id="LC709" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L710" class="blob-num js-line-number" data-line-number="710"></td>
        <td id="LC710" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>transition</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0.4s ease all&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L711" class="blob-num js-line-number" data-line-number="711"></td>
        <td id="LC711" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>overflow</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;hidden&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L712" class="blob-num js-line-number" data-line-number="712"></td>
        <td id="LC712" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L713" class="blob-num js-line-number" data-line-number="713"></td>
        <td id="LC713" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>passwordCreator</span><span class=pl-kos>.</span><span class=pl-en>onValid</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L714" class="blob-num js-line-number" data-line-number="714"></td>
        <td id="LC714" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L715" class="blob-num js-line-number" data-line-number="715"></td>
        <td id="LC715" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;1.5em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L716" class="blob-num js-line-number" data-line-number="716"></td>
        <td id="LC716" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L717" class="blob-num js-line-number" data-line-number="717"></td>
        <td id="LC717" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L718" class="blob-num js-line-number" data-line-number="718"></td>
        <td id="LC718" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>passwordCreator</span><span class=pl-kos>.</span><span class=pl-en>onInvalid</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L719" class="blob-num js-line-number" data-line-number="719"></td>
        <td id="LC719" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L720" class="blob-num js-line-number" data-line-number="720"></td>
        <td id="LC720" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>submitButton</span><span class=pl-kos>.</span><span class=pl-c1>style</span><span class=pl-kos>.</span><span class=pl-c1>height</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;0em&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L721" class="blob-num js-line-number" data-line-number="721"></td>
        <td id="LC721" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L722" class="blob-num js-line-number" data-line-number="722"></td>
        <td id="LC722" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L723" class="blob-num js-line-number" data-line-number="723"></td>
        <td id="LC723" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L724" class="blob-num js-line-number" data-line-number="724"></td>
        <td id="LC724" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HTMLHelper</span><span class=pl-kos>.</span><span class=pl-en>addButton</span><span class=pl-kos>(</span><span class=pl-s>&quot;Delete Account&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>accountManageWindow</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L725" class="blob-num js-line-number" data-line-number="725"></td>
        <td id="LC725" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L726" class="blob-num js-line-number" data-line-number="726"></td>
        <td id="LC726" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L727" class="blob-num js-line-number" data-line-number="727"></td>
        <td id="LC727" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>doDelete</span> <span class=pl-c1>=</span> <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>confirm</span><span class=pl-kos>(</span><span class=pl-s>&quot;Confirm Deletion&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Really delete account?&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Yes&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;No&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L728" class="blob-num js-line-number" data-line-number="728"></td>
        <td id="LC728" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L729" class="blob-num js-line-number" data-line-number="729"></td>
        <td id="LC729" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>doDelete</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L730" class="blob-num js-line-number" data-line-number="730"></td>
        <td id="LC730" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L731" class="blob-num js-line-number" data-line-number="731"></td>
        <td id="LC731" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L732" class="blob-num js-line-number" data-line-number="732"></td>
        <td id="LC732" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L733" class="blob-num js-line-number" data-line-number="733"></td>
        <td id="LC733" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L734" class="blob-num js-line-number" data-line-number="734"></td>
        <td id="LC734" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>accountManageWindow</span><span class=pl-kos>.</span><span class=pl-en>close</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L735" class="blob-num js-line-number" data-line-number="735"></td>
        <td id="LC735" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L736" class="blob-num js-line-number" data-line-number="736"></td>
        <td id="LC736" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L737" class="blob-num js-line-number" data-line-number="737"></td>
        <td id="LC737" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L738" class="blob-num js-line-number" data-line-number="738"></td>
        <td id="LC738" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>deleteUserData</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L739" class="blob-num js-line-number" data-line-number="739"></td>
        <td id="LC739" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-s1>user</span><span class=pl-kos>.</span><span class=pl-en>delete</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L740" class="blob-num js-line-number" data-line-number="740"></td>
        <td id="LC740" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L741" class="blob-num js-line-number" data-line-number="741"></td>
        <td id="LC741" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Deletion&quot;</span><span class=pl-kos>,</span> <span class=pl-s>&quot;Account deleted.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L742" class="blob-num js-line-number" data-line-number="742"></td>
        <td id="LC742" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L743" class="blob-num js-line-number" data-line-number="743"></td>
        <td id="LC743" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L744" class="blob-num js-line-number" data-line-number="744"></td>
        <td id="LC744" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L745" class="blob-num js-line-number" data-line-number="745"></td>
        <td id="LC745" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>await</span> <span class=pl-v>SubWindowHelper</span><span class=pl-kos>.</span><span class=pl-en>alert</span><span class=pl-kos>(</span><span class=pl-s>&quot;Error: &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>code</span><span class=pl-kos>,</span> <span class=pl-s1>e</span><span class=pl-kos>.</span><span class=pl-c1>message</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L746" class="blob-num js-line-number" data-line-number="746"></td>
        <td id="LC746" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L747" class="blob-num js-line-number" data-line-number="747"></td>
        <td id="LC747" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L748" class="blob-num js-line-number" data-line-number="748"></td>
        <td id="LC748" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L749" class="blob-num js-line-number" data-line-number="749"></td>
        <td id="LC749" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L750" class="blob-num js-line-number" data-line-number="750"></td>
        <td id="LC750" class="blob-code blob-code-inner js-file-line"><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-en>isSignedIn</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L751" class="blob-num js-line-number" data-line-number="751"></td>
        <td id="LC751" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L752" class="blob-num js-line-number" data-line-number="752"></td>
        <td id="LC752" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>user</span> != undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L753" class="blob-num js-line-number" data-line-number="753"></td>
        <td id="LC753" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L754" class="blob-num js-line-number" data-line-number="754"></td>
        <td id="LC754" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L755" class="blob-num js-line-number" data-line-number="755"></td>
        <td id="LC755" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Initialize on page load.</span></td>
      </tr>
      <tr>
        <td id="L756" class="blob-num js-line-number" data-line-number="756"></td>
        <td id="LC756" class="blob-code blob-code-inner js-file-line"><span class=pl-en>requestAnimationFrame</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L757" class="blob-num js-line-number" data-line-number="757"></td>
        <td id="LC757" class="blob-code blob-code-inner js-file-line"><span class=pl-k>async</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L758" class="blob-num js-line-number" data-line-number="758"></td>
        <td id="LC758" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L759" class="blob-num js-line-number" data-line-number="759"></td>
        <td id="LC759" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>await</span> <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>waitFor</span><span class=pl-kos>(</span><span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>PAGE_SETUP_COMPLETE</span><span class=pl-kos>,</span> <span class=pl-c1>true</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L760" class="blob-num js-line-number" data-line-number="760"></td>
        <td id="LC760" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L761" class="blob-num js-line-number" data-line-number="761"></td>
        <td id="LC761" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Only attempt to manage authentication if firebase is defined.</span></td>
      </tr>
      <tr>
        <td id="L762" class="blob-num js-line-number" data-line-number="762"></td>
        <td id="LC762" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>firebase</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L763" class="blob-num js-line-number" data-line-number="763"></td>
        <td id="LC763" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L764" class="blob-num js-line-number" data-line-number="764"></td>
        <td id="LC764" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>firebase</span><span class=pl-kos>.</span><span class=pl-en>auth</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>onAuthStateChanged</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L765" class="blob-num js-line-number" data-line-number="765"></td>
        <td id="LC765" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L766" class="blob-num js-line-number" data-line-number="766"></td>
        <td id="LC766" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>user</span><span class=pl-kos>)</span> <span class=pl-c>// User is defined when signed in.</span></td>
      </tr>
      <tr>
        <td id="L767" class="blob-num js-line-number" data-line-number="767"></td>
        <td id="LC767" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L768" class="blob-num js-line-number" data-line-number="768"></td>
        <td id="LC768" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_IN_EVENT</span><span class=pl-kos>,</span> <span class=pl-s1>user</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L769" class="blob-num js-line-number" data-line-number="769"></td>
        <td id="LC769" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span> <span class=pl-c>// Otherwise, the user is signed out.</span></td>
      </tr>
      <tr>
        <td id="L770" class="blob-num js-line-number" data-line-number="770"></td>
        <td id="LC770" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L771" class="blob-num js-line-number" data-line-number="771"></td>
        <td id="LC771" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L772" class="blob-num js-line-number" data-line-number="772"></td>
        <td id="LC772" class="blob-code blob-code-inner js-file-line">                <span class=pl-v>JSHelper</span><span class=pl-kos>.</span><span class=pl-c1>Notifier</span><span class=pl-kos>.</span><span class=pl-en>notify</span><span class=pl-kos>(</span><span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>SIGN_OUT_EVENT</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L773" class="blob-num js-line-number" data-line-number="773"></td>
        <td id="LC773" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L774" class="blob-num js-line-number" data-line-number="774"></td>
        <td id="LC774" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L775" class="blob-num js-line-number" data-line-number="775"></td>
        <td id="LC775" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Store the user.</span></td>
      </tr>
      <tr>
        <td id="L776" class="blob-num js-line-number" data-line-number="776"></td>
        <td id="LC776" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>AuthHelper</span><span class=pl-kos>.</span><span class=pl-c1>user</span> <span class=pl-c1>=</span> <span class=pl-s1>user</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L777" class="blob-num js-line-number" data-line-number="777"></td>
        <td id="LC777" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L778" class="blob-num js-line-number" data-line-number="778"></td>
        <td id="LC778" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L779" class="blob-num js-line-number" data-line-number="779"></td>
        <td id="LC779" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
</table>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1" aria-label="Inline file action toolbar">
      <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
    </summary>
    <details-menu>
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2" style="width:185px">
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;">
            Copy lines
          </clipboard-copy>
        </li>
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;">
            Copy permalink
          </clipboard-copy>
        </li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/UWAppDev/uwappdev.github.io/issues/new">Reference in new issue</a></li>
      </ul>
    </details-menu>
  </details>

  </div>

    </div>

  


  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>

    <div class="Popover anim-scale-in js-tagsearch-popover"
     hidden
     data-tagsearch-url="/UWAppDev/uwappdev.github.io/find-definition"
     data-tagsearch-ref="0fa8268c9e6c4a64819aa47d136ed12fafe69437"
     data-tagsearch-path="Libs/AuthHelper.js"
     data-tagsearch-lang="JavaScript"
     data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_symbol&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_symbol&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/AuthHelper.js&quot;,&quot;user_id&quot;:46334387}}"
     data-hydro-click-hmac="64e7c43b77418808ddc4ca605b8e6249d87a18c71d40207a5a4c7d09f5f5ff73">
  <div class="Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box box-shadow-large">
    <div class="TagsearchPopover-content js-tagsearch-popover-content overflow-auto" style="will-change:transform;">
    </div>
  </div>
</div>




  </div>
</div>

    </main>
  </div>
  

  </div>

        
<div class="footer container-xl width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">&copy; 2020 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>

    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    <script crossorigin="anonymous" async="async" integrity="sha512-bn/3rKJzBl2H64K38R8KaVcT26vKK7BJQC59lwYc+9fjlHzmy0fwh+hzBtsgTdhIi13dxjzNKWhdSN8WTM9qUw==" type="application/javascript" id="js-conditional-compat" data-src="https://github.githubassets.com/assets/compat-bootstrap-6e7ff7ac.js"></script>
    <script crossorigin="anonymous" integrity="sha512-66iSSZrIoQctMJb6USLgAUBxXV82p3JQTUWGIwN/klsywNeBXy59fW5kqtQPbKTQJYtAdHbsiAJzOoY7zgj/Uw==" type="application/javascript" src="https://github.githubassets.com/assets/environment-bootstrap-eba89249.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-DOd7qGW6QV+ebX8GXvsADOaVYxoAPfrr1hnvYJ7EZwX3OxWqPdFvyLdjbV3zwA4eW3H3EmjggGjStE5UE285vA==" type="application/javascript" src="https://github.githubassets.com/assets/vendor-0ce77ba8.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-co+zOTSpzxx6JoM35lmjAiwoxIHgfLg05wD7HYFQeDAahWFam5U/aYNFG4PEy1aJvL6IcJDcp3qcglZJXcG/hg==" type="application/javascript" src="https://github.githubassets.com/assets/frameworks-728fb339.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-+lymvNF/kkbWyNxJVHK+0ianQbVggsfZ3inLiuzugkLG9qX/qXLs/vaGgvClMudhnKA1tJkXWJgnGhN+LH+fyw==" type="application/javascript" src="https://github.githubassets.com/assets/github-bootstrap-fa5ca6bc.js"></script>
    
      <script crossorigin="anonymous" async="async" integrity="sha512-R96MM8s0Y6IohqxZNKDeymadVcVg1KjV6E71KYykaisTYDPGpONjop8kGyNY5DSOJEsFp3737xpcjEo1a333WQ==" type="application/javascript" data-module-id="./Sortable.js" data-src="https://github.githubassets.com/assets/Sortable-47de8c33.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-4GcSWGoe36+BoWho4gtJcByZe8j43w+lt2/PDe3rmBxRVSgD29YipDwuIywe8fvOd2b2CszBqaPGxSznUtE3Xg==" type="application/javascript" data-module-id="./drag-drop.js" data-src="https://github.githubassets.com/assets/drag-drop-e0671258.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-2k8dDHk0yt52uKvOvgc9cwOXOeJhxBfVP5kPS2BrCdytDmtEIJ2yone26vFENAyk1a2aFQ7KDgEevRQafuAf8A==" type="application/javascript" data-module-id="./gist-vendor.js" data-src="https://github.githubassets.com/assets/gist-vendor-da4f1d0c.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-Bc7fK3x3D97t//yKXJFTcKAZWc+DoBkyOGeSrGKN6K1s+A5rkUmH7M+HuvXOQEd+5pBqcB/LKYTbItFp7J4mjg==" type="application/javascript" data-module-id="./randomColor.js" data-src="https://github.githubassets.com/assets/randomColor-05cedf2b.js"></script>
    
    
  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>


  </body>
</html>


// Inserted file ThreadHelper.js encoding='utf-8'
"use strict";

// Allows THREADED code to execute using eval and workers.
//Note: After adding functions to the thread. Call prepare 
//(or compile, both are the same) before running functions.
function Thread()
{
    this.worker = undefined;
    this.listeners = undefined;
    this.sourceString = 
    `'use strict';
let __FUNCTIONS__ = { };

self.addEventListener("message", function(event)
{
    const data = event.data;
    const args = data.args; // Format: [functionName, listenerId, args]
    const functionName = data.functionName || data.toFn;
    
    console.assert(functionName in __FUNCTIONS__);
    
    const listenerId = data.listenerId || data.fromId;
    let argsToSupply = data.args;
    const functionToCall = __FUNCTIONS__[functionName];
    
    // TODO Combine postError and po
    
    // Replies with an error/success..
    const postResult = function(type, args)
    {
        var toSend = { type: type, toId: listenerId, fromFunction: functionName + "", args: (args || ""), serializedArgs: false };
        
        try
        {
            self.postMessage(toSend);
        }
        catch(e)
        {
            toSend.args = SerializationHelper.serializeObject(args);
            toSend.serializedArgs = true;
            
            self.postMessage(toSend);
        }
    };
    
    // Convienence methods.
    const postSuccess = (args) => postResult("SUCCESS", args);
    const postError = (args) => 
    {
        console.error(args);
        
        return postResult("ERROR", args);
    };
    
    // If the arguments were serialized,
    if (data.argsSerialized)
    {
        // Check for the serialization library.
        try
        {
            console.assert(SerializationHelper.inflateObject != null);
        }
        catch(e)
        {
            // Note the error.
            postError("SerializationHelper must be linked to this thread, to allow processing of one or more of the given arguments.");
            
            return; // Stop.
        }
        
        argsToSupply = [];
        
        // Unserialize.
        for (var i = 0; i < args.length; i++)
        {
            argsToSupply.push(SerializationHelper.inflateObject(args[i]));
        }
    }
    
    // All registered functions MUST return promises.
    functionToCall.apply(self, argsToSupply).then((...responseArgs) =>
    {
        if (responseArgs.length === 1)
        {
            responseArgs = responseArgs[0];
        }
    
        postSuccess(responseArgs);
    }).catch((...errorArgs) =>
    {
        if (errorArgs.length === 1)
        {
            errorArgs = errorArgs[0];
        }
    
        postError(errorArgs);
    });
});
        

    `;

    var me = this; // Keeps a refrence to original context.

    var loadFromSource = function(source)
    {
        // Add libraries to 
    
        // See https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Transferring_data_to_and_from_workers_further_details
        //and https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob.
        var blob = new Blob([source], { type: "text/javascript" });
        var scriptURL = URL.createObjectURL(blob);
        
        // If the worker already exists, 
        //terminate it.
        if (me.worker)
        {
            me.worker.terminate();
        }
        
        // Make the worker.
        me.worker = new Worker(scriptURL);
    };
    
    // The key is the function name. The argumentsList variable
    //is either an array of argument names or a string of comma-separated values.
    //All given functions are async.
    this.putFunction = function(key, argumentsList, source)
    {
        if (!(typeof (argumentsList) === "string"))
        {
            argumentsList = (argumentsList || []).join(", ");
        }
        
        if (typeof source === "function")
        {
            let sourceString = source.toString();
            
            source = 
            `
return (${ sourceString }).apply(this, [${ argumentsList }]);
            `;
        }
        
        this.sourceString += `

// Register the function ${key} with those that can be called.
__FUNCTIONS__["${ key }"] = (async (${ argumentsList }) => 
{
    ${ source }
});`;
    };
    
    // Put an object library, like Mat44Helper,
    //or Mat into the thread. Be sure to include
    //ALL OF THE LIBRARY's DEPENDENCIES! This does
    //not work for libraries that depend on the DOM.
    //DANGER: Usage of this method can lead to broken
    //code.
    // Library methods/classes are only accessible by
    //functions placed using putFunction or other libraries
    //(you can't call Mat44Helper.<something> using 
    //Thread.callFunction).
    this.putLibrary = function(libContents, libName)
    {
        var stringContents = libContents.toString();
        
        // If the object was only converted to [object Object],
        //try converting it key by key.
        if (stringContents === "[object Object]")
        {
            stringContents = "let " + libName + " = " + SerializationHelper.stringifyFull(libContents) + ";";
        }
        
        this.sourceString += `
// Imported library.
${ stringContents }
        `;
    };
    
    // This MUST be called before useage of functions.
    this.prepare = function()
    {
        loadFromSource(this.sourceString);
        
        // List of listeners.
        this.listeners = {};
        
        // Keep a refrence to the original context.
        //Added before the use of "me" was found to
        //be necessary.
        var thread = this;
        
        // When a message is sent from the worker,
        this.worker.onmessage = function(event)
        {
            // Find the listener...
            const data = event.data;
            
            // Make sure the listener actually exists...
            console.assert(data.fromFunction in thread.listeners);
            
            let listeners = thread.listeners[data.fromFunction];
            
            // Make sure the listener still exists...
            console.assert(data.toId in listeners);
            
            // Send data to that listener.
            let listener = listeners[data.toId];
            
            let args = data.args;
            
            // If the arguments were serialized, inflate them.
            if (data.serializedArgs)
            {
                args = SerializationHelper.inflateObject(args);
            }
            
            // Notify the listener.
            if (data.type === "ERROR")
            {
                listener.onError(args);
            }
            else
            {
                listener.onComplete(args);
            }
            
            // Remove the listener.
            delete listeners[data.toId];
        };
    };
    
    this.compile = this.prepare; // Link names.
    
    // Returns a promise. Note that args are COPIED
    //before transmission to the thread. If errors
    //occur in transmission of arguments on function
    //calling, try linking the SerializationHelper
    //library.
    this.callFunction = function(fnName, args)
    {
        // So long as the worker to be
        //used exists,
        if (this.worker === undefined)
        {
            throw "This thread must be compiled before it can be run!";
        }
        
        var thread = this; // Keep a refrence to
                           //the calling context.
        return new Promise((accept, reject) =>
        {
            // Create the listeners list, if necessary.
            if (!thread.listeners[fnName])
            {
                thread.listeners[fnName] = {};
            }
            
            // Create a unique listener id.
            const listenerId = (new Date()).getTime();
            
            // Create the message.
            let message = { toFn: fnName, listenerId: listenerId, args: args, argsSerialized: false };
            
            // Post the message.
            try
            {
                thread.worker.postMessage(message);
            }
            catch(exception) // An argument may have been unportable!
            {                //Try to force it.
                            // This will fail if SerializationHelper has
                            //not been linked to the thread.
                if (args) // Only try if args exists.
                {
                    let serializedArgs = [];
                    
                    // Serialize the arguments.
                    for (var i = 0; i < args.length; i++)
                    {
                        serializedArgs.push(SerializationHelper.serializeObject(args[i]));
                    }
                
                    // Change the arguments.
                    message.argsSerialized = true;
                    message.args = serializedArgs;
                
                    // Try to post the message again.
                    thread.worker.postMessage(message);
                }
                else
                {
                    throw exception;
                }
            }
            
            // Set listener properties.
            thread.listeners[fnName][listenerId] = 
            {
                onError: (reason) =>
                {
                    reject(reason);
                },
                onComplete: (args) =>
                {
                    accept(args);
                }
            };
        });
    };
    
    // Get another thread with
    //the same functions.
    this.copy = function()
    {
        var other = new Thread();
        
        other.sourceString = me.sourceString;
        
        if (me.worker)
        {
            other.compile();
        }
        
        return other;
    };
}

var ThreadHelper = {};
ThreadHelper.threadSafeLibraries = {}; // Library names as keys and refrences to the libraries as values.
ThreadHelper.mustAddThreadSafeLibraries = true;

// Make a thread linked with thread-safe libraries.
ThreadHelper.makeLibLinkedThread = function()
{
    // ThreadSafeLibraries is not immediately initialized
    //to prevent refrence errors.
    if (ThreadHelper.mustAddThreadSafeLibraries)
    {
        ThreadHelper.threadSafeLibraries =
        {"Mat": Mat, "Mat44": Mat44, "MatHelper": MatHelper, "Mat44Helper": Mat44Helper, "Point": Point, "Vector3": Vector3, "ModelHelper": ModelHelper, "JSHelper": JSHelper, "ArrayHelper": ArrayHelper,
        "SerializationHelper": SerializationHelper }; 
        
        ThreadHelper.mustAddThreadSafeLibraries = false;
    }
    
    var thread;
    
    // If a library-linked thread already exists,
    //just copy it.
    if (ThreadHelper.__libLinkedThread)
    {
        thread = ThreadHelper.__libLinkedThread.copy();
    }
    else
    {
        var thread = new Thread();
        
        // Otherwise, link it.
        for (var i in ThreadHelper.threadSafeLibraries)
        {
            thread.putLibrary(ThreadHelper.threadSafeLibraries[i], i);
        }
        
        // Make a copy of the thread...
        ThreadHelper.__libLinkedThread = thread.copy();
    }
    
    return thread;
};

// Runs a quick test of the ThreadHelper utility.
ThreadHelper.test = function()
{
    console.log("Testing ThreadHelper...");
    
    var t = ThreadHelper.makeLibLinkedThread();
    t.putFunction("computeVerticies", ["verticies", "startAngle", "endAngle",  "divisions"], ModelHelper.silhouetteToVerticies);
    
    t.compile();
    
    t.callFunction("computeVerticies", [[new Point(0, 0), new Point(1, 1), new Point(3, 3)], 0, Math.PI, 8]).then(result => console.log(result));
    
    return true;
};

// Inserted file setup.js encoding='utf-8'
"use strict";

/**
 * Injects stylesheets necessary for other librarys' proper functioning.
 */

const styleSheets = `
@keyframes fadeIn
{
    0% { filter: opacity(0%); }
    100% { filter: opaicty(100%); }
}

@keyframes fadeOut
{
    0% { filter: opacity(100%); display: block; }
    100% { filter: opacity(0%); display: none; }
}

.windowContainer
{
    box-shadow: 2px 1px 24px rgba(100, 100, 100, 0.6);
    position: fixed;
    background-color: rgba(200, 200, 200, 0.8);
    
    border-top-left-radius: 7px;
}

.windowContainerContent
{
    overflow-y: auto;
    overflow-x: hidden;
}

.windowContainerTitleBar
{
    background-image: radial-gradient(rgba(255, 255, 255, 0.8), rgba(200, 200, 200, 0.9));
    background-size: 4px 3px;
    
    font: 12pt Sans;
    text-shadow: 0px 0px 3px rgba(0, 0, 0, 1);
    color: black;
    
    padding: 4px;
    border-bottom-left-radius: 0px;
    border-top-left-radius: 7px;
    
    user-select: none !important;
    
    cursor: initial;
    
    box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.1);
}

.windowContainerTabZone
{
    background-color: #aaaaaa;
    font: 12pt Sans;
    
    box-shadow: 0px 2px 1px rgba(0, 0, 0, 0.4);
}

.baseTab
{
    cursor: pointer;
    border-bottom: 2px groove gray;
}

.baseTabLabel
{
    padding-right: 5px;
    margin-top: 3px;
    margin-bottom: 3px;
}

.baseMenu
{
    background-color: #aaaaaa;
    box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.4);
    
    animation: fadeIn 0.2s ease;
}

.windowContainerCloseButton
{
    transition: 0.3s ease all;
    
    text-shadow: 0px 0px 3px rgba(255, 0, 0, 0.95);
    color: #bbbbbb;
    
    filter: blur(1px);
    
    animation: fadeIn 0.5s ease;
}

.windowContainerCloseButton:hover
{
    transform: matrix(1, 0, 0.1, 0.9, 0, 0);
    filter: blur(0px);
}

.windowContainerMinimizeButton, .windowContainerMaximizeButton
{
    padding-left: 7px;
    margin-right: 6px;
    margin-left: 4px;
    
    border-color: #dddddd;
    border-style: ridge;
    
    cursor: pointer;
    
    filter: blur(1px);
    
    transform: rotate(0deg);
    
    transition: 1s ease all;
}

.windowContainerMinimizeButton:hover, .windowContainerMaximizeButton:hover
{
    transform: rotate(1deg);
}

.windowContainerMinimizeButton
{
    border-bottom-width: 3px;
    border-top-width: 0px;
    border-left-width: 0px;
    border-right-width: 0px;
}

.windowContainerMaximizeButton
{
    border-top-width: 2px;
    border-left-width: 2px;
    border-right-width: 2px;
    border-bottom-width: 2px;
}

.windowDragElement
{
    top: 0;
    left: 0;
}

.windowContainerResizeZone
{
    animation: fadeIn 0.5s ease;
    
    position: fixed;
    border: 1px solid gray;
    
    box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.4);
    
    padding: 7px;
    
    border-radius: 100%;
}

/* Inserted File.  "widgetStyles.css". */
.progressBarContainer
{
    padding: 0px;
    display: block;
    
    border-radius: 4px;
    box-shadow: inset 2px -2px 3px rgba(0, 0, 0, 0.9);
    
    background-color: rgba(100, 100, 100, 0.4);
    background-image: radial-gradient(rgba(100, 100, 100, 0.3), rgba(150, 10, 150, 0.4), rgba(150, 10, 150, 0.6));
    background-size: 3px 3px;
    
    overflow-y: hidden;
    
    height: 25px;
}

.progressBarTrack
{
    margin: 0px;
    padding: 0px;
    
    height: 25px;
    width: 0px;
    
    background-color: rgba(255, 255, 0, 0.8);
    background-image: linear-gradient(10deg, rgba(100, 255, 255, 0.8), rgba(0, 255, 200, 0.5), rgba(100, 255, 255, 0.8));
    
    transition: 0.5s ease width;
}

.passwordConcocter
{
    border: 1px solid gray;
    border-top-left-radius: 5px;
    
    padding: 6px;
    margin: 3px;
}

.smallInput
{
    width: 50px;
}

/* A different type of tab. */
.hiddenTab
{
    animation: 0.5s ease fadeOut;
    display: none;
}

@keyframes transitTabLabelUnselect
{
    0% { background-color: rgba(100, 20, 200, 0.8); }
    100% { background-color: rgba(0, 0, 0, 0.6); }
}

@keyframes transitTabLabelSelect
{
    0% { background-color: rgba(0, 0, 0, 0.6); }
    100% { background-color: rgba(100, 20, 200, 0.8); }
}

.tabLabel
{
    border-top: 1px solid white;
    border-left: 1px solid white;
    border-right: 1px solid white;
    
    box-shadow: 1px 2px 2px rgba(0, 255, 0, 0.7);
    
    padding: 4px;
    
    margin-right: 5px;
    
    border-top-left-radius: 4px;
    
    color: white;
    
    background-color: rgba(0, 0, 0, 0.6);
    
    font: 12pt Calibri, Monospace, Sans;
    
    flex-grow: 1;
    
    transition: 0.5s ease all;
    
    cursor: pointer;
    
    transform: rotate(0deg);
    
    transition: 0.5s ease all;
}

.tabLabelShown
{
    animation: 0.5s ease fadeIn;
}

.tabLabelHidden
{
    animation: 0.5s ease fadeOut;
    display: none;
}

.tabContentShown
{
    animation: 0.5s ease fadeIn;
    
    flex-grow: 1;
}

/* TODO This is UGLY. Fix it. */
span.tabContentShown
{   
    display: flex;
}

span.tabContentShown > input, span.tabContentShown > button
{
    flex-grow: 1;
}

.tabContentHidden
{
    animation: 0.5s ease fadeOut;
    display: none;
}

.tabLabelUnselected
{
    animation: 0.5s ease transitTabLabelUnselect;
    background-color: rgba(0, 0, 0, 0.6);
    
    font-size: 9pt;
}

.tabLabelSelected
{
    animation: 0.5s ease transitTabLabelSelect;
    background-color: rgba(100, 20, 200, 0.8);
    
    box-shadow: 1px 2px 3px rgba(255, 255, 255, 0.9);
    
    font-size: 12pt;
    
    cursor: cross;
}

.tabLabelUnselected:hover, .tabLabelUnselected:focus
{
    transform: rotate(2deg) scale(1, 1.1);
    margin-right: 0px;
}

.tabDisplay
{
    display: flex;
    flex-direction: row;
}

.tabGroupContainer
{
    width: 100%;
}

input::placeholder
{
    color: #333333;
    opacity: 0.6;
}

.codeEditor
{
    background-color: rgba(0, 0, 0, 0.9);
    overflow-y: hidden;
    flex-direction: column;
}

.codeEditor canvas
{
    flex-shrink: 1;
    flex-grow: 1;
    min-height: 0;
    min-width: 0;
}

code
{
    background-color: #dddddd;
    color: black;
    border-radius: 8px;
    padding: 1px 5px 1px 5px;
    font-family: 'Courier New', Courier, monospace;

    background-image: radial-gradient(rgba(255, 255, 255, 0.5), rgba(0, 0, 0, 0.0));
    background-size: 3px 3px;
}


input, button
{
    background-color: rgba(155, 100, 255, 0.6);
    background-image: linear-gradient(16deg, rgba(100, 100, 255, 0.7), rgba(100, 0, 100, 0.4), rgba(100, 100, 255, 0.7));
    
    border: 1px solid #667766;
    border-radius: 6px;
    
    box-shadow: 1px 2px 3px rgba(0, 0, 0, 0.4);
    
    min-width: 1px;
    
    font: 12pt Serif;
    color: black;
    text-shadow: 0px 0px 2px rgba(0, 0, 0, 0.7);
    
    transform: matrix(1, 0, 0, 1, 0, 0);
    
    transition: 0.5s ease all;
}

input:hover, button:hover, input:active, button:active
{
    transform: matrix(1.0, 0, 0.05, 0.9, 0, 0);
    
    background-color: rgba(155, 100, 200, 0.7);
}

button:focus
{
    background-color: rgba(100, 100, 100, 0.8);
    transform: matrix(1.0, 0, 0, 1.1, 0, 0);
}

canvas
{
    user-select: none;
}`;

const styleSheetElement = document.createElement("style");

// Allow the browser to defer this code.
requestAnimationFrame(function()
{
    document.body.appendChild(styleSheetElement);
    styleSheetElement.outerHTML = "<style>" + styleSheets + "</style>";
});

const ABOUT_PROGRAM = 
`
    This program is licensed to tou under version two
    of the Mozilla Public License. A copy of this license
    should have been distributed with this program.
`;

const DISCLAIMER =
`
    ~~~THIS PROGRAM HAS SLOPPY CODE~~~
        While viewing this page's 
    JavaScript, please note that much
    of it was written using an older
    version of the keyboard included in
    Keyboard.js and a standard
    mobile-device keyboard. As a result,
    much of this page's code is sloppy.
    Please do not use it as an example
    of how to write code. Regardless,
    welcome to the console/debugger
    and may your interest in the
    source of websites/web-apps take
    you far.
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    ~~~~~THIS PROGRAM IS STILL~~~~~~
    ~~~~~UNDER DEVELOPMENT    ~~~~~~
        There will be bugs! Work may
    be lost! Segments could hang or
    even crash. Please avoid usage
    of this program for ANYTHING
    important until it has reached
    a stable state.
    
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
`;


WebAssembly.Module; // Might fix a bug in Safari.

// Inserted file Editor.js encoding='utf-8'
"use strict";

const EDITOR_SOURCE = "<!DOCTYPE " + "html>\n"
                     +
                     `
                     <!--
                        Note: This source listing includes only
                        INLINE script blocks. If this is the 
                        chunked version of the editor, these
                        will not be visible in this
                        listing.
                     \-->
                     `
                     + 
                     document.documentElement.outerHTML;


const VERSION_CODE = "1.10 (Main)";
let noteError = self.noteError || console.error; // Error logging...

function EditControl(ctx)
{
    this.x = 0;
    this.y = 0;
    this.ctx = ctx;
    this.font = "10pt courier, monospace, sans-serif";

    this.syntaxSelector = new SyntaxSelector();

    this.selecting = false;
    this.ctx.font = this.font;

    this.codeEditing = true;
    this.editable = true;

    this.lineH = this.ctx.measureText("M").width * 1.3;

    this.viewOffset = 0;
    this.maxUndo = 200;

    this.lines = [];

    this.removed = [];
    this.stateSaves = [];
    
    this.undoStack = [];
    this.redoStack = [];

    this.trackRemoved = false;

    const me = this;

    this.setDefaultHighlightScheme = function(key)
    {
        me.syntaxSelector.setDefaultHighlightScheme(key);
    };
    
    // Returns an object that can be used to
    //modify the editor's lines.
    this.getLineHelper = function()
    {
        var result = 
        {
            insert: (index, text, mockCreationTime) =>
            {
                var newLine = me.addLine(index, text);
                
                newLine.creationTime = mockCreationTime;
                
                if (mockCreationTime !== undefined)
                {
                    newLine.setModifiedTime(mockCreationTime);
                }
                
                return newLine;
            },
            
            insertLineObject: (index, lineObject) =>
            {
                me.addRawLine(index, lineObject);
            },
            
            update: (index, text, mockUpdateTime) =>
            {
                var selectedLine = me.lines[index];
                
                if (selectedLine === undefined)
                {
                    throw "The requested line does not exist (LineHelper.update)!";
                }
                
                selectedLine.text = text + "";
                
                // If requested, update the given line.
                if (mockUpdateTime !== undefined)
                {
                    if (selectedLine.creationTime > mockUpdateTime)
                    {
                        selectedLine.creationTime = mockUpdateTime;
                    }
                    
                    selectedLine.setModifiedTime(mockUpdateTime);
                }
            },
            
            remove: (index) =>
            {
                if (me.lines[index])
                {
                    me.lines[index].flaggedForRemoval = true;
                }
            }
        };
        
        return result;
    };
    
    // So a sandboxed control can be passed to
    //other objects.
    const lineHelper = me.getLineHelper();

    // Change should be a function, undoing said change
    //and returning a redo function.
    this.noteChange = function(change)
    {
        if (change)
        {
            if (me.undoStack.length >= me.maxUndo)
            {
                me.undoStack.shift(-me.undoStack.length / 4); // TODO This is O(n).
            }
            
            me.undoStack.push(change);
            
            // Clear the redo stack.
            me.redoStack = [];
        }
    };
    
    // Performs a single undo (e.g. one character insert).
    this.performUndo = function()
    {
        let change = me.undoStack.pop();
        
        if (change)
        {
            let redoChange = change(lineHelper);
            
            // If the change provides a redo option...
            if (redoChange)
            {
                me.redoStack.push(redoChange);
            }
            
            // This could have removed some lines.
            me.removeLinesFlaggedForRemoval();
        }
    };
    
    // A single redo!
    this.performRedo = function()
    {
        let change = me.redoStack.pop();
        
        if (change)
        {
            let undoChange = change(lineHelper);
            
            // If the redo provides an undo...
            if (undoChange)
            {
                me.undoStack.push(undoChange);
            }
            
            // Check: Did this remove lines?
            me.removeLinesFlaggedForRemoval();
        }
    };

    this.getUndoStackCopy = function()
    {
        return ArrayHelper.softCopy(me.undoStack);
    };

    this.getRedoStackCopy = function()
    {
        return ArrayHelper.softCopy(me.redoStack);
    };

    this.saveState = function(doNotAddToStack, excludeText)
    {
        var saveState = {};
        
        if (!excludeText)
        {
            saveState.content = me.getText(); // TODO: Make this faster.
        }
        
        saveState.viewOffset = me.viewOffset * 1;
        saveState.editable = me.editable;
        saveState.highlighter = me.syntaxSelector.getDefaultHighlighter();
        saveState.undoStack = me.getUndoStackCopy();
        saveState.redoStack = me.getRedoStackCopy();

        if (!doNotAddToStack)
        {
            me.stateSaves.push(saveState);
        }
        
        return saveState;
    };
    
    // Clears and saves state. Permits caching of lines,
    //rather than the entire content of the document.
    this.saveStateAndClear = function()
    {
        let saveState = me.saveState(false, true);
        saveState.lines = me.lines; // Cache the editor's lines.
        me.clear();
    };

    this.restoreState = function(lastState)
    {
        lastState = lastState || me.stateSaves.pop();

        if (lastState !== undefined)
        {
            me.clear();
            
            if (lastState.content)
            {
                me.displayContent(lastState.content);
            }
            else if (lastState.lines) // If a different set of lines was cached...
            {
                me.lines = lastState.lines;
            }
            
            me.viewOffset = lastState.viewOffset;
            me.editable = lastState.editable;
            me.syntaxSelector.setDefaultHighlighter(lastState.highlighter);
            me.undoStack = ArrayHelper.softCopy(lastState.undoStack);
            me.redoStack = ArrayHelper.softCopy(lastState.redoStack);

            me.refreshPassedLines(0);
        }
    };

    this.setViewOffset = function(newOffset)
    {
        var oldOffset = me.viewOffset;

        me.viewOffset = newOffset;

        me.refreshPassedLines(oldOffset);
    };

    this.setEditable = function(newEditable)
    {
        me.editable = newEditable;
    };

    this.handleKey = function(key, ignoreSpecial)
    {
        var previous = undefined,
            next = undefined;

        var undoFn, allUndoFns = [];

        var i;

        for (i = 0; i < me.lines.length; i++)
        {
            me.lines[i].prepareToHandleKey();
        }

        for (i = 0; i < me.lines.length; i++)
        {
            next = i + 1 < me.lines.length ? me.lines[i + 1] : undefined;

            undoFn = me.lines[i].handleKey(key, previous, next, i, ignoreSpecial);
            
            if (undoFn != undefined)
            {
                allUndoFns.push(undoFn);
            }
            
            previous = me.lines[i];
        };

        me.removeLinesFlaggedForRemoval();

        for (i = 0; i < me.lines.length; i++)
        {
            me.lines[i].afterHandleKey(i);
        }
        
        if (allUndoFns.length > 0)
        {
            me.noteChange(function undoFn(...args)
            {
                let redoFns = [];
            
                // Note changes.
                for (i = 0; i < allUndoFns.length; i++)// - 1; i >= 0; i--)
                {
                    redoFns.push(allUndoFns[i].apply(this, args));
                }
                
                return (function redoFn(...redoArgs)
                {
                    for (i = redoFns.length - 1; i >= 0; i--)
                    {
                        redoFns[i].apply(this, redoArgs);
                    }
                
                    return undoFn;
                });
            });
        }
    };

    this.removeLinesFlaggedForRemoval = function()
    {
        var newLines = [];
        for (let i = 0; i < me.lines.length; i++)
        {
            if (!me.lines[i].flaggedForRemoval)
            {
                newLines.push(me.lines[i]);
            }
            else if (me.trackRemoved)
            {
                me.removed.push([(new Date()).getTime(), i]);
            }
        }

        me.lines = newLines;

        // Maintain that we always have at least one line,
        // even if empty.
        if (me.lines.length === 0)
        {
            me.appendLine(""); // 
            me.focusFirstLine(); // Focus the only line.
        }
    };

    this.handleClick = function(point)
    {
        var viewOffset = me.viewOffset, x = me.x;
        for (var i = 0; i < me.lines.length; i++)
        {
            me.lines[i].x = x;
            me.lines[i].handleClick(i, point, i + viewOffset);
        }
    };
    
    this.addRawLine = function(index, lineObject)
    {
        if (index < me.lines.length)
        {
            me.lines.splice(index, 0, lineObject);
        }
        else
        {
            me.lines.push(lineObject);
        }
    };

    this.addLine = function(index, content)
    {
        me.ctx.font = me.font;
        
        var newLine = new Line(me.ctx, me, me.x, me.y + index * me.lineH, me.lineH, index);
        newLine.text = content;
        
        me.addRawLine(index, newLine);
        
        newLine.updateModifiedTime();

        return newLine;
    };

    this.appendLine = function(content)
    {
        return me.addLine(me.lines.length, content);
    };

    this.shiftViewIfNecessary = function(viewIndex)
    {
        var tIndex = viewIndex + me.viewOffset;

        var oldViewOffset = (me.viewOffset || 0) * 1;

        if (tIndex < 0)
        {
            me.viewOffset = -viewIndex;
            me.y = 0;
        }
        else if (me.lineH != 0 && tIndex > me.ctx.canvas.height / me.lineH - 1)
        {
            var maxLines = Math.floor(me.ctx.canvas.height / me.lineH) - 1;

            me.viewOffset = maxLines - viewIndex;

            me.y = 0;
        }

        var line = me.lines[viewIndex];
        var lenPreCursor = me.ctx.measureText(line.text.substring(0, line.cursorPosition)).width;

        if (lenPreCursor + me.x > me.ctx.canvas.width * 0.9)
        {
            me.x = me.ctx.canvas.width * 0.9 - lenPreCursor;
        }
        else if (me.x + lenPreCursor <= me.ctx.canvas.width * 0.05)
        {
            me.x = -lenPreCursor + me.ctx.canvas.width * 0.05;
        }

        me.refreshPassedLines(oldViewOffset);
    };

    this.render = function()
    {
        // TODO Find a better solution.
        if (me.ctx.canvas.clientHeight !== me.ctx.canvas.height || me.ctx.canvas.clientWidth !== me.ctx.canvas.width)
        {
            me.ctx.canvas.height = me.ctx.canvas.clientHeight || 150;
            me.ctx.canvas.width = me.ctx.canvas.clientWidth || 150;
        }

        me.ctx.clearRect(0, 0, me.ctx.canvas.width, me.ctx.canvas.height);

        me.ctx.font = me.font;
        me.ctx.textBaseline = "top";
        me.lineH = me.ctx.measureText("M").width * 1.5;

        var i;

        for (i = Math.max(-me.viewOffset - 1, 0); i < me.lines.length; i++)
        {
            me.lines[i].x = me.x;
            me.lines[i].h = me.lineH;
            me.lines[i].render(i + me.viewOffset, i);

            if (me.lines[i].y > me.ctx.canvas.height)
            {
                break;
            }
        }
    };

    this.getCursorPosition = function()
    {
        for (var i = 0; i < me.lines.length; i++)
        {
            if (me.lines[i].hasFocus)
            {
                return new Point(me.lines[i].cursorPosition, i);
            }
        }

        return new Point(-1, -1);
    };

    var oldSelStart, oldSelEnd;

    this.deselect = function()
    {
        if (oldSelStart == undefined && oldSelEnd == undefined)
        {
            return false;
        }

        var startIndex = 0;
        var endIndex = me.lines.length;

        if (oldSelStart)
        {
            startIndex = oldSelStart.y;
        }

        if (oldSelEnd)
        {
            endIndex = oldSelEnd.y + 1;
        }

        for (var i = startIndex; i < endIndex; i++)
        {
            if (me.lines[i])
            {
                me.lines[i].deselect();
            }
        }

        oldSelStart = undefined;
        oldSelEnd = undefined;
    };

    this.select = function(point1, point2)
    {
        var i;

        if (point1 === undefined && point2 === undefined)
        {
            for (i = 0; i < me.lines.length; i++)
            {
                me.lines[i].select();
            }

            if (me.lines.length > 0)
            {
                oldSelStart = { line: me.lines[0], y: 0 };
                oldSelEnd = { line: me.lines[me.lines.length - 1], y: me.lines.length - 1 };
            }

            return;
        }

        if (point1.y > point2.y)
        {
            var temp = point1;
            point1 = point2;
            point2 = temp;
        }

        var x1 = point1.x,
            y1 = point1.y,
            x2 = point2.x,
            y2 = point2.y;

        if (x1 < 0 || x2 < 0 || y1 >= me.lines.length
             || y1 < 0 || y2 < 0 || y2 >= me.lines.length)
        {
            return;
        }

        if (y1 === y2)
        {
            var line = me.lines[y1];

            if (x2 < x1)
            {
                var temp = x1;
                x1 = x2;
                x2 = temp;
            }

            line.select(x1, x2);

            oldSelStart = { line: line, y: y1 };
            oldSelEnd = { line: line, y: y2 };

            return;
        }

        var firstLine = me.lines[y1];
        var secondLine = me.lines[y2];
        firstLine.select(x1, firstLine.text.length);
        secondLine.select(0, x2);

        oldSelStart = { line: firstLine, y: y1 };
        oldSelEnd = { line: secondLine, y: y2 };

        for (var i = y1 + 1; i < y2; i++)
        {
            me.lines[i].select();
        }
    };

    this.getSelExtreme = function(direction, oldSelectionObj)
    {
        var result = undefined;

        if (oldSelectionObj && oldSelectionObj.line && oldSelectionObj.line.hasSelection())
        {
            result = {x: oldSelectionObj.line.selRange[direction === 1 ? 0 : 1] || 0, y: oldSelectionObj.y};
        }
        else
        {
            let startY = direction === 1 ? 0 : (me.lines.length - 1);
            let selRangeIndex = direction === 1 ? 0 : 1;

            for (var i = startY; (i < me.lines.length && direction === 1) || (i >= 0 && direction === -1); i += direction)
            {
                if (me.lines[i].hasSelection())
                {
                    result = {x: me.lines[i].selRange[selRangeIndex], y: i};

                    break;
                }
            }
        }

        return result || me.getCursorPosition();
    };

    this.getSelStart = function()
    {
        return me.getSelExtreme(1, oldSelStart);
    };

    this.getSelEnd = function()
    {
        return me.getSelExtreme(-1, oldSelEnd);
    };

    this.getSelectedText = function()
    {
        var result = "";
        var isFirst = true;

        for (var i = 0; i < me.lines.length; i++)
        {
            if (me.lines[i].hasSelection())
            {
                result += isFirst ? "" : '\n';

                result += me.lines[i].getSelectedText();

                isFirst = false;
            }
        }

        return result;
    };

    this.applyToSelection = function(functionToApply)
    {
        let firstLine = me.getSelStart();
        let lastLine = me.getSelEnd();

        for (var i = firstLine.y; i <= lastLine.y && i < me.lines.length; i++)
        {
            if (me.lines[i].hasSelection())
            {
                functionToApply(me.lines[i], i);
            }
        }
    };

    this.indentSelection = function(spaces)
    {
        let numberIndented = 0;

        me.applyToSelection(function(line, index)
        {
            line.indent(spaces || 4);

            numberIndented++;
        });

        return numberIndented;
    };

    this.deindentSelection = function(maxSpaces)
    {
        me.applyToSelection(function(line, index)
        {
            line.deindent(maxSpaces || 4);
        });
    };

    this.isCodeEditing = function()
    {
        return me.codeEditing;
    };

    this.clearSelectedText = function()
    {
        me.handleKey("");
    };

    this.clear = function(doNotResetView)
    {
        me.lines = [];

        if (!doNotResetView)
        {
            me.resetView();
        }
    };

    this.resetView = function()
    {
        me.viewOffset = 0;
        me.x = 0;
    };

    this.displayContent = function(content, processLine)
    {
        var textLines = (content || "undefined").split("\n");
        var newLine;

        for (var i = 0; i < textLines.length; i++)
        {
            newLine = me.addLine(me.lines.length, textLines[i]);
            
            if (processLine)
            {
                processLine(newLine);
            }
        }
    };

    this.getText = function()
    {
        var result = "";

        for (var i = 0; i < me.lines.length; i++)
        {
            result += me.lines[i].text;

            if (i < me.lines.length - 1)
            {
                result += '\n';
            }
        }

        return result;
    };
    
    this.getDelta = function(savedState)
    {
        // TODO: Finish this.
        // savedState should contain a delta object.
        //This delta object contains the changes made,
        //a map from line IDs to changes to these lines.
        var lastDelta = savedState.delta || new Delta();
        var newDelta = new Delta(lastDelta);
        
        // When a delta is added to a line, it is merged with
        //previous deltas.
        for (var i = 0; i < me.lines.length; i++)
        {
            if (!lastDelta.hasLine(me.lines[i]))
            {
                newDelta.insertLine(i, me.lines[i]);
            }
            else if (me.lines[i].getLastTimeModified() > lastDelta.getCreationTime())
            {
                newDelta.updateLine(me.lines[i]);
            }
        }
        
        // Check for removals.
        // Binary search for the starting index.
        var startIndex = ListHelper.binarySearch(me.removed, (listItem) =>
        {
            return listItem[0] - lastDelta.getCreationTime();
        }, true);
        
        for (var i = startIndex; i < me.removed.length; i++)
        {
            newDelta.removeLine(me.removed[i][1], me.removed[i]);
        }
        
        return newDelta;
    };

    this.insert = function(textToInsert)
    {
        if (textToInsert.length < 50)
        {
            for (var i = 0; i < textToInsert.length; i++)
            {
                me.handleKey(textToInsert.charAt(i), true);
            }
        }
        else
        {
            var newText = "";
            var endingText = "";

            // Note that selStart and selEnd
            //default to the cursor's position if no text
            //is selected.
            var selStart = me.getSelStart();
            var selEnd = me.getSelEnd();
            var lastSelectedLine = me.lines[selEnd.y]; // The last line with selection, or the line with focus.

            // Add anything after the selection point to the endingText
            //accumulator (it should go after the inserted text).
            if (lastSelectedLine && lastSelectedLine.hasSelection())
            {
                endingText += lastSelectedLine.text.substring(lastSelectedLine.selRange[1]);
            }
            else if (lastSelectedLine && lastSelectedLine.hasFocus)
            {
                endingText += lastSelectedLine.text.substring(selEnd.x);
            }

            // Add the text to be inserted...
            newText += textToInsert;

            // Add any text remaining on the last, selected line.
            newText += endingText;

            // If inserting before the end, add a line-break.
            if (selEnd.y + 1 < me.lines.length)
            {
                newText += "\n";
            }

            // Find all unselected text...
            for (var i = selEnd.y + 1; i < me.lines.length; i++)
            {
                newText += me.lines[i].text;

                if (i + 1 < me.lines.length)
                {
                    newText += "\n";
                }
            }

            // Remove all lines from the end to the beginning of the selection.
            for (var i = me.lines.length - 1; i > selStart.y; i --)
            {
                me.lines.pop();
            }

            var firstSelectedLine = me.lines[selEnd.y];

            // Remove selected text on the first line.
            if (firstSelectedLine)
            {
                if (firstSelectedLine.hasSelection())
                {
                    firstSelectedLine.text = firstSelectedLine.text.substring(0, firstSelectedLine.selRange[0]);
                }
                else if (firstSelectedLine.hasFocus)
                {
                    firstSelectedLine.text = firstSelectedLine.text.substring(0, selStart.x);
                }
            }

            var firstLineBreak = newText.indexOf("\n");

            if (firstLineBreak === -1)
            {
                firstLineBreak = newText.length;
            }

            var firstLine = newText.substring(0, firstLineBreak);

            if (firstSelectedLine)
            {
                firstSelectedLine.text += firstLine;
            }
            else
            {
                me.appendLine(firstLine);
            }

            newText = newText.substring(firstLineBreak + 1);

            if (newText.length > 0)
            {
                me.displayContent(newText);
            }
        }
    };

    this.unfocus = function()
    {
        for (var i = 0; i < me.lines.length; i++)
        {
            me.lines[i].unfocus();
        }
    };

    this.focusFirstLine = function()
    {
        if (me.lines.length === 0)
        {
            me.appendLine("NO CONTENT");
        }

        me.lines[0].focus();
    }

    var currentRefreshLine = -1, currentEndLine;
    this.refreshPassedLines = function(oldViewOffset, forceEach)
    {
        forceEach = forceEach || false;

        if (me.viewOffset < oldViewOffset)
        {
            let refreshRate = 20;
            
            var refreshLineLoop = function()
            {
                for (var i = 0; i < refreshRate; i++)
                {
                    if (currentRefreshLine > currentEndLine + 1 || currentRefreshLine > me.lines.length)
                    {
                        currentRefreshLine = -1;
                        
                        return;
                    }
                    
                    if (me.lines[currentRefreshLine])
                    {
                        me.lines[currentRefreshLine].refreshHighlitingIfNeeded(currentRefreshLine, forceEach, true); // Ignore timeouts.
                    }

                    currentRefreshLine++;
                }
                
                requestAnimationFrame(refreshLineLoop);
            };
            
            let newEndLine = Math.min(me.lines.length, -me.viewOffset);
            
            let newStartPosition = Math.max(0, -oldViewOffset);
            
            if (newStartPosition > newEndLine)
            {
                return;
            }
            
            if (currentRefreshLine === -1)
            {
                currentRefreshLine = newStartPosition;
                currentEndLine = newEndLine;
                
                refreshLineLoop();
            }
            else
            {
                currentRefreshLine = Math.min(currentRefreshLine, newStartPosition);
                currentEndLine = Math.max(newEndLine, currentEndLine);
            }
        }
    };

    this.noteAllLinesNeedRefresh = () =>
    {
        for (var i = me.lines.length - 1; i >= 0; i--)
        {
            me.lines[i].requestRefresh();
        }
    };

    this.moveView = function(dx, dy)
    {
        var oldViewOffset = me.viewOffset;

        me.x += dx;

        var sign = dy > 0 ? 1 : -1;

        if (dy === 0 || me.lineH === 0)
        {
            return true;
        }

        dy = Math.abs(dy);

        var total = Math.abs(dy + me.y * sign) / me.lineH;
        var dlines = Math.floor(total);
        me.y = (total - dlines) * sign * me.lineH;
        me.viewOffset += dlines * sign;

        var viewOffsetOld = me.viewOffset*1;

        me.viewOffset = -Math.min(me.lines.length - 1, -me.viewOffset);
        me.viewOffset = Math.min(0, me.viewOffset);

        if (viewOffsetOld !== me.viewOffset || me.viewOffset > -1)
        {
            me.y = 0;
        }

        me.x = Math.min(me.x, me.ctx.canvas.width/2);

        me.refreshPassedLines(oldViewOffset);
        
        return me.viewOffset === oldViewOffset;
    };

    var firstLine = this.addLine(0, "[[ JSEdit v. " + VERSION_CODE + " ]]");
    firstLine.hasFocus = true;
    firstLine.cursorPosition = firstLine.text.length;

    firstLine.select();
}

// Note: textExportParentElement can also be a textarea. If so, 
//       then it is used as the import/export zone.
function Editor(textViewerParentElement, keyboardParentElement, 
    textExportParentElement, runFrameParentElement, onRun)
{
    const CLICK_MAX_DISTANCE_MOVE = 10;
    const me = this;

    onRun = onRun || function() {};

    // Assign parent elements based on arguments.
    if (textViewerParentElement && !keyboardParentElement && !textExportParentElement
        && !runFrameParentElement)
    {
        keyboardParentElement = textViewerParentElement;
        textExportParentElement = textViewerParentElement;
        runFrameParentElement = textViewerParentElement;
    }

    me.hiddenControls = [];

    if (!keyboardParentElement)
    {
        keyboardParentElement = document.createElement("div");

        me.hiddenControls.push(keyboardParentElement);
    }

    if (!textExportParentElement)
    {
        textExportParentElement = document.createElement("div");

        me.hiddenControls.push(textExportParentElement);
    }

    if (!runFrameParentElement)
    {
        runFrameParentElement = document.createElement("div");

        me.hiddenControls.push(runFrameParentElement);
    }

    this.timeToRepeatKey = 600;
    this.dtRepeatKey = 150;

    this.saveDir = undefined;

    this.runFrame = document.createElement("iframe");
    this.runFrame.style.display = "none";
    var canUseLocalStorage = true;

    if (textExportParentElement.tagName.toLowerCase() !== "textarea")
    {
        this.copyPasteControl = document.createElement("textarea");
        textExportParentElement.appendChild(me.copyPasteControl);

        try
        {
            if (window.localStorage)
            {
                this.copyPasteControl.value = window.localStorage.getItem("save") || "N/A";
            }
            else
            {
                canUseLocalStorage = false;
            }
        }
        catch(e)
        {
            canUseLocalStorage = false;
        }
    }
    else
    {
        this.copyPasteControl = textExportParentElement;
        canUseLocalStorage = window.localStorage ? true : false;
    }

    this.editCanvas = document.createElement("canvas");
    this.editCanvas.style.touchAction = "none";
    this.editCanvas.style.border = "0px solid black";
    this.editCanvas.style.outline = "none";

    this.editCtx = this.editCanvas.getContext("2d");
    this.editControl = new EditControl(this.editCtx);

    this.keyCanvas = document.createElement("canvas");
    this.keyCtx = this.keyCanvas.getContext("2d");

    var displayingInfo = false;
    var findReplaceEnabled = false;

    this.clipboard = "";

    this.setFont = (newFont) =>
    {
        me.editControl.font = newFont;
    };

    this.getPreUnloadSaveString = function()
    {
        var result =
        JSON.stringify(
        {
            text: me.editControl.getText(),
            viewOffset: me.editControl.viewOffset,
            path: me.saveDir
        });

        return result;
    };

    const updateRestoreString = function()
    {
        if (window.app)
        {
            var changes = me.getPreUnloadSaveString();

            window.app.setRestoreString(changes);
        }
    };

    this.loadFromSaveString = function(saveString)
    {
        // Check for prefixing...
        if (saveString.length > 1 && saveString.charAt(0) != "L" && saveString.charAt(1) != "L")
        {
            var data = JSON.parse(saveString);

            if (typeof data == "string")
            {
                data = JSON.parse(data);
            }

            me.clear();

            me.displayContent(data["text"] || ("GOT: " + saveString + "\nParsed: " + JSON.stringify(data)));

            // If the data has a save directory, note this.
            if (data["path"] && data["path"] !== "undefined")
            {
                me.saveDir = data["path"];

                // Infer the highlight scheme.
                if (me.saveDir.lastIndexOf(".") !== -1)
                {
                    me.editControl.setDefaultHighlightScheme(me.saveDir.substring(me.saveDir.lastIndexOf(".") + 1));
                }
            }

            if (data["viewOffset"])
            {
                me.editControl.setViewOffset(parseFloat(data["viewOffset"]));
            }

            me.editControl.render();
        }
        else
        {
            me.clear();
            
            me.displayContent(saveString.substring(1)); // Non-JSON saves are prefixed. Remove this prefix.
            
            me.editControl.render();
        }
    };

    this.load = function()
    {
        if ((window.app && (me.copyPasteControl.style.display === "none" || me.copyPasteControl.value === "")) || me.saveDir)
        {
            var onComplete = function()
            {
                me.clear();
                me.displayContent(app.getFileContent(me.saveDir) || "NO CONTENT FOUND FOR `" + me.saveDir + "`.");

                if (me.saveDir.lastIndexOf(".") !== -1)
                {
                    me.editControl.setDefaultHighlightScheme(me.saveDir.substring(me.saveDir.lastIndexOf(".") + 1));
                }

                me.editControl.focusFirstLine();

                me.editControl.render();
            };

            if (!me.saveDir)
            {
                me.selectFile(me.saveDir, function()
                {
                    onComplete();
                });
            }
            else
            {
                onComplete();
            }
        }
        else
        {
            me.copyPasteControl.select();
            document.execCommand("paste");

            requestAnimationFrame(function()
            {
                me.clear();
                me.displayContent(me.copyPasteControl.value);

                me.editControl.focusFirstLine();

                me.editControl.render();
            });
        }
    };

    this.save = function()
    {
        var text = me.editControl.getText();

        if (!me.saveDir)
        {

            if (canUseLocalStorage && window.localStorage)
            {
                window.localStorage.setItem("save", text);
            }

            me.copyPasteControl.select();
            me.copyPasteControl.style.display = "block";

            me.copyPasteControl.value = text;

            requestAnimationFrame(function()
            {
                document.execCommand("copy");
            });
        }
        else
        {
            me.copyPasteControl.style.display = "none";

            var resultNotes = app.writeToFile(me.saveDir, text);

            if (resultNotes !== "SUCCESS")
            {
                me.editControl.saveStateAndClear();
                me.editControl.setEditable(false);
                me.editControl.displayContent("Error: `" + resultNotes + "`.");

                setTimeout(() =>
                {
                    me.editControl.restoreState();
                }, 2000);
            }
        }
    };


    var lastSelPoint = undefined;
    this.keyboard = new Keyboard(this.keyCtx, function(key)
    {
        if (key == "📂")
        {
            me.load();
        }
        else if (key == "💾")
        {
            me.save();
        }
        else if (key == "🗂️")
        {
            me.selectFile(me.saveDir);
        }
        else if (key == "⚙️")
        {
            me.advancedOptions();
        }
        else if (key == "📌")
        {
            var currentPoint = me.editControl.getCursorPosition();

            if (lastSelPoint)
            {

 me.editControl.select(lastSelPoint, currentPoint);
                lastSelPoint = undefined;
            }
            else
            {
                lastSelPoint = currentPoint;
            }
        }
        else if (key === "📜" || key === "✂️")
        {
            me.clipboard = me.editControl.getSelectedText();

            if (key === "✂️")
            {
                me.editControl.clearSelectedText();
            }
        }
        else if (key === "📋")
        {
            me.editControl.insert(me.clipboard);
        }
        else if (key === "⚜")
        {
            me.editControl.codeEditing = !me.editControl.codeEditing;
        }
        else if (key === "➕")
        {
            me.editControl.indentSelection();
        }
        else if (key === "➖")
        {
            me.editControl.deindentSelection();
        }
        else if (key === "ℹ")
        {
            if (!displayingInfo)
            {
                var textContent = me.editControl.getText();
                var linesCount = me.editControl.lines.length;
                me.editControl.saveStateAndClear();

                me.editControl.setEditable(false);

                me.editControl.displayContent(`
Information:
Length: ` + textContent.length + ` characters.
Lines: ` + linesCount + `.
File Access: ` + (window.app !== undefined) + `.
Path: ${ me.saveDir }
`);
            }
            else
            {
                me.editControl.restoreState();
            }

            displayingInfo = !displayingInfo;
        }
        else if (key === "🔎")
        {
            me.toggleFindReplace();
        }
        else if (key === "🚘")
        {
            me.toggleRun();
        }
        else if (key === "⚗️")
        {
            me.toggleRun(true);
        }
        else
        {
            me.editControl.handleKey(key);
        }

        me.editControl.render();

        updateRestoreString();
    });

    this.clickKeyCanvas = function(e, noReRender)
    {
      if (e.preventDefault)
      {
        e.preventDefault();
      }
      
      try
      {
        var bbox = me.keyCanvas.getBoundingClientRect();

        var x = e.clientX - bbox.left;
        var y = e.clientY - bbox.top;

        me.keyboard.handleClick(new Point(x, y));

        if (!noReRender)
        {
            me.keyboard.render();
        }
      }
      catch(e)
      {
        noteError(e);
      }
    };

    var pointerDownTime, pointerDown = false;
    JSHelper.Events.registerPointerEvent("down", me.keyCanvas, function(e)
    {
        pointerDownTime = (new Date()).getTime();
        pointerDown = true;

        me.clickKeyCanvas(e);

        var dt = me.dtRepeatKey;

        var lastTime = (new Date()).getTime();
        var clickLoop = function()
        {
            if (!pointerDown)
            {
                return;
            };

            var nowTime = (new Date()).getTime();

            if (nowTime - pointerDownTime > me.timeToRepeatKey && nowTime - lastTime > dt)
            {
                for (var i = 0; i < (nowTime - lastTime) / dt && i < 10; i++)
                {
                    me.clickKeyCanvas(e, true);
                }

                me.keyboard.render();

                dt *= 0.95;

                lastTime = nowTime;
            }

            requestAnimationFrame(clickLoop);
        };

        clickLoop();
    });

    JSHelper.Events.registerPointerEvent("move", me.keyCanvas, function(e)
    {
        if (pointerDown)
        {
            e.preventDefault();
        }
    });

    JSHelper.Events.registerPointerEvent("stop", me.keyCanvas, function(e)
    {
        pointerDown = false;
        
        e.preventDefault();

        me.editCanvas.focus();
    });

    me.editCanvas.onclick = function(e)
    {
      try
      {
        var bbox = me.editCanvas.getBoundingClientRect();

        var x = e.clientX - bbox.left;
        var y = e.clientY - bbox.top;

        me.editControl.handleClick(new Point(x, y));

        me.editControl.render();
      }
      catch(e)
      {
        noteError(e);
      }
    };

    var editPointerDown = false;
    var lastEditPointerLocation, distancePointerTraveled;
    JSHelper.Events.registerPointerEvent("down", this.editCanvas, function(e)
    {
        var bbox = me.editCanvas.getBoundingClientRect();
        lastEditPointerLocation = new Point(e.clientX - bbox.left, e.clientY - bbox.top);

        editPointerDown = true;

        e.preventDefault();

        me.editCanvas.focus();
        
        distancePointerTraveled = 0;

        return false;
    });

    JSHelper.Events.registerPointerEvent("move", this.editCanvas, function(e)
    {
        if (!editPointerDown)
        {
            return;
        }

        e.preventDefault();

        var bbox = me.editCanvas.getBoundingClientRect();
        var point = new Point(e.clientX - bbox.left, e.clientY - bbox.top);

        var dx = point.x - lastEditPointerLocation.x;
        var dy = point.y - lastEditPointerLocation.y;

        var xSign = dx > 0 ? 1 : -1;
        var ySign = dy > 0 ? 1 : -1;

        me.editControl.moveView(dx * 2, dy * dy * ySign / 2);
        me.editControl.render();
        
        distancePointerTraveled += Math.sqrt(dx * dx + dy * dy);

        lastEditPointerLocation = point;

        return true;
    });

    JSHelper.Events.registerPointerEvent("up", this.editCanvas, function(e)
    {
        editPointerDown = false;
        
        if (distancePointerTraveled < CLICK_MAX_DISTANCE_MOVE)
        {
            var bbox = me.editCanvas.getBoundingClientRect();

            var x = e.clientX - bbox.left;
            var y = e.clientY - bbox.top;

            me.editControl.handleClick(new Point(x, y));
            
            me.editControl.render();
        }

        me.editCanvas.focus();
        e.preventDefault();
    });

    JSHelper.Events.registerPointerEvent("leave", this.editCanvas, function(e)
    {
        editPointerDown = false;
        e.preventDefault();
    });

    this.editCanvas.onpointercancel = me.editCanvas.onpointerup;

    this.editCanvas.onpointerleave = me.editCanvas.onpointerup;

    this.editCanvas.addEventListener("keypress", function(event)
    {
        if (!event.ctrlKey && event.key !== "Enter")
        {
            me.editControl.handleKey(event.key);
        }

        me.editControl.render();

        event.preventDefault();

        updateRestoreString();

        return true;
    }, true);

    const WHEEL_PIXEL_MODE = 0;
    const WHEEL_LINE_MODE = 1;
    const WHEEL_PAGE_MODE = 2;

    this.editCanvas.addEventListener("wheel", function(event)
    {
        var dy = event.deltaY;
        var lineHeight = me.editControl.lineH; 

        if (dy !== 0)
        {
            if (event.deltaMode === WHEEL_LINE_MODE)
            {
                dy *= lineHeight;
            }
            else if (event.deltaMode === WHEEL_PAGE_MODE)
            {
                dy *= lineHeight * 25;
            }

            // Scroll the view, not the page.
            dy *= -1;

            var didNotMove = me.editControl.moveView(0, dy);
            
            if (!didNotMove)
            {
            	event.preventDefault();
            }
        }

        me.editControl.render();
    });

    this.editCanvas.addEventListener("keydown", function(event)
    {
        if (!event.shiftKey)
        {
            if (event.key === "ArrowDown" || event.key === "ArrowUp" || event.key === "ArrowLeft"
                    || event.key === "ArrowRight" || event.key === "Backspace" || event.key === "Tab"
                    || event.key === "Escape")
            {
                requestAnimationFrame(() =>
                {
                    let indentCount = 0;

                    if (event.key === "Tab")
                    {
                        indentCount = me.editControl.indentSelection();
                    }

                    if (event.key !== "Backspace")
                    {
                        me.editControl.deselect();
                    }
                    
                    if (indentCount === 0 && event.key !== "Escape")
                    {
                        me.editControl.handleKey(event.key);
                    }

                    me.editControl.render();
                });

                event.preventDefault();

                return true;
            }
        }
        else if (event.key === "ArrowDown" || event.key === "ArrowUp" || event.key === "ArrowLeft" || event.key === "ArrowRight")
        {
            var selStart = me.editControl.getSelStart();
            var selEnd = me.editControl.getSelEnd();

            me.editControl.handleKey(event.key);

            var cursorPosition = me.editControl.getCursorPosition();

            if (cursorPosition.x === selStart.x && cursorPosition.y === selStart.y && selStart.x > 0)
            {
                selStart.x -= 1;
            }
            else if (cursorPosition.y < selStart.y || (cursorPosition.y === selStart.y && cursorPosition.x < selStart.x))
            {
                selStart = cursorPosition;
            }
            else if (cursorPosition.y > me.selEnd || (cursorPosition.y === selEnd.y && cursorPosition.x > selEnd.x))
            {
                selEnd = cursorPosition;
            }
            else
            {
                var dyToStart = Math.abs(cursorPosition.y - selStart.y),
                    dyToEnd = Math.abs(cursorPosition.y - selEnd.y),
                    dxToStart = Math.abs(cursorPosition.x - selStart.x),
                    dxToEnd = Math.abs(cursorPosition.x - selEnd.x);

                // If closer to the starting selection...
                if (dyToStart < dyToEnd || (dyToStart == dyToEnd && dxToStart < dxToEnd))
                {
                    selStart = cursorPosition;
                }
                else
                {
                    selEnd = cursorPosition;
                }
            }

            me.editControl.deselect();
            me.editControl.select(selStart, selEnd);

            me.editControl.render();
            event.preventDefault();
        }

        
        if (event.key === "Enter")
        {
            me.editControl.handleKey(event.key);

            me.editControl.render();
            event.preventDefault();
        } 
        else if (event.key === "Delete")
        {
            me.editControl.handleKey("ArrowRight")
            me.editControl.handleKey("Backspace");

            me.editControl.render();

            event.preventDefault();
        }// Mobile Safari sends " ", rather than "Space"
        else if (event.key === " " || event.key === "Space")
        {
            me.editControl.handleKey(" ");
            me.editControl.render();

            event.preventDefault();
        } // Handle control-key commands.
        else if (event.ctrlKey)
        {
            if (event.key === "c" || event.key === "x")
            {
                me.clipboard = me.editControl.getSelectedText();

                if (event.key === "x")
                {
                    me.editControl.clearSelectedText();
                }

                me.editControl.deselect();
            }
            else if (event.key === "v")
            {
                me.editControl.insert(me.clipboard);

                me.editControl.deselect();
            }
            else if (event.key === "f")
            {
                me.toggleFindReplace();
            }
            else if (event.key === "s")
            {
                me.save();
            }
            else if (event.key === "r") // Reads the file.
            {
                me.load();
            }
            else if (event.key === "o" && window.app) // Reads the file.
            {
                me.selectFile(me.saveDir);
            }
            else if (event.key === "g")
            {
                me.advancedOptions();
            }
            else if (event.key === "u")
            {
                me.editControl.deselect();
            }
            else if (event.key === "z")
            {
                me.editControl.performUndo();
            }
            else if (event.key === "y")
            {
                me.editControl.performRedo();
            }
            else if (event.key === "d")
            {
                me.editControl.deindentSelection();
            }
            else if (event.key === "a")
            {
                me.editControl.select();
            }
            else if (event.key === "e") // Execute the program.
            {
                me.toggleRun();
            }
            else if (event.key === "i") // Run as JavaScript
            {
                me.toggleRun(true);
            }
            else if (event.key === "p")
            {
                me.editControl.codeEditing = !me.editControl.codeEditing;
            }

            me.editControl.render();
            event.preventDefault();
        }

        updateRestoreString();

        return true;
    }, true);

    this.editCanvas.setAttribute('tabindex', 1);

    this.toggleRun = function(inCurrentPage)
    {
        if (inCurrentPage) // If we could access device internals, we still allow running in
        {                  // the current context. Give a warning.
            var contentToRun = me.editControl.getText();
            
            me.editControl.saveStateAndClear();
            
            me.editControl.appendLine("Danger!").editable = false;
            me.editControl.appendLine(" * Make sure you trust this script! Running untrusted scripts").editable = false;
            me.editControl.appendLine("   ON THE SAME PAGE AS THIS EDITOR can comprimise the security").editable = false;
            me.editControl.appendLine("   of this editor and perhaps your device.").editable = false;
            me.editControl.appendLine(" * Your program will be interpreted as JavaScript through an").editable = false;
            me.editControl.appendLine("   \"eval\". If your program is not JavaScript or you don't").editable = false;
            me.editControl.appendLine("   know what this means, DO NOT RUN YOUR PROGRAM.").editable = false;
            me.editControl.appendLine("Do you really want to run this program as a SCRIPT in the current page?").editable = false;
            
            const yesLine = me.editControl.appendLine("YES");
            const noLine = me.editControl.appendLine("NO");
            
            yesLine.editable = false;
            noLine.editable = false;
            
            requestAnimationFrame(() =>
            {
                if (!window.app) 
                {
                    yesLine.focus();
                }
                else            // If we have access to additional privlidges,
                {                // make it harder to click "yes."
                    noLine.focus();
                }
                
                me.editControl.render();
            });
            
            yesLine.onentercommand = async () =>
            {
                me.editControl.restoreState();
                me.editControl.saveStateAndClear();
                
                // Show output...
                const result = await EditorHelper.__runOutOfContext(contentToRun);
                me.editControl.displayContent("Output: \n" + result);
                    
                const doneLine = me.editControl.appendLine("DONE");
                
                requestAnimationFrame(() =>
                {
                    doneLine.focus();
                    me.editControl.render();
                });
                
                doneLine.editable = false;
                
                doneLine.onentercommand = () =>
                {
                    me.editControl.restoreState();
                };
            };
            
            noLine.onentercommand = () =>
            {
                me.editControl.restoreState();
                // ... and do nothing more ...
            };
            
            return; // Don't also run in the iframe...
        }
    
        if (me.runFrame.style.display === "block")
        {
            me.runFrame.style.display = "none";
            me.runFrame.src = "data:text/html;charset=UTF-8,Loading...";
        }
        else
        {
            me.updateRunFrame();
        }
    };

    this.updateRunFrame = function()
    {
        var contentToRun = me.editControl.getText();

        runFrameParentElement.removeChild(me.runFrame);

        me.runFrame = document.createElement("iframe");
        me.runFrame.style.backgroundColor = "white";
        me.runFrame.style.display = "block";

        runFrameParentElement.appendChild(me.runFrame);

        if (runFrameParentElement === textViewerParentElement)
        {
            me.runFrame.width = me.editCanvas.width;
            me.runFrame.height = me.editCanvas.height;
        }
        else
        {
            me.runFrame.style.width = "calc(100% - 10px)";
            me.runFrame.style.height = "auto";
        }

        if (!onRun(contentToRun, me.runFrame))
        {
            me.runFrame.contentWindow.document.open();
            me.runFrame.contentWindow.document.write(contentToRun);
            me.runFrame.contentWindow.document.close();
        }
    };

    var viewingAdvancedOptions = false;
    this.advancedOptions = function()
    {
        if (viewingAdvancedOptions)
        {
            viewingAdvancedOptions = false;
            
            me.editControl.restoreState();
            
            return;
        }
        
        me.editControl.saveStateAndClear();
        
        viewingAdvancedOptions = true;

        var titleLine = me.editControl.appendLine("Advanced Options:");
        titleLine.editable = false;

        var loadEditorSource = me.editControl.appendLine("Load Editor's Source");
        loadEditorSource.editable = false;

        var setFont = me.editControl.appendLine("Font: " + me.editControl.font);

        var selectHighlightScheme = me.editControl.appendLine("Select Coloring Scheme");
        selectHighlightScheme.editable = false;

        var shareAsTextLine = window.app ? me.editControl.appendLine("Share as Text") : null;
        var shareAsHTMLTextLine = window.app ? me.editControl.appendLine("Share as HTML Text") : null;

        var setPathToSpellingDictionary = window.app ? me.editControl.appendLine("Set Path to Spellcheck Dictionary") : null;
        var runSpellCheck = window.app ? me.editControl.appendLine("Check Spelling") : null;
        
        var checkSyntax = me.editControl.appendLine("Check Syntax");
        checkSyntax.editable = false;
        
        var wrapLongLines    = me.editControl.appendLine("Wrap Long Lines (Method A)");
        wrapLongLines.editable = false;

        var wrapTextInput = me.editControl.appendLine("Wrap Long Lines (Method B)");
        wrapTextInput.editable = false;

        var exitLine = me.editControl.appendLine("Hide Advanced Options");
        exitLine.editable = false;

        exitLine.focus();

        const exitAdvancedOptions = () =>
        {
            me.editControl.restoreState();
            viewingAdvancedOptions = false;
        };

        exitLine.onentercommand = function()
        {
            exitAdvancedOptions();
        };

        loadEditorSource.onentercommand = function()
        {
            exitAdvancedOptions();

            me.saveDir = undefined;

            me.editControl.clear();

            me.editControl.displayContent(EDITOR_SOURCE);
            me.editControl.focusFirstLine();

            me.editControl.setDefaultHighlightScheme("html");
        };

        selectHighlightScheme.onentercommand = function()
        {
            me.editControl.clear();

            var handleLine = function(schemeLabel)
            {
                var newLine = me.editControl.appendLine("Apply: " + schemeLabel);

                newLine.onentercommand = function()
                {
                    exitAdvancedOptions();

                    me.editControl.setDefaultHighlightScheme(SyntaxHelper.highlighters[schemeLabel]);
                    me.editControl.noteAllLinesNeedRefresh();

                    me.editControl.render();
                };
            };

            for (var label in SyntaxHelper.highlighters)
            {
                handleLine(label);
            }

            var cancelLine = me.editControl.appendLine("Cancel");

            cancelLine.editable = false;

            cancelLine.onentercommand = function()
            {
                exitAdvancedOptions();
            };

            requestAnimationFrame(function()
            {
                cancelLine.focus();
                me.editControl.render();
            });
        };

        setFont.onentercommand = function()
        {
            let lineText = setFont.text;

            if (lineText && lineText.indexOf(": ") !== -1)
            {
                me.editControl.font = lineText.substring(lineText.indexOf(": ") + 2);
            }
        };
        
        checkSyntax.onentercommand = function()
        {
            exitAdvancedOptions();
            
            me.toggleSyntaxCheck();
        };
        
        wrapLongLines.onentercommand = function()
        {
            exitAdvancedOptions();
            
            me.wrapLongLines();
        };
        
        wrapTextInput.onentercommand = function()
        {
            exitAdvancedOptions();
            
            me.wrapTextWithLineBreaks();
        };

        if (setPathToSpellingDictionary != undefined)
        {
            setPathToSpellingDictionary.onentercommand = function()
            {
                exitAdvancedOptions();

                me.saveDir = app.getInternalStorageDirectory() + "/spellcheck.txt";
            };
        }

        if (runSpellCheck != undefined)
        {
            runSpellCheck.onentercommand = function()
            {
                exitAdvancedOptions();

                me.spellCheck();
            };
        }

        if (shareAsTextLine != undefined && shareAsHTMLTextLine != undefined)
        {
            // TODO Reduce code duplication.
            shareAsTextLine.onentercommand = function()
            {
                exitAdvancedOptions();

                // Send the text.
                window.app.shareAsText(me.editControl.getText());
            };

            shareAsHTMLTextLine.onentercommand = function()
            {
                exitAdvancedOptions();

                // Send the HTML-based text.
                window.app.shareAsHTMLText(me.editControl.getText());
            };
        }
    };
    
    var checkingSyntax = false;
    this.toggleSyntaxCheck = function()
    {
        if (checkingSyntax)
        {
            me.editControl.restoreState();
        }
        else
        {
            var text = me.editControl.getText().split("\n");
            var syntaxChecker = new SyntaxChecker();
        
            me.editControl.saveStateAndClear();
            
            var exitLine = me.editControl.appendLine("Exit");
            exitLine.focus();
            
            exitLine.onentercommand = function()
            {
                me.toggleSyntaxCheck();
            };
            
            syntaxChecker.reset();
            
            //console.log(text);
            
            for (var lineNumber = 0; lineNumber < text.length - 1; lineNumber++)
            {
                syntaxChecker.checkLine(text[lineNumber], lineNumber, false, {});
            }
            
            if (text.length - 1 >= 0)
            {
                syntaxChecker.checkFinalLine(text[text.length - 1], text.length - 1, {});
            }
            
            var problems = syntaxChecker.getProblems();
            
            var handleProblem = (problem) =>
            {
                var newLine = me.editControl.appendLine(problem.lineNumber + ": " + (problem.message || problem.check + " failed. No message."));
                
                newLine.onentercommand = function()
                {
                    me.toggleSyntaxCheck();
                    me.editControl.lines[problem.lineNumber].focus();
                };
            };
            
            for (var i = 0; i < problems.length; i++)
            {
                handleProblem(problems[i]);
            }
        }
        
        checkingSyntax = !checkingSyntax;
    };
    
    me.wrappingLongLines = false;
    this.wrapLongLines = function() // A method added, lost, and re-added.
    {
        if (me.wrappingLongLines)
        {
            me.editControl.restoreState();
            me.wrappingLongLines = false;
            
            return;
        }
        
        me.wrappingLongLines = true;
        
        let toWrap = me.editControl.getText();
        
        me.editControl.saveStateAndClear();

        let quoteOptionText = "Quote ('\") Option: ";
        let maximumLengthText = "Maximum length: ";
        let maximumLength = 78;
        let quoteOptions = ["BREAK", "BREAK_AND_CONCAT", "DO_NOT_BREAK"];
        let autoIndent  = true;
        let quoteOptionIndex = 0;
        
        let quoteActions =
        {
            "BREAK": (line, index) =>
            {
                return "\n";
            },
            "BREAK_AND_CONCAT": (line, index, quoteChar, indentLevel) =>
            {
                return quoteChar + " + \n" + indentLevel + quoteChar;
            },
            "DO_NOT_BREAK": (line, index) =>
            {
                return "";
            }
        };
        
        const wrapText = (initialText) =>
        {
            let result = "";
            let currentWord = "";
            let inQuoteType = undefined; // The type of quote currently in.
            let lineLength = 0;
            let currentChar;
            let indentCount = 0;
            let indent = "";
            
            for (let i = 0; i < initialText.length; i++)
            {
                currentChar = initialText.charAt(i);
                lineLength++;
                
                if (currentChar == " " && lineLength === indentCount + 1
                        && autoIndent)
                {
                    indentCount ++;
                    indent += " ";
                }
                
                if (inQuoteType === currentChar)
                {
                    inQuoteType = undefined;
                    result += currentWord + currentChar;
                    currentWord = "";
                    
                    continue;
                }
                else if ((currentChar == "'" || currentChar == '"') && inQuoteType === undefined)
                {
                    inQuoteType = currentChar;
                }
                else if (currentChar == "\n")
                {
                    lineLength = 0;
                    inQuoteType = undefined; // Out of any quotes we were in.
                }
                else if (currentChar == " " || currentChar == '\t')
                {
                    result += currentWord;
                    currentWord = "";
                }
                
                currentWord += currentChar;
                
                if (lineLength + currentWord.length > maximumLength)
                {
                    let newLineLength = 0, newPart;
                    
                    if (inQuoteType === undefined)
                    {
                        newPart = indent + currentWord;
                        result += "\n" + newPart;
                        newLineLength += newPart.length;
                    }
                    else
                    {
                        newPart = quoteActions[quoteOptions[quoteOptionIndex]](result, i, 
                                        inQuoteType, indent) + currentWord;
                        result += newPart;
                        
                        let breakIndex = newPart.indexOf("\n");
                        
                        if (breakIndex >= 0)
                        {
                            newLineLength = newPart.length - breakIndex;
                        }
                        else
                        {
                            newLineLength = lineLength + newPart.length;
                        }
                    }
                    
                    currentWord = "";
                    lineLength  = newLineLength;
                }
            }
            
            return result + currentWord;
        };

        let maximumLengthLine = me.editControl.appendLine(maximumLengthText + maximumLength);
        let quoteOption       = me.editControl.appendLine(quoteOptionText + "BREAK");
        let indentOption      = me.editControl.appendLine("Auto-indent: ON");
        let cancelLine        = me.editControl.appendLine("   CANCEL   ");
        let submitLine        = me.editControl.appendLine("   SUBMIT   ");
        
        submitLine.editable = false;
        cancelLine.editable = false;
        indentOption.editable = false;
        quoteOption.editable = false;
        
        maximumLengthLine.onentercommand = function()
        {
            const newLengthPart = maximumLengthLine.text.substring(maximumLengthText.length);
            maximumLength = MathHelper.forceParseInt(newLengthPart);
        };
        
        quoteOption.onentercommand = function()
        {
            quoteOptionIndex++;
            quoteOptionIndex %= quoteOptions.length;
            
            quoteOption.text = quoteOptionText + quoteOptions[quoteOptionIndex];
        };
        
        indentOption.onentercommand = function()
        {
            autoIndent = !autoIndent;
            indentOption.text = "Auto-indent: " + (autoIndent ? "ON" : "OFF");
        };
        
        submitLine.onentercommand = function()
        {
            me.wrappingLongLines = false;
            
            me.editControl.restoreState();
            me.editControl.clear(true);
            
            let wrapped = wrapText(toWrap);
            
            me.editControl.displayContent(wrapped);
        };

        cancelLine.onentercommand = function()
        {
            me.wrappingLongLines = false;
            
            me.editControl.restoreState();
        };

        requestAnimationFrame(function()
        {
            maximumLengthLine.focus();
        });
    };


    var showingWrapDialog = false;
    this.wrapTextWithLineBreaks = function()
    {
        if (showingWrapDialog)
        {
            me.editControl.restoreState();
            showingWrapDialog = false;
        }
        else
        { /* Otherwise, show the dialog! */
            showingWrapDialog = true;
            
            var allText = me.editControl.getText();
            me.editControl.saveStateAndClear();
            
            // Constants
            const maxLineLengthText = "Maximum Line Length:";
            const breakWordText = "Break Word:";
            
            const MIN_WORD_INDEX_FRACTION = 1/8;
            const MIN_WORD_INDEX_VALUE_ALTERNATE = 6; // If minimum length is disabled...
            const WORD_SEP_CHARACTERS = {};
            
            // Generate WORD_SEP_CHARACTERS...
            const wordSepCharsList = " .?;[]{}<>\\%^\t=,-+!*".split("");
            
            for (const character of wordSepCharsList)
            {
                WORD_SEP_CHARACTERS[character] = character; // Map each character to itself so we can
                                                            // use "in"...
            }
            
            // Flags
            let maximumLengthEnabled = true;
            let breakWords = true;
            
            // Notes.
            var selectionNote = me.editControl.appendLine("** This will be applied to all lines in the document. **");
            selectionNote.editable = false;
            
            // Inputs.
            var maximumLengthEnabledInput = me.editControl.appendLine(maxLineLengthText + " (ENABLED)");
            maximumLengthEnabledInput.editable = false;
            
            var maximumLineLengthInput = me.editControl.appendLine("100");
            
            me.editControl.appendLine("").focus();
            
            var breakWordInput = me.editControl.appendLine(breakWordText + " (ENABLED)");
            
            var wrapBeforeRegexInput = me.editControl.appendLine("Add Break Before Regex: []");  
            var wrapAfterRegexInput = me.editControl.appendLine("Add Break After Regex: []");
            
            var submitLine = me.editControl.appendLine("Wrap");
            submitLine.editable = false;
            
            var cancelLine = me.editControl.appendLine("Cancel");
            
            requestAnimationFrame(() => 
            { 
                cancelLine.focus(); 
                me.editControl.render();
            }); // Focus after propagation of enter.
            
            cancelLine.editable = false;
            
            // Logic
            cancelLine.onentercommand = function()
            {
                me.editControl.restoreState();
                showingWrapDialog = false;
            };
            
            maximumLengthEnabledInput.onentercommand = function()
            {
                maximumLengthEnabled = !maximumLengthEnabled;
                
                let enabledDisabledText = "(ENABLED)";
                
                if (!maximumLengthEnabled)
                {
                    enabledDisabledText = "(DISABLED)";
                }
                
                maximumLengthEnabledInput.text = maxLineLengthText + enabledDisabledText;
            };
            
            breakWordInput.onentercommand = function()
            {
                breakWords = !breakWords;
                
                let enabledDisabledText = "(ENABLED)";
                
                if (!breakWords)
                {
                    enabledDisabledText = "(DISABLED)";
                }
                
                breakWordInput.text = breakWordText + enabledDisabledText;
            };
            
            submitLine.onentercommand = function()
            {
                var parseNumber = (MathHelper ? MathHelper.forceParseInt : parseInt);
                
                var getRegexInputText = (inputLine) =>
                {
                    let lineText = inputLine.text;
                    let colonIndex = lineText.indexOf(":");
                    
                    if (colonIndex < 0)
                    {
                        throw "Error! getRegexInputText called on invalid line!";
                    }
                    
                    let regexText = lineText.substring(colonIndex + 1);
                    return regexText;
                };
                
                var maxLength = parseNumber(maximumLineLengthInput.text);
                var wrapBefore = new RegExp(getRegexInputText(wrapBeforeRegexInput));
                var wrapAfter = new RegExp(getRegexInputText(wrapAfterRegexInput));
                
                // Loop setup.
                var lines = allText.split("\n");
                var processingStack = [];
                var filteredLines = [];
                var wrapBeforeTestPoint, wrapAfterTestPoint;
                var wrapPoint, preWrapPoint, postWrapPoint, wrapCurrentLine;
                var currentLine;
                var i = 0;
                
                // While still lines to process...
                while (i < lines.length || processingStack.length > 0)
                {
                    if (processingStack.length === 0)
                    {
                        processingStack.push(lines[i]);
                        i ++;
                    }
                    
                    currentLine = processingStack.pop();
                    
                    wrapPoint = currentLine.length;
                    wrapCurrentLine = false;
                    
                    if (maximumLengthEnabled && wrapPoint > maxLength)
                    {
                        wrapPoint = maxLength;
                        wrapCurrentLine = true;
                    }
                    
                    wrapBeforeTestPoint = currentLine.search(wrapBefore);
                    wrapAfterTestPoint = currentLine.search(wrapAfter);
                    
                    if (wrapBeforeTestPoint >= 0 && wrapBeforeTestPoint < wrapPoint) // Found?
                    {
                        wrapPoint = wrapBeforeTestPoint;
                        wrapCurrentLine = true;
                    }
                    
                    if (wrapAfterTestPoint >= 0 && wrapAfterTestPoint + 1 < wrapPoint)
                    {
                        wrapPoint = wrapAfterTestPoint + 1; // Add one so as to wrap after.
                        wrapCurrentLine = true;
                    }
                    
                    if (!breakWords && wrapCurrentLine)
                    {
                        let j = wrapPoint;
                        let minIndex = // Give up on finding the start of a word at this index.
                            Math.max(MIN_WORD_INDEX_VALUE_ALTERNATE, // Make sure we don't start at zero...
                                maximumLengthEnabled ? maxLength * MIN_WORD_INDEX_FRACTION 
                                    : MIN_WORD_INDEX_VALUE_ALTERNATE); // If we can't use maximum length... 
                                                                       // just use the minimum break index.
                        
                        // Backtrack to last suitable character.
                        for (; j >= minIndex; j --)
                        {
                            if (currentLine.charAt(j) in WORD_SEP_CHARACTERS)
                            {
                                break; // Stop & use this j.
                            }
                        }
                        
                        wrapPoint = j; // Break at this j instead.
                    }
                    
                    preWrapPoint = currentLine.substring(0, wrapPoint);
                    postWrapPoint = currentLine.substring(wrapPoint);
                    
                    filteredLines.push(preWrapPoint);
                    
                    if (postWrapPoint.length > 0 && wrapCurrentLine)
                    {
                        if (wrapPoint > 0)
                        {
                            processingStack.push(postWrapPoint);
                        }
                        else
                        {
                            filteredLines.push(postWrapPoint);
                        }
                    }
                } // End while.
                
                var newText = filteredLines.join("\n");
                
                // Reset & display.
                me.editControl.restoreState();
                me.editControl.clear();
                me.editControl.displayContent(newText);
                showingWrapDialog = false;
            }; // End onentercommand.
        }
    };

    this.spellCheck = function()
    {
        var textToCheck = me.editControl.getText();
        var wordsToCheck = me.editControl.getText().split(/[ \t\n.;!?=0-9]/g);

        me.editControl.saveStateAndClear();

        var spellingDictionaryPath = app.getInternalStorageDirectory() + "/spellcheck.txt";

        var wordsJoined = app.getFileContent(spellingDictionaryPath) || "if";
        var checkAgainstWords = wordsJoined.split(/[ \t\n.?!;?=0-9\<\>\-_\=\+\'\"\`\[\]\(\)\\\/\{\}\:\|]/g);

        var filteredWords = [];

        for (var i = 0; i < checkAgainstWords.length; i++)
        {
            if (checkAgainstWords[i] !== "")
            {
                filteredWords.push(checkAgainstWords[i].toUpperCase());
            }
        }

        filteredWords.sort();

        var findWord = function (word, precision, startIndex, endIndex, depth, returnClosest)
        {
            endIndex = endIndex !== undefined ? endIndex : filteredWords.length;
            startIndex = startIndex !== undefined ? startIndex : 0;
            let checkIndex = Math.floor((startIndex + endIndex) / 2);
            depth = depth || 0;

            let compareTo = filteredWords[checkIndex];

            var currentPrecision = precision || Math.max(word.length, compareTo.length);

            if (depth > 22)
            {
                return returnClosest ? checkIndex : false;
            }

            if (word.substring(0, currentPrecision).toUpperCase() === compareTo.substring(0, currentPrecision).toUpperCase())
            {
                return compareTo;
            }
            else if (startIndex !== checkIndex && word.toUpperCase() > compareTo.toUpperCase())
            {
                startIndex = checkIndex;

                return findWord(word, precision, startIndex, endIndex, depth + 1, returnClosest);
            }
            else if (startIndex !== checkIndex)
            {
                endIndex = checkIndex;

                return findWord(word, precision, startIndex, endIndex, depth + 1, returnClosest);
            }

            return returnClosest ? checkIndex : false;
        };

        var getSuggestions = function(word, checkedWords)
        {
            let iterations = 1, foundWord, suggestions = [];
            let centerIndex = findWord(word, undefined, undefined, undefined, undefined, true);
            let currentIndex = centerIndex;
            
            checkedWords = checkedWords || {};

            while (suggestions.length < 4 && currentIndex >= 0 && currentIndex < filteredWords.length)
            {
                foundWord = filteredWords[currentIndex];
                
                if (foundWord && !checkedWords[foundWord])
                {
                    suggestions.push(foundWord);
                    checkedWords[foundWord] = true;
                }

                iterations++;
                
                if (iterations % 2 === 0)
                {
                    currentIndex = centerIndex + iterations / 2;
                }
                else
                {
                    currentIndex = centerIndex - Math.floor(iterations / 2);
                }
            }

            if (word.length > 3 && suggestions.length < 16)
            {
                let newWord = word.substring(1);
                
                suggestions = suggestions.concat(getSuggestions(newWord, checkedWords));
            }

            return suggestions;
        };

        var buffer = "";
        var currentChar;
        var errors = {};
        var errorsCount = 0;

        for (var i = 0; i < textToCheck.length; i++)
        {
            currentChar = textToCheck.charAt(i);

            if (currentChar.toUpperCase() >= 'A' && currentChar.toUpperCase() <= 'Z')
            {
                buffer += currentChar;
            }
            else if (currentChar === " " || currentChar === "\n" || currentChar === "-" || currentChar === "\t")
            {
                if (!findWord(buffer) && buffer.length > 0)
                {
                    errors[i] = buffer;

                    errorsCount++;
                }

                buffer = "";
            }
            else
            {
                buffer = "";
            }
        }

        var handleNewLine = function(errorIndex, word)
        {
            var newLine = me.editControl.appendLine("[-] " + word + " at " + errorIndex + ". ");
            newLine.editable = false;

            newLine.onentercommand = function()
            {
                me.editControl.clear();

                me.editControl.appendLine("Suggestions for " + word + ".");
                var addToDictionaryLine = me.editControl.appendLine("Add " + word + " to dictionary.");
                addToDictionaryLine.editable = false;
                var cancelLine = me.editControl.appendLine("~~CANCEL~~");
                cancelLine.editable = false;

                cancelLine.focus();

                cancelLine.onentercommand = function()
                {
                    me.editControl.clear();

                    addLines();
                };

                addToDictionaryLine.onentercommand = function()
                {
                    var writeText = wordsJoined + "\n" + word;

                    wordsJoined = writeText;
                    delete errors[errorIndex];

                    var result = app.writeToFile(spellingDictionaryPath, writeText);

                    if (result !== "SUCCESS")
                    {
                        noteError(result);
                    }
                    else
                    {
                        cancelLine.onentercommand();
                    }
                };

                var handleSuggestion = function(suggestionText)
                {

                    if (word.toLowerCase() === word)
                    {
                        suggestionText = suggestionText.toLowerCase();
                    }
                    else if (suggestionText.length > 0
                            && word.length > 1 && word.charAt(0) === word.charAt(0).toUpperCase() && word.substring(1).toLowerCase() === word.substring(1))
                    {
                        suggestionText = suggestionText.charAt(0).toUpperCase() + suggestionText.substring(1).toLowerCase();
                    }
                    else if (word.toUpperCase() !== word)
                    {
                        suggestionText = suggestionText.toLowerCase();
                        let suggestionTextNew = "";

                        for (let i = 0; i < word.length && i < suggestionText.length; i++)
                        {
                            suggestionTextNew += (word.charAt(i).toUpperCase() === word.charAt(i)) ? suggestionText.charAt(i).toUpperCase() : suggestionText.charAt(i);
                        }

                        suggestionText = suggestionTextNew + suggestionText.substring(suggestionTextNew.length);
                    }

                    var suggestionLine = me.editControl.appendLine(" " + suggestionText);

                    suggestionLine.onentercommand = function()
                    {
                        textToCheck = textToCheck.substring(0, errorIndex) + suggestionText + textToCheck.substring(errorIndex + word.length);

                        delete errors[errorIndex];

                        cancelLine.onentercommand();
                    };
                };

                var suggestions = getSuggestions(word);

                for (var j = 0; j < suggestions.length; j++)
                {
                    handleSuggestion(suggestions[j]);
                }
            };
        };

        var addLines = function()
        {
            var exitLine = me.editControl.appendLine("Exit (" + filteredWords.length + " to be checked)...");
            exitLine.editable = false;

            var errorsCountDisplay = me.editControl.appendLine("Found " + errorsCount + " errors.");
            errorsCountDisplay.editable = false;

            if (errorsCount > 0)
            {
                var addAllToDictionary = me.editControl.appendLine("Add All Errors to Dictionary");
                var addedWords = {};

                addAllToDictionary.editable = false;

                addAllToDictionary.onentercommand = function()
                {

                    var appendText = "";

                    for (var i in errors)
                    {
                        if (!addedWords[errors[i]])
                        {
                            addedWords[errors[i]] = true;

                            appendText += "\n" + errors[i].toUpperCase();
                        }
                    }

                    var writeText = wordsJoined + appendText;

                    var result = app.writeToFile(spellingDictionaryPath, writeText);

                    if (result !== "SUCCESS")
                    {
                        noteError(result);
                    }
                    else
                    {
                        exitLine.onentercommand();
                    }
                };
            }

            for (var errorIndex in errors)
            {
                handleNewLine(errorIndex, errors[errorIndex]);
            }

            exitLine.onentercommand = function()
            {
                me.editControl.restoreState();

                me.editControl.clear(true); // No view reset.
                me.displayContent(textToCheck);
            };
        };

        addLines();
    };

    var selectingFile = false;
    this.selectFile = function(basePath, onComplete)
    {
        basePath = basePath || "/";

        if (!selectingFile && window.app)
        {
            selectingFile = true;

            var getDirectory = (path) =>
            {
                return path.substring(0, path.lastIndexOf("/"));
            };

            var currentPath = basePath;

            me.editControl.saveStateAndClear();

            me.editControl.setEditable(true);

            var directoryLine = me.editControl.appendLine(currentPath);
            var submitLine = me.editControl.appendLine("Select");
            var runCommandLine = me.editControl.appendLine("%: ");
            var subPathLines = [];

            var clearSubPathLines = () =>
            {
                // Hide lines from the previous display of contents.
                for (var i = 0; i < subPathLines.length; i++)
                {
                    subPathLines[i].flaggedForRemoval = true;
                }

                me.editControl.removeLinesFlaggedForRemoval();

                subPathLines = [];
            };

            submitLine.editable = false;

            var listSubDirsAndFiles = (path) =>
            {
                clearSubPathLines();


                var directory = getDirectory(path);

                var filesList = (app.listFiles(directory) || "").split("\n");

                var handleLine = function(fileName)
                {
                    if (fileName === "")
                    {
                        return;
                    }
                    else if (fileName.endsWith("@"))
                    {
                        fileName = fileName.substring(0, fileName.length - 1) + "/";
                    }

                    var newLine = me.editControl.appendLine("> " + fileName);

                    newLine.onentercommand = function()
                    {
                        if (!fileName.startsWith(".."))
                        {
                            directoryLine.text = directory + "/" + fileName;
                        }
                        else
                        {
                            directoryLine.text = directory.substring(0, directory.lastIndexOf("/")) + "/";
                        }

                        listSubDirsAndFiles(directoryLine.text);

                        if (!fileName.endsWith("/"))
                        {
                            submitLine.focus();
                        }
                    };

                    subPathLines.push(newLine);
                };

                for (var i = 0; i < filesList.length; i++)
                {
                    handleLine(filesList[i]);
                }

                directoryLine.focus();
            };

            directoryLine.onentercommand = function()
            {
                listSubDirsAndFiles(directoryLine.text);
            };

            runCommandLine.onentercommand = function()
            {
                clearSubPathLines();

                var command = runCommandLine.text.substring(runCommandLine.text.indexOf(": ") + 2);
                var directory = getDirectory(directoryLine.text);

                runCommandLine.text = "%: ";

                var fullCommand = "";

                if (directory !== "")
                {
                    fullCommand = "cd " + directory + " && ";
                }

                fullCommand += command;

                var result = app.getCommandResult(fullCommand);
                result = "% " + fullCommand + "\n" + result;

                var handleLine = function(lineContent)
                {
                    var newLine = me.editControl.appendLine("| " + lineContent);
                    newLine.editable = false;

                    subPathLines.push(newLine);
                };

                var newLines = result.split("\n");

                for (var i = 0; i < newLines.length; i++)
                {
                    handleLine(newLines[i]);
                }

                runCommandLine.focus();
            };

            listSubDirsAndFiles(currentPath);

            submitLine.onentercommand = function()
            {
                me.saveDir = directoryLine.text + "";

                me.editControl.restoreState();

                selectingFile = false;

                if (onComplete)
                {
                    onComplete();
                }
            };
        }
        else if (window.app)
        {
            me.editControl.restoreState();

            selectingFile = false;
        }
    };

    this.toggleFindReplace = function(toFindInitial, replaceWithInitial, initialReplaceMode, displayResults)
    {
        if (!findReplaceEnabled)
        {
            var lines = me.editControl.getText().split("\n");

            me.editControl.saveStateAndClear();

            me.editControl.setEditable(true);

            var editedLines = [];

            var replaceMode = initialReplaceMode || false;
            var toFind = toFindInitial || "", replaceWith = replaceWithInitial || "";

            var inputLine;

            var setUpInputs = function()
            {
                var firstLine = me.editControl.appendLine(replaceMode ? "Replace With: " : "Find: ");
                firstLine.editable = false;

                inputLine = me.editControl.appendLine(replaceMode ? (replaceWith || "Replace Text Here") : (toFind || "RegExp Here"));

                inputLine.select();
                inputLine.focus();

                firstLine.onentercommand = function()
                {
                    if (!replaceMode)
                    {
                        firstLine.text = "Replace With:";

                        toFind = inputLine.text + "";

                        inputLine.text = replaceWith || "Replace Text Here";

                        requestAnimationFrame(() =>
                        {
                            inputLine.select();
                            inputLine.focus();

                            me.editControl.render();
                        });
                    }
                    else
                    {
                        replaceWith = inputLine.text + "";

                        firstLine.text = "Find: ";
                        inputLine.text = toFind || "RexExp Here";
                    }

                    replaceMode = !replaceMode;
                };
            };

            setUpInputs();

            inputLine.onentercommand = function(line)
            {
                // Clear all edited lines.
                for (var i = 0; i < editedLines.length; i++)
                {
                    editedLines[i].flaggedForRemoval = true;
                }

                me.editControl.removeLinesFlaggedForRemoval();
                editedLines = [];

                // Cache replacable text.
                if (!replaceMode)
                {
                    toFind = line.text;
                }
                else
                {
                    replaceWith = line.text;
                }

                var searchExp;
                var newLine, results, indicies, info, lastIndex, currentIndex;

                searchExp = new RegExp(toFind, "g");

                for (var i = 0; i < lines.length; i++)
                {
                    searchExp.lastIndex = 0;

                    indicies = [];
                    info = [];

                    lastIndex = -1;
                    currentIndex = 0;

                    while ((results = searchExp.exec(lines[i])) !== null && currentIndex !== lastIndex)
                    {
                        lastIndex = currentIndex;

                        indicies.push(searchExp.lastIndex);
                        info.push(results[0]);

                        currentIndex = searchExp.lastIndex;
                    }

                    if (indicies.length > 0)
                    {

                        newLine = me.editControl.appendLine(i + ": " + lines[i] + " (" + info.join(", ") + ")");

                        let index = i*1;
                        let firstOccurranceIndex = indicies[0];

                        newLine.editable = false;
                        newLine.onentercommand = function()
                        {
                          if (!replaceMode)
                          {
                              requestAnimationFrame(function()
                            {
                                me.toggleFindReplace();

                                var line = me.editControl.lines[index];
                                line.focus();
                                line.cursorPosition = firstOccurranceIndex;
                                me.editControl.shiftViewIfNecessary(index);
                                me.editControl.render();
                            });
                          }
                          else
                          {
                            requestAnimationFrame(function()
                            {
                              searchExp.lastIndex = 0;

                              me.toggleFindReplace();

                              var line = me.editControl.lines[index];
                              line.text = line.text.replace(searchExp, replaceWith);

                              me.toggleFindReplace(searchExp, replaceWith, true, true);

                              me.editControl.render();
                            });
                          }
                        };

                        editedLines.push(newLine);
                    }
                } // End for loop.

                // Allow every match to be replaced if in replace mode.
                if (replaceMode)
                {
                    newLine = me.editControl.appendLine("Replace All");

                    newLine.editable = false;

                    newLine.onentercommand = function()
                    {
                        requestAnimationFrame(() =>
                        {
                            me.toggleFindReplace();

                            var currentLine;

                            for (var i = 0; i < me.editControl.lines.length; i++)
                            {
                                currentLine = me.editControl.lines[i];

                                searchExp.lastIndex = 0;

                                currentLine.text = currentLine.text.replace(searchExp, replaceWith);
                            }

                            me.editControl.render();
                        });
                    };

                    editedLines.push(newLine);
                }
            };

            if (displayResults)
            {
                requestAnimationFrame(() =>
                {
                    inputLine.onentercommand(inputLine);

                    me.editControl.render();
                });
            }
        }
        else
        {
            me.editControl.restoreState();
        }

        findReplaceEnabled = !findReplaceEnabled;
    };

    me.clear = me.editControl.clear;
    me.displayContent = me.editControl.displayContent;
    me.render = me.editControl.render;
    me.getText = me.editControl.getText;
    me.scrollToFocus = () =>
    {
        me.editControl.shiftViewIfNecessary(me.editControl.getSelEnd().y);
    };

    me.keyCanvas.width = me.keyboard.maxX;
    me.keyCanvas.height = me.keyboard.maxY;

    me.editCanvas.width = window.innerWidth;//me.keyCanvas.width;
    me.editCanvas.height = (window.innerHeight * 0.9 - me.keyCanvas.height);

    // If sharing a parent, make room for the keyboard.
    if (textViewerParentElement === keyboardParentElement)
    {
        me.editCanvas.style.height = "calc(90vh - " + me.keyCanvas.height + "px)";
    }
    else
    {
        me.editCanvas.style.height = "auto"; // And assume the user applied
                                             //some style to resize the canvas.
    }

    me.editCanvas.style.width = "calc(100% - 2px)";

    me.keyboard.render();

    me.editControl.render();

    textViewerParentElement.appendChild(me.editCanvas);
    keyboardParentElement.appendChild(me.keyCanvas);
    textExportParentElement.appendChild(me.copyPasteControl);
    runFrameParentElement.appendChild(me.runFrame);
}

var EditorHelper = {};

// Evaluate text as JavaScript in a dedicated environment...
EditorHelper.__runOutOfContext = async (text) =>
{
    return await JSHelper.Environs.request("editorRunJSEnviron").push(text);
};

EditorHelper.openWindowedEditor = (initialText, onComplete, options) =>
{
    options = options || {};

    let runWindow = SubWindowHelper.create({ title: "Run", minWidth: 100, minHeight: 100 });
    let importExportWindow = SubWindowHelper.create({ title: "Import or Export", noResize: true });
    let keyboardWindow = SubWindowHelper.create({ title: "Keyboard", alwaysOnTop: true, noResize: true });
    let viewerWindow = SubWindowHelper.create({ title: options.title || "View and Edit", minWidth: 350, minHeight: 350 });

    viewerWindow.content.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
    viewerWindow.enableFlex();

    runWindow.enableFlex();

    let editor = new Editor(viewerWindow.content, keyboardWindow.content, 
        importExportWindow.content, runWindow.content, options.onRun || function(source)
    {
        runWindow.toTheFore();
    });
    
    viewerWindow.setOnCloseListener(() =>
    {
        runWindow.close();
        importExportWindow.close();
        keyboardWindow.close();
        
        if (onComplete)
        {
            onComplete(editor.editControl.getText());
        }
    });
    
    if (initialText)
    {
        editor.clear();
        
        editor.displayContent(initialText);
        
        editor.editControl.render();
    }
    
    if (options.configureWindows)
    {
        options.configureWindows(runWindow, importExportWindow, keyboardWindow, viewerWindow);
    }
    
    return editor;
}

// Replace a textarea with a tabbed editor.
EditorHelper.replaceWithEditor = (elem, options) =>
{
    options = options || 
    {
        height: 400,
        font: undefined, // use the default...
        highlightScheme: undefined
    };

    const KEYBOARD_BUTTON_MARGIN = 4;

    // Textbox and its parent...
    const container = document.createElement("div");
    const editorParent = document.createElement("div");
    const editorElem = document.createElement("div");
    const textboxParent = document.createElement("div");
    const textboxGrowzone = document.createElement("div");
    const previewElem = document.createElement("div");

    elem.replaceWith(container);
    textboxParent.appendChild(elem);
    textboxGrowzone.appendChild(textboxParent);
    editorParent.appendChild(editorElem);

    elem.style.height = options.height + "px";
    editorElem.style.height = options.height + "px";

    textboxParent.style.display = "flex";
    elem.style.flexGrow = 1;
    editorElem.classList.add("codeEditor");
    editorElem.style.display = "flex";
    editorParent.style.paddingTop = "2px";

    // Keyboard...
    const keyboardParent = document.createElement("div");
    let oldKeyboardWindow = undefined;
    
    let currentTabName = undefined;

    const tabView = HTMLHelper.addTabGroup(
    {
        "Textbox": textboxGrowzone,
        "Editor": editorParent,
        "Preview": previewElem
    }, container, "Editor");
    
    const editor = new Editor(editorElem, keyboardParent, elem, previewElem, () =>
    {
        if (currentTabName !== "Preview")
        {
            tabView.selectTab("Preview");
        }

        editor.runFrame.style.display = "block";
        editor.runFrame.height = options.height;
        editor.runFrame.style.height = options.height + "px";
    });

    if (options.font)
    {
        editor.setFont(options.font);
    }

    if (options.highlightScheme)
    {
        editor.setDefaultHighlightScheme(options.highlightScheme)
    }

    editor.clear();
    editor.displayContent(elem.value);
    editor.render();

    // Show & hide keyboard
    let showKeyboardButton = HTMLHelper.addButton("⌨", editorElem, () =>
    {
        if (oldKeyboardWindow)
        {
            oldKeyboardWindow.destroy();
        }

        let keyboardWindow = SubWindowHelper.create(
        { 
            title: "Keyboard", 
            alwaysOnTop: true, 
            noResize: true,
            withPage: true
        });

        keyboardWindow.appendChild(keyboardParent);

        oldKeyboardWindow = keyboardWindow;
    });

    showKeyboardButton.style.flexShrink = 1;
    showKeyboardButton.style.flexGrow = 0;
    showKeyboardButton.style.color = "white";
    showKeyboardButton.style.backgroundColor = "rgba(0, 0, 0, 0.9)";
    showKeyboardButton.style.width = "min-content";

    // Handle tab switching.
    const handleTabSwitching = async () =>
    {
        while (true)
        {
            const newTabName = await tabView.tabChanged.waitFor(HTMLHelper.TAB_CHANGED);

            if (newTabName === "Textbox" && currentTabName === "Editor")
            {
                elem.value = editor.getText();
            }
            else if ((newTabName === "Editor" || newTabName === "Preview") 
                    && currentTabName === "Textbox")
            {
                editor.clear();
                editor.displayContent(elem.value);
            }

            // Adjust the editor to the canvas' size and render
            // any updates.
            if (newTabName === "Editor")
            {
                editor.render();
            }

            // Handle preview-related management.
            if (newTabName === "Preview")
            {
                if (currentTabName === "Editor")
                {
                    elem.value = editor.getText();
                }
                else if (currentTabName === "Textbox")
                {
                    if (elem.value !== editor.getText())
                    {
                        editor.clear();
                        editor.displayContent(elem.value);
                    }
                }
                
                editor.updateRunFrame();
            }

            currentTabName = newTabName;
        }
    };

    handleTabSwitching();
};

// Inserted file ProgressEstimator.js encoding='utf-8'
"use strict";

function ProgressEstimator(runFunction)
{
    this.startTime = undefined;
    this.estimatedConstant = 0;
    this.runFunction = runFunction;
    this.addedConstant = 0;
    this.progressLoopRunning = false;
    this.inRecord = false;
    
    // RunningTime is a function, like n => n*n or n => lg(n).
    //This is like theta/omicron notation, except can be more exact
    //if a +n, or +c term is included.
    this.setRunFunction = function(runningTime)
    {
        this.runFunction = runningTime;
    };
    
    this.startRecord = function()
    {
        this.startTime = (new Date()).getTime();
        this.inRecord = true;
    };
    
    this.stopProgressLoopIfRunning = function()
    {
        if (this.progressLoopRunning)
        {
            this.shouldStopProgressLoop = true;
        }
    };
    
    // ArgumentLength should fullfill the parameter
    //given in the run function.
    this.stopRecord = function(argumentLength)
    {
        let endTime = (new Date()).getTime();
        let deltaTime = endTime - this.startTime;
        
        this.inRecord = false;
        
        this.stopProgressLoopIfRunning();
        
        // If no arguments were given,
        //use this as an opportunity
        //to determine the added constant.
        if (argumentLength === 0)
        {
            this.addedConstant = deltaTime;
            
            return;
        }
        
        let singleSampleEstimate = deltaTime / this.runFunction(argumentLength);
        
        // If the estimated constant is zero, and this
        //constant is nonzero, set it. It assumes
        //the more recent estimate is more accurate than the previous
        //(the user could have opened a new program, etc); however
        //the estimatedConstant is weighted in favor of the previous estimatedConstant.
        //Look into whether this should be changed.
        if (this.estimatedConstant != 0)
        {
            this.estimatedConstant = this.estimatedConstant * 0.7 + singleSampleEstimate * 0.3;
        }
        else
        {
            this.estimatedConstant = singleSampleEstimate;
        }
    };
    
    // The prediction must have been started with startRecord.
    this.predictProgress = function(argumentsLength)
    {
        let endTime = (new Date()).getTime();
        let deltaTime = endTime - this.startTime;
        
        let totalTime = (this.estimatedConstant * this.runFunction(argumentsLength) + this.addedConstant);
        let currentTime = deltaTime;
        
        let result = 1;
        
        if (totalTime !== 0)
        {
            result = currentTime / totalTime;
        }
        
        return result;
    };
    
    // Keep predicting progress in a loop, until
    //the record is stopped.
    this.predictProgressLoop = function(argumentCount, onUpdate)
    {
        this.progressLoopRunning = true;
        this.shouldStopProgressLoop = false;
        
        // Start a new record if one has
        //not already been started.
        if (!this.inRecord)
        {
            this.startRecord();
        }
        
        let me = this;
        
        let loop = function()
        {
            if (!me.progressLoopRunning)
            {
                return;
            }
            
            onUpdate(me.predictProgress(argumentCount));
            
            requestAnimationFrame(loop);
        };
        
        loop();
    };
}

// Inserted file Transition.js encoding='utf-8'
"use strict";

function Transition(updateFunction, duration, doneFunction, beforeStart)
{
    var me = this;
    var startTime = (new Date()).getTime();
    var progress = 0;
    var currentTime, deltaT;
    var halt = false;
    var endProgressMultiplier = 1;
    var endProgress = 1;
    var running = false;
    var temporaryOnComplete = () => {};
    
    var progressCalculator = function(duration, deltaT)
    {
        if (duration === 0)
        {
            return 1;
        }
        else
        {
            return Math.max(0, Math.min(1, deltaT / duration));
        }
    };
    
    var animate = function()
    {
        if (halt)
        {
            halt = false;
            running = false;
            return;
        }
    
        currentTime = (new Date()).getTime();
        deltaT = currentTime - startTime;
        
        progress = progressCalculator(duration, deltaT);
        
        updateFunction.call(me, progress);
        
        if (progress * endProgressMultiplier < endProgress * endProgressMultiplier)
        {
            running = true;
            requestAnimationFrame(animate);
        }
        else
        {
            running = false;
            
            doneFunction.call(me);
            temporaryOnComplete.call(me);
        }
    };
    
    this.start = function()
    {
        halt = false;
        startTime = (new Date()).getTime();
        
        if (beforeStart)
        {
            beforeStart.apply(me, arguments);
        }
        
        // If not already running, start!
        if (!running)
        {
            animate();
        }
        
        // Return a promise!
        let result = new Promise((resolve, reject) =>
        {
            // Link the oncomplete action
            //to the resolve function.
            temporaryOnComplete = resolve;
        });
        
        return result;
    };
    
    this.cancel = function()
    {
        halt = true;
        
        // Clear the temporary oncomplete.
        temporaryOnComplete = undefined;
    };
    
    // Make the animation run in reverse by reversing
    //the progress!
    this.reverse = function()
    {
        var oldProgressCalculator = progressCalculator;
        progressCalculator = function(duration, deltaT)
        {
            return 1 - oldProgressCalculator(duration, deltaT);
        };
        
        endProgressMultiplier *= -1;
        endProgress = 1 - endProgress;
    };
}

// Inserted file SerializationHelper.js encoding='utf-8'
"use strict";

var SerializationHelper = {};

// Note: This returns a JavaScript dictionary
//that should be safe to call JSON.stringify on.
SerializationHelper.serializeObject = function(obj)
{
    let objectType = typeof (obj);
    let result = {};
    
    // No serialization necessary.
    if (obj == undefined || objectType === "string" || objectType === "number" || objectType === "boolean")
    {
        result = { object: obj, type: objectType };
    }
    
    // Serialize using a declared method.
    else if (obj.serialize && (obj.deserialize || obj.unserialize) && obj.constructor)
    {
        result = { object: obj.serialize(), type: "OWN_SERIALIZED", constructorName: obj.constructor.name };
    }
    // Otherwise,
    //check for toString/fromString methods.
    else if (obj.toString && obj.fromString && obj.constructor)
    {
        result = { object: obj.toString(), constructorName: obj.constructor.name, type: "TO_STRING_SERIALIZED" };
    } // Otherwise, try to recover properties of the object for serialization.
    else // A last-resort, not-guaranteed-to-work method.
    {
        // Extracts properties from the result, excluding functions.
        var extractProperties = function(object)
        {
            var result = {};
            var excludeType = "function";
            
            var current;
            for (var key in object)
            {
                current = object[key];
                
                // Don't include these keys (which shouldn't 
                //be included in a for/in loop anyway).
                if (key === "__proto__" || key === "prototype"
                    || key === "constructor")
                {
                    continue;
                }
            
                if (typeof (current) === "object")
                {
                    result[key] = extractProperties(current);
                }
                else if (typeof (current) !== excludeType)
                {
                    result[key] = current;
                }
            }
            
            return result;
        };
        
        var serializedVersion = extractProperties(obj);
        
        let constructorName = (obj.constructor ? obj.constructor.name : null);
        
        result = 
        { 
            object: serializedVersion, 
            constructorName: constructorName, 
            type: "EXTRACTED_PROPERTIES" 
        };
    }
    
    return result;
};

// Deserialize an object from a given serialized state.
//This must have been serialized using serializeObject.
//This can be dangerous if the serialized data specifies
//a constructorName it may construct a type of ANY OBJECT
//in the global domain.
SerializationHelper.inflateObject = function(serializationData)
{
    const serializationType = serializationData.type;
        
    let result = {};
    let object = serializationData.object;
    
    const constructorName = serializationData.constructorName;
        
    // If the constructor is present...
    if (constructorName && (self || window)[constructorName] && typeof ((self || window)[constructorName]) === "function")
    {
        try
        {
            result = new (self || window)[constructorName](); 
        }
        catch(e)
        {
            console.warn("Nonfatal. Unable to construct object from constructor " + constructorName + ". Error: " + e);
        }
    }
    
    // If the properties were extracted,
    if (serializationType === "EXTRACTED_PROPERTIES")
    {
        let properties = object;
        
        // Copy the set properties.
        for (var key in properties)
        {
            result[key] = properties[key];
        }
    }
    else if (serializationType === "TO_STRING_SERIALIZED")
    {
        console.assert(result.fromString != null); // Ensure the result can be
                                                   //created from a string.
        
        result = result.fromString();
    }
    else if (serializationType === "OWN_SERIALIZED")
    {
        let deserialize = (obj.deserialize || obj.unserialize || obj.inflate);
        
        console.assert(deserialize != null);
        
        result = deserialize(result);
    }
    else
    {
        result = object; // TODO Different handling for different serialized types here.
    }
    
    return result;
};

// Chrome doesn't support toSource on strings,
//so we need another function. This function
//escapes text such that all (old) backslashes and
//single/double are preceeded with a (new) backslash.
//The returned text is surrounded with double-quotes.
SerializationHelper.stringToSource = function(text)
{
    let currentChar, result = "\"";
    
    for (let i = 0; i < text.length; i++)
    {
        currentChar = text.charAt(i);
        
        // Does it need escaping.
        if (currentChar == '"' || currentChar == "\'" || currentChar == "\\")
        {
            result += "\\";
        }
        
        // Other characters that need escaping.
        if (currentChar == "\t")
        {
            result += "\\t";
        }
        else if (currentChar == "\n")
        {
            result += "\\n";
        }
        else if (currentChar == "\r")
        {
            result += "\\r";
        }
        else
        {
            result += currentChar;
        }
    }
    
    return result + "\"";
};

// Like JSON.stringify, but also converts functions to source.
SerializationHelper.stringifyFull = function(part, maxDepth, currentDepth)
{
    var result = "{ ";
    var currentPart = "";
    
    maxDepth = maxDepth || 25;
    
    let depth = currentDepth || 0;
    
    // Don't recurse more than 20 levels deep.
    if (depth > 20)
    {
        return result + "}";
    }
    
    var resultParts = [];
    
    for (var key in part)
    {
        currentPart = key + ": ";
    
        if (typeof (part[key]) == "string")
        {
            currentPart += SerializationHelper.stringToSource(part[key]);
        }
        else if (typeof (part[key]) != "object" && part[key] && part[key].toString)
        {
            currentPart += part[key].toString();
        }
        else if (typeof (part[key]) == "object")
        {
            currentPart += SerializationHelper.stringifyFull(part[key], maxDepth, depth + 1);
        }
        else
        {
            currentPart += part[key] + "";
        }
        
        resultParts.push(currentPart);
    }
    
    result = result + resultParts.join(", ") + " }";
    
    return result;
};

SerializationHelper.evalParseFromString = (data) =>
{
    return SerializationHelper.inflateObject(eval("(" + data + ")"));
};

// Serialize data such that reading it with parseFromString
//returns a close copy of the original. Danger! This method
//is imperfect.
SerializationHelper.stringSerialize = (data) =>
{
    return SerializationHelper.stringifyFull(SerializationHelper.serializeObject(data));
};

// Inserted file HighlightSchemes.js encoding='utf-8'
"use strict";

function BashHighlightScheme(originalHighlighter)
{
    this.id = "BashHighlight";

    this.labelMap =
    {
        "if": "#cc33cc",
        "else": "#cc33cc",
        "test": "#cc33cc",
        "fi": "#cc33cc"
    };

    this.labelMap[SyntaxHelper.COMMENT] = "green";
    this.labelMap[SyntaxHelper.STRING] = "yellow";
    this.labelMap[SyntaxHelper.NUMBER_START] = "pink";
    this.labelMap[SyntaxHelper.NUMBER_STOP] = "pink";
    this.labelMap[SyntaxHelper.END_SCRIPT] = "#44ffff"; // End script.


    this.labelSearchSeparators =
    {
    };

    this.labelSearchSeparators[SyntaxHelper.NUMBER_START] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT] = SyntaxHelper.SEARCH_ALL;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    this.labelSearchRegexes.start[SyntaxHelper.COMMENT] = new RegExp("\\\#", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING] = new RegExp("[\\\"\\\']", "g");
    // this.labelSearchRegexes.start[SyntaxHelper.END_SCRIPT] = new RegExp("\\<\\w*/\\w*script\\w*\\>");

    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_START] = SyntaxHelper.regexps.NUMBER_START;
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.regexps.NUMBER_STOP;
    this.labelSearchRegexes.end[SyntaxHelper.STRING] = new RegExp("[\\\"\\\']", "g");


    this.labelSearchFunctions =
    {
        start: {},
        end: {}
    };

    this.multiLineLabels =
    {

    };

    this.highlightSchemeSpecificLabels =
    {

    };

    // this.transitionHighlighterLabels[SyntaxHelper.TRANSIT_HIGHLIGHT_BLOCK] = originalHighlighter;

    var addedLabels = {};
    this.labelPrecedence =
    [["COMMENT"]];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}

function JavaHighlightScheme(originalHighlighter)
{
    this.id = "JavaHighlight";

    this.labelMap =
    {
        "if": "#ca33ca",
        "else": "#ca33ca",
        "void": "#ca40cc",
        "int": "#ca40cc",
        "double": "#ca40cc",
        "float": "#ca40cc",
        "long": "#ca40cc",
        "short": "#ca40cc",
        "char": "#ca40cc",
        "boolean": "#ca40cc",
        "{": "#00ffff",
        "}": "#00ffff",
        "(": "#00ffff",
        ")": "#00ffff",
        "[": "#00ffff",
        "]": "#00ffff",
        "==": "#33aabb",
        "!": "#33aabb",
        "=": "#33aabb",
        ">": "#33aabb",
        "<": "#33aabb",
        ">=": "#33aabb",
        "<=": "#33aabb",
        "%": "#33aabb",
        "+": "#33aabb",
        "-": "#33aabb",
        "*": "#33aabb",
        "/": "#33aabb",
        "%=": "#33aabb",
        "+=": "#33aabb",
        "-=": "#33aabb",
        "*=": "#33aabb",
        "/=": "#33aabb",
        ";": "#33aabb",
        ",": "#c0aabb",
        ":": "#f0aabb",
        "&": "#33aabb",
        "|": "#33aabb",
        "do": "#cb60cd",
        "while": "#cb60cd",
        "for": "#cb60cd",
        "in": "#ab70cd",
        "false": "#abab00",
        "true": "#abab00",
        "null": "#00ff66",
        "this": "#00ffff",
        "super": "#00ffff",
        "const": "#ffee00",
        "return": "#ff6677",
        "switch": "#00ccff",
        "case": "#00ccff",
        "default": "#00ccff",
        "break": "#bb00ee",
        "new": "#bb00ee",
        "throw": "#ff6677",
        "try": "#aaffff",
        "instanceof": "#77ff77",
        "catch": "#aaffff",
        "finally": "#aaffff",
        "class": "#77ffaa",
        "public": "#aaffaa",
        "private": "#aaffaa",
        "protected": "#aaffaa",
        "interface": "#77ffaa",
        "extends": "#77ee99",
        "implements": "#77ee99",
        "static": "#77ee99",
        "volatile": "#77ee99",
        "search": "#eeddff",
        "indexOf": "#eeddff",
        "startsWith": "#eeddff",
        "endsWith": "#eeddff",
        "replace": "#eeddff",
        "Math": "#ffaaff",
        "String": "#aaaaff",
        "Double": "#aaaaff",
        "Boolean": "#aaaaff",
        "Character": "#aaaaff",
        "Integer": "#aaaaff",
        "Thread": "#aaaaff",
        "InetAddress": "#ccccff",
        "Collections": "#ccccff",
        "Comparator": "#ccccff",
        "Exception": "#ffaaaa",
        "log": "#eeaaee",
        "add": "#eeaaee",
        "put": "#eeaaee",
        "println": "#eeaaee",
        "System": "#eeddcc",
        "out": "#aaaaff",
        "err": "#aaaaff",
        "in": "#aaaaff",
        "ArrayList": "#ccaaff",
        "HashMap": "#ccaaff",
        "TreeMap": "#ccaaff",
        "HashSet": "#ccaaff",
        "TreeSet": "#ccaaff",
        "Set": "#ccaaff",
        "List": "#ccaaff",
        "Stack": "#eeaaff",
        "Queue": "#eeaaff",
        "LinkedList": "#aaaaff",
        "StringBuilder": "#ddaaff",
        "Scanner": "#ddaaff",
        "toString": "#aaaaff",
        "final": "#ffcccc",
        "Map": "#ccaaff",
        "push": "#eeddff",
        "get": "#eeddff",
        "pop": "#eeddff",
        "substring": "#eeddff",
        "substr": "#eeddff",
        "size": "#77eecc",
        "length": "#77eecc",
        "Iterator": "#ffddcc",
        "hasNext": "#ccddff",
        "next": "#ddffcc",
        "remove": "#ffddcc",
        "@": "#ffaaaa",
        "import": "#cccc77",
        "package": "#cccc77",
        "toUpperCase": "#eeddff",
        "toLowerCase": "#eeddff",
        "throws": "#ff88ff"
    };


    this.labelMap[SyntaxHelper.COMMENT] = "green";
    this.labelMap[SyntaxHelper.COMMENT_MULTI_LINE] = "green";
    this.labelMap[SyntaxHelper.STRING] = "yellow";
    this.labelMap["CHAR"] = "orange";
    this.labelMap[SyntaxHelper.NUMBER_START] = "pink";
    this.labelMap[SyntaxHelper.NUMBER_STOP] = "pink";
    this.labelMap[SyntaxHelper.END_SCRIPT] = "#44ffff"; // End script.


    this.labelSearchSeparators =
    {
    };

    this.labelSearchSeparators[SyntaxHelper.NUMBER_START] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["CHAR"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["@"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT] = SyntaxHelper.SEARCH_ALL;
    // this.labelSearchSeparators[SyntaxHelper.END_SCRIPT] = SyntaxHelper.SEARCH_ALL,
    this.labelSearchSeparators[SyntaxHelper.COMMENT_MULTI_LINE] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["{"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["}"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["("] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[")"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["["] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["]"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["!"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[";"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["&"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["|"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[","] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[":"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["="] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["=="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["=>"] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators[">="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["<="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators[">"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["<"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["%"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["*"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["+"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["-"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["/"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    
    this.labelSearchRegexes.start[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\/\\\*", "g");
    this.labelSearchRegexes.start[SyntaxHelper.COMMENT] = new RegExp("\\\/\\\/", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.start["CHAR"] = new RegExp("[\\\']", "g");
    // this.labelSearchRegexes.start[SyntaxHelper.END_SCRIPT] = new RegExp("\\<\\w*/\\w*script\\w*\\>");

    this.labelSearchRegexes.end[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\*\\\/", "g");
    this.labelSearchRegexes.end[SyntaxHelper.STRING] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.end["CHAR"] = new RegExp("[\\\']", "g");
    this.labelSearchRegexes.end["@"] = new RegExp("\\@\\w+", "g");
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_START] = SyntaxHelper.regexps.NUMBER_START;
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.regexps.NUMBER_STOP;



    this.labelSearchFunctions =
    {
        start: {},
        end: {}
    };

    this.multiLineLabels =
    {
        "LONG_QUOTE": true
    };

    this.multiLineLabels[SyntaxHelper.COMMENT_MULTI_LINE] = true;

    this.highlightSchemeSpecificLabels =
    {

    };

    // this.transitionHighlighterLabels[SyntaxHelper.TRANSIT_HIGHLIGHT_BLOCK] = originalHighlighter;

    var addedLabels = {};
    this.labelPrecedence =
    [["COMMENT", "QUOTE", "CHAR", SyntaxHelper.COMMENT_MULTI_LINE], [">", "=", "<"]];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}


function JavaScriptHighlightScheme(originalHighlighter)
{
    this.id = "JavaScriptHighlight";

    this.labelMap =
    {
        "LONG_QUOTE": "#ff8877",
        "if": "#ca53ca",
        "else": "#ca53ca",
        "function": "#ca60cc",
        "{": "#30ffff",
        "}": "#30ffff",
        "==": "#70aabb",
        "===": "#70aabb",
        "!": "#70aabb",
        "=": "#70aabb",
        ">": "#70aabb",
        "<": "#70aabb",
        "%": "#70aabb",
        "+": "#70aabb",
        "-": "#70aabb",
        "*": "#70aabb",
        "/": "#70aabb",
        "do": "#cb60cd",
        "while": "#cb60cd",
        "for": "#cb60cd",
        "in": "#ab70cd",
        "of": "#ab70cd",
        "false": "#abab00",
        "true": "#abab00",
        "null": "#00ff66",
        "undefined": "#bbbbdd",
        "=>": "#ea00ea",
        "this": "#00ffff",
        "let": "#ffaacc",
        "var": "#ffaadd",
        "const": "#ffee00",
        "return": "#ff6677",
        "switch": "#00ccff",
        "case": "#00ccff",
        "default": "#00ccff",
        "break": "#bb00ee",
        "new": "#bb00ee",
        "throw": "#ff6677",
        "try": "#aaffff",
        "typeof": "#77ff77",
        "createElement": "#eeffee",
        "catch": "#aaffff",
        "class": "#77ffaa",
        "get": "#77ee99",
        "extends": "#77ee99",
        "__constructor": "#77ee99",
        "async": "#aa66aa",
        "await": "#aa66aa",
        "document": "#bbffbb",
        "window": "#bbffbb",
        "alert": "#ffaabb",
        "confirm": "#ffaabb",
        "prompt": "#ffaabb",
        "innerHTML": "#ff7aaa",
        "outerHTML": "#ff7aaa",
        "search": "#eeddff",
        "indexOf": "#eeddff",
        "lastIndexOf": "#eeddff",
        "replace": "#eeddff",
        "Math": "#ffaaff",
        "innerText": "#ff7eaa",
        "me": "#aaffaa",
        "getContext": "#aaeeff",
        "style": "#ffeeff",
        ";": "#ffaaff",
        "save": "#a000ff",
        "restore": "#a000ff",
        "ctx": "#a060ff",
        "gl": "#a060ff",
        "continue": "#88bbcc",
        "delete": "#ff7799",
        "concat": "#aaffaa",
        "sort": "#aaffaa",
        "textContent": "#7affaa",
        "createElement": "#7affaa",
        "appendChild": "#7affaa",
        "script": "#ffccff",
        "removeChild": "#7affaa",
        "addEventListener": "#7affaa",
        "then": "#7aff99",
        "Promise": "#7aff99",
        "push": "#eeddff",
        "pop": "#eeddff",
        "substring": "#eeddff",
        "substr": "#eeddff",
        "splice": "#eeddff",
        "length": "#77eecc",
        "eval": "#ff7777",
        "JSON": "#aaffaa",
        "__proto__": "#ffaaaa",
        "prototype": "#aaaaff",
        "RegExp": "#aaaaff",
        "clientWidth": "#eeeeff",
        "clientHeight": "#eeeeff",
        "[": "#80aaff",
        "]": "#80aaff",
        "|": "#80aaff",
        "&": "#80aaff",
        "^": "#80aaff",
        "(": "#ffcece",
        ")": "#ffcece"
    };


    this.labelMap[SyntaxHelper.COMMENT] = "green";
    this.labelMap[SyntaxHelper.COMMENT_MULTI_LINE] = "green";
    this.labelMap[SyntaxHelper.STRING + "1"] = "yellow";
    this.labelMap[SyntaxHelper.STRING + "2"] = "yellow";
    this.labelMap[SyntaxHelper.NUMBER_START] = "pink";
    this.labelMap[SyntaxHelper.NUMBER_STOP] = "pink";
    this.labelMap[SyntaxHelper.END_SCRIPT] = "#44ffff"; // End script.


    this.labelSearchSeparators =
    {
    };

    this.labelSearchSeparators[SyntaxHelper.NUMBER_START] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING + "1"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING + "2"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["__constructor"] = SyntaxHelper.SEARCH_ALL;
    // this.labelSearchSeparators[SyntaxHelper.END_SCRIPT] = SyntaxHelper.SEARCH_ALL,
    this.labelSearchSeparators[SyntaxHelper.COMMENT_MULTI_LINE] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["LONG_QUOTE"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["{"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["}"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["("] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[")"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["["] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["]"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["^"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["&"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["|"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["!"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[";"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["=="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["==="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["=>"] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators[">"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["<"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["%"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["*"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["+"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["-"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["/"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    this.labelSearchRegexes.start[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\/\\\*", "g");
    this.labelSearchRegexes.start[SyntaxHelper.COMMENT] = new RegExp("\\\/\\\/", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING + "1"] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING + "2"] = new RegExp("[\\\']", "g");
    this.labelSearchRegexes.start["LONG_QUOTE"] = new RegExp("\\\`", "g");
    // this.labelSearchRegexes.start[SyntaxHelper.END_SCRIPT] = new RegExp("\\<\\w*/\\w*script\\w*\\>");

    this.labelSearchRegexes.end[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\*\\\/", "g");
    this.labelSearchRegexes.end[SyntaxHelper.STRING + "1"] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.end[SyntaxHelper.STRING + "2"] = new RegExp("[\\\']", "g");
    this.labelSearchRegexes.end["LONG_QUOTE"] = this.labelSearchRegexes.start["LONG_QUOTE"];
    this.labelSearchRegexes.end["__constructor"] = new RegExp("constructor", "g");
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_START] = SyntaxHelper.regexps.NUMBER_START;
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.regexps.NUMBER_STOP;


    this.labelSearchFunctions =
    {
        start: {},
        end: {}
    };

    this.multiLineLabels =
    {
        "LONG_QUOTE": true
    };

    this.multiLineLabels[SyntaxHelper.COMMENT_MULTI_LINE] = true;

    this.highlightSchemeSpecificLabels =
    {

    };

    // this.transitionHighlighterLabels[SyntaxHelper.TRANSIT_HIGHLIGHT_BLOCK] = originalHighlighter;

    var addedLabels = {};
    this.labelPrecedence =
    [["COMMENT", "QUOTE2", "QUOTE1", "LONG_QUOTE", SyntaxHelper.COMMENT_MULTI_LINE], "=>", [">", "=", "<"]];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}

function CSSSyntaxHighlightScheme()
{
    this.id = "CSSHighlight";

    this.labelMap =
    {
        "#": "#00ff77",
        ".": "#00ff77",
        "@": "#00ff77",
        "body": "#00bbbb",
        "html": "#00bbbb",
        "p": "#00bbbb",
        "br": "#00bbbb",
        "button": "#9077eb",
        "hr": "#9077eb",
        "input": "#9077eb",
        "h1": "#9077eb",
        "textarea": "#9077eb",
        "center": "#9077eb",
        "a": "#9077eb",
        "div": "#9077eb",
        "ol": "#9077eb",
        "li": "#9077eb",
        "tr": "#9077eb",
        "td": "#9077eb",
        "thead": "#9077eb",
        "tbody": "#9077eb",
        "table": "#9077eb",
        "background": "#bb00bb",
        "rgba": "#aa4488",
        "color": "#bb00bb",
        "gradient": "#aa4488",
        "linear": "#aa4488",
        "radial": "#aa4488",
        "url": "#ccccdd",
        "border": "#bb00bb",
        "radius": "#bb00bb",
        "outline": "#bb00bb",
        "position": "#ffff00",
        "display": "#ffff00",
        "top": "#bb00bb",
        "left": "#bb00bb",
        "bottom": "#bb00bb",
        "right": "#bb00bb",
        "padding": "#bb00bb",
        "margin": "#bb00bb",
        "none": "#00ffaa",
        "auto": "#00ffaa",
        "block": "#00ffaa",
        "absolute": "#00ffaa",
        "flex": "#00ffaa",
        "grow": "#00ffaa",
        "style": "#00ffaa",
        "width": "#bb00bb",
        "height": "#bb00bb",
        "min": "#bb00bb",
        "max": "#bb00bb",
        "transform": "#cc04cc",
        "rotate": "#00cccc",
        "scale": "#00cccc",
        "font": "#bb00bb",
        "box-shadow": "#00cccc",
        "text-shadow": "#00cccc",
        "cursor": "#00cccc",
        "filter": "#00cccc",
        "size": "#bb00bb",
        "image": "#bb00bb",
        "matrix": "#00cccc",
        "overflow-x": "#bb00bb",
        "overflow-y": "#bb00bb",
        "animation": "#bb00bb",
        "transition": "#bb00bb",
        "NUMBER": "#00ff77",
        "text": "#bb00bb",
        "line": "#bb00bb",
        "align": "#bb00bb",
        "indent": "#bb00bb",
        "red": "#ffaaaa",
        "green": "#aaffaa",
        "blue": "#aaaaff",
        "orange": "#ffaa44",
        "purple": "#ffaaff",
        "gray": "#cccccc",
        "brown": "#aaaa77",
        "black": "#bbbbcc",
        "yellow": "#ffffaa",
        "pink": "#ffaaff",
        "violet": "#ff00ff"
    };

    this.labelMap[SyntaxHelper.COMMENT] = "#ff50ff";

    this.labelSearchSeparators =
    {
    };

    this.labelSearchSeparators["#"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["."] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["@"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["NUMBER"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["h1"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["box-shadow"] = SyntaxHelper.CSS_LABEL_SEPARATORS;
    this.labelSearchSeparators["text-shadow"] = SyntaxHelper.CSS_LABEL_SEPARATORS;
    this.labelSearchSeparators["overflow-x"] = SyntaxHelper.CSS_LABEL_SEPARATORS;
    this.labelSearchSeparators["overflow-y"] = SyntaxHelper.CSS_LABEL_SEPARATORS;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    //this.labelSearchRegexes.start["#"] = new RegExp("\\#\\w+", "g");
    this.labelSearchRegexes.start[SyntaxHelper.COMMENT] = new RegExp("\\/\\*", "g");

    this.labelSearchRegexes.end["#"] = new RegExp("\\#\\w+", "g");
    this.labelSearchRegexes.end["."] = new RegExp("\\.\\w+", "g");
    this.labelSearchRegexes.end["@"] = new RegExp("\\@\\w+", "g");
    this.labelSearchRegexes.end["h1"] = new RegExp("h[0-6]", "g");
    this.labelSearchRegexes.end["NUMBER"] = new RegExp("[0-9]", "g");

    this.labelSearchRegexes.end[SyntaxHelper.COMMENT] = new RegExp("\\*\\/", "g");

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    this.multiLineLabels =
    {

    };

    this.multiLineLabels[SyntaxHelper.COMMENT] = true;

    this.highlightSchemeSpecificLabels =
    {

    };

    var addedLabels = {};
    this.labelPrecedence =
    [SyntaxHelper.COMMENT];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}

function HTMLSyntaxHighlightScheme()
{
    this.id = "htmlHighlight";

    this.labelMap =
    {
        "!": "#00aabb",
        "=": "#00aabb",
        "DOCTYPE": "#ff7700",
        "html": "#ff7700"
    };

    this.labelMap[SyntaxHelper.COMMENT_HTML] = "gray";
    //this.labelMap[SyntaxHelper.STRING] = "white";
    this.labelMap[SyntaxHelper.SCRIPT_BLOCK] = "#44ffff";
    this.labelMap[SyntaxHelper.STYLE_BLOCK] = "#44ffff";
    this.labelMap["ELEMENT"] = "#ffcc00";

    this.labelSearchSeparators =
    {
    };

    //this.labelSearchSeparators[SyntaxHelper.STRING] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.SCRIPT_BLOCK] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STYLE_BLOCK] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT_HTML] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["!"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["ELEMENT"] = SyntaxHelper.SEARCH_ALL;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    this.labelSearchRegexes.start[SyntaxHelper.COMMENT_HTML] = new RegExp("\\<\\!\\-\\-", "g");
    //this.labelSearchRegexes.start[SyntaxHelper.STRING] = new RegExp("[\\\"\\\']", "g");
    this.labelSearchRegexes.start[SyntaxHelper.SCRIPT_BLOCK] = new RegExp("\\<\\s*script\\s*(?:[type\\=text\\\ \\\/JavaScript\\\"\\']+)?\\s*\\>", "ig");
    this.labelSearchRegexes.start[SyntaxHelper.STYLE_BLOCK] = new RegExp("\\<\\s*style\\s*(?:[type\\=text\\\ \\\/css\\\"\\']+)?\\s*\\>", "ig");
    this.labelSearchRegexes.start["ELEMENT"] = new RegExp("[<]", "g");

    this.labelSearchRegexes.end[SyntaxHelper.SCRIPT_BLOCK] = new RegExp("\\<\\s*\\/\\s*script\\s*\\>", "ig");
    this.labelSearchRegexes.end[SyntaxHelper.STYLE_BLOCK] = new RegExp("\\<\\s*\\/\\s*style\\s*\\>", "ig");
    //this.labelSearchRegexes.end[SyntaxHelper.STRING] = new RegExp("[\\\"\\\']", "g");
    this.labelSearchRegexes.end[SyntaxHelper.COMMENT_HTML] = new RegExp("\\-\\-\\>", "g");
    this.labelSearchRegexes.end["ELEMENT"] = new RegExp("[>]", "g");

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    this.labelExtensions.end["ELEMENT"] = 0;

    this.multiLineLabels =
    {

    };

    this.multiLineLabels[SyntaxHelper.COMMENT_HTML] = true;
    this.multiLineLabels[SyntaxHelper.SCRIPT_BLOCK] = true;
    this.multiLineLabels[SyntaxHelper.STYLE_BLOCK] = true;

    this.highlightSchemeSpecificLabels =
    {

    };

    this.highlightSchemeSpecificLabels[SyntaxHelper.SCRIPT_BLOCK] = new JavaScriptHighlightScheme(this);
    this.highlightSchemeSpecificLabels[SyntaxHelper.STYLE_BLOCK] = new CSSSyntaxHighlightScheme(this);

    var addedLabels = {};
    this.labelPrecedence =
    [[SyntaxHelper.SCRIPT_BLOCK, SyntaxHelper.STYLE_BLOCK, SyntaxHelper.COMMENT_HTML], "ELEMENT"];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}

function PythonHighlightScheme(originalHighlighter)
{
    this.id = "PythonHighlight";

    this.labelMap =
    {
        "LONG_QUOTE": "red",
        "if": "#ca53ca",
        "else": "#ca53ca",
        "elif": "#ca53ca",
        "def": "#ca60cc",
        "class": "#ca60cc",
        "__init__": "#ca60cc",
        "{": "#30ffff",
        "}": "#30ffff",
        "==": "#70aabb",
        "is": "#70aabb",
        "not": "#70aabb",
        "=": "#70aabb",
        ">": "#70aabb",
        "<": "#70aabb",
        "%": "#70aabb",
        "+": "#70aabb",
        "-": "#70aabb",
        "*": "#70aabb",
        "/": "#70aabb",
        "do": "#cb60cd",
        "while": "#cb60cd",
        "for": "#cb60cd",
        "in": "#ab70cd",
        "range": "#fb70fd",
        "str": "#fb70fd",
        "global": "#fbfd00",
        "False": "#abab00",
        "True": "#abab00",
        "null": "#00ff66",
        "None": "#bbbbdd",
        "lambda": "#ea00ea",
        "self": "#00ffff",
        "const": "#ffee00",
        "return": "#ff6677",
        "switch": "#00ccff",
        "case": "#00ccff",
        "default": "#00ccff",
        "break": "#bb00ee",
        "import": "#ffaa00",
        "from": "#ffaa00",
        "as": "#ffaa00",
        "len": "#77eecc",
        "exec": "#ff7777",
        "print": "#ff00ff",
        "help": "#ff00ff",
        "input": "#ff0000",
        "[": "#80aaff",
        "]": "#80aaff",
        "or": "#80aaff",
        "and": "#80aaff",
        "^": "#80aaff",
        "(": "#ffaece",
        ")": "#ffaece",
        ":": "#ffbece",
        "async": "#ff7777",
        "await": "#ff7777",
        "isinstance": "#ffcc88",
        "dir": "#ffcc88",
        "list": "#ff88ff"
    };


    this.labelMap[SyntaxHelper.COMMENT] = "green";
    //this.labelMap[SyntaxHelper.COMMENT_MULTI_LINE] = "green";
    this.labelMap[SyntaxHelper.STRING + "1"] = "yellow";
    this.labelMap[SyntaxHelper.STRING + "2"] = "yellow";
    this.labelMap[SyntaxHelper.NUMBER_START] = "pink";
    this.labelMap[SyntaxHelper.NUMBER_STOP] = "pink";
    this.labelMap[SyntaxHelper.END_SCRIPT] = "#44ffff"; // End script.


    this.labelSearchSeparators =
    {
    };

    this.labelSearchSeparators[SyntaxHelper.NUMBER_START] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING + "1"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.STRING + "2"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators[SyntaxHelper.COMMENT] = SyntaxHelper.SEARCH_ALL;
    //this.labelSearchSeparators["__constructor"] = SyntaxHelper.SEARCH_ALL;
    // this.labelSearchSeparators[SyntaxHelper.END_SCRIPT] = SyntaxHelper.SEARCH_ALL,
    //this.labelSearchSeparators[SyntaxHelper.COMMENT_MULTI_LINE] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["LONG_QUOTE"] = SyntaxHelper.SEARCH_ALL;
    this.labelSearchSeparators["{"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["}"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["("] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[")"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[":"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["["] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["]"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["^"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["!"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators[";"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["=="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["==="] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators["=>"] = SyntaxHelper.COMPARISON_SEARCH_SEPARATOR;
    this.labelSearchSeparators[">"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["<"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["%"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["*"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["+"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["-"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;
    this.labelSearchSeparators["/"] = SyntaxHelper.SINGLE_CHAR_SEPARATOR;

    this.labelSearchRegexes =
    {
        start:
        {
        },
        end:
        {
        }
    };

    this.labelExtensions =
    {
        start: {},
        end: {}
    };

    //this.labelSearchRegexes.start[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\/\\\*", "g");
    this.labelSearchRegexes.start[SyntaxHelper.COMMENT] = new RegExp("\\\/\\\/", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING + "1"] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.start[SyntaxHelper.STRING + "2"] = new RegExp("[\\\']", "g");
    this.labelSearchRegexes.start["LONG_QUOTE"] = new RegExp("[\"\']{3}", "g");
    // this.labelSearchRegexes.start[SyntaxHelper.END_SCRIPT] = new RegExp("\\<\\w*/\\w*script\\w*\\>");

    //this.labelSearchRegexes.end[SyntaxHelper.COMMENT_MULTI_LINE] = new RegExp("\\\*\\\/", "g");
    this.labelSearchRegexes.end[SyntaxHelper.STRING + "1"] = new RegExp("[\\\"]", "g");
    this.labelSearchRegexes.end[SyntaxHelper.STRING + "2"] = new RegExp("[\\\']", "g");
    this.labelSearchRegexes.end["LONG_QUOTE"] = this.labelSearchRegexes.start["LONG_QUOTE"];
    this.labelSearchRegexes.end["__constructor"] = new RegExp("constructor", "g");
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_START] = SyntaxHelper.regexps.NUMBER_START;
    this.labelSearchRegexes.end[SyntaxHelper.NUMBER_STOP] = SyntaxHelper.regexps.NUMBER_STOP;


    this.labelSearchFunctions =
    {
        start: {},
        end: {}
    };

    this.multiLineLabels =
    {
        "LONG_QUOTE": true
    };

    this.multiLineLabels[SyntaxHelper.COMMENT_MULTI_LINE] = true;

    this.highlightSchemeSpecificLabels =
    {

    };

    // this.transitionHighlighterLabels[SyntaxHelper.TRANSIT_HIGHLIGHT_BLOCK] = originalHighlighter;

    var addedLabels = {};
    this.labelPrecedence =
    [["COMMENT", "LONG_QUOTE", "QUOTE2", "QUOTE1", SyntaxHelper.COMMENT_MULTI_LINE], "=>", [">", "=", "<"]];

    // Add any un-recorded labels to the precedence list.
    for (var i = 0; i < this.labelPrecedence.length; i++)
    {
        if (typeof this.labelPrecedence[i] !== "object")
        {
            addedLabels[this.labelPrecedence[i]] = true;
        }
        else
        {
            for (var j = 0; j < this.labelPrecedence[i].length; j++)
            {
                addedLabels[this.labelPrecedence[i][j]] = true;
            }
        }
    }

    for (var label in this.labelMap)
    {
        if (!addedLabels[label])
        {
            this.labelPrecedence.push(label);

            addedLabels[label] = true;
        }
    }
}

// Inserted file StorageHelper.js encoding='utf-8'





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-YMmzFjPJlvm/Qhqug7ZE3UZYDXl4sfGs/xmLIlbN/cPFV/AU5/89DOLsHIwlpQFyji5oVuWE049paRcr+RF3cQ==" rel="stylesheet" href="https://github.githubassets.com/assets/frameworks-60c9b31633c996f9bf421aae83b644dd.css" />
  
    <link crossorigin="anonymous" media="all" integrity="sha512-nE04eXFjy2BsjXb0ebP8VWbZyNeZ9IUeYYega6ljSbewyx2t5uTOhbSn5ckJiM6soO/6NbmY6P1wGm+1oKoybg==" rel="stylesheet" href="https://github.githubassets.com/assets/github-9c4d38797163cb606c8d76f479b3fc55.css" />
    
    
    
    


  <meta name="viewport" content="width=device-width">
  
  <title>uwappdev.github.io/StorageHelper.js at 0fa8268c9e6c4a64819aa47d136ed12fafe69437 · UWAppDev/uwappdev.github.io</title>
    <meta name="description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905">

    <meta name="twitter:image:src" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="UWAppDev/uwappdev.github.io" /><meta name="twitter:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/57975771?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="UWAppDev/uwappdev.github.io" /><meta property="og:url" content="https://github.com/UWAppDev/uwappdev.github.io" /><meta property="og:description" content="Official website for Mobile Development Club (UWAppDev) -- - UWAppDev/uwappdev.github.io" />

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/46334387/ws?session=eyJ2IjoiVjMiLCJ1Ijo0NjMzNDM4NywicyI6NTQ4NzY2NDI4LCJjIjozODA1MTExMTQ4LCJ0IjoxNTk1MTQ1OTMyfQ==--3dc5e890df3a333807686ad39392f4a0125c60e7eef507aa0a5a8b1c1146ddf6" data-refresh-url="/_ws">
  <link rel="sudo-modal" href="/sessions/sudo_modal">

  <meta name="request-id" content="99F8:3145:1E85227:2CE2BF1:5F13FEC8" data-pjax-transient="true" /><meta name="html-safe-nonce" content="d41d2c4f445ab4c91927d6286b7ccb84cf4aec70" data-pjax-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9VV0FwcERldi91d2FwcGRldi5naXRodWIuaW8vdHJlZS8wZmE4MjY4YzllNmM0YTY0ODE5YWE0N2QxMzZlZDEyZmFmZTY5NDM3L0xpYnMiLCJyZXF1ZXN0X2lkIjoiOTlGODozMTQ1OjFFODUyMjc6MkNFMkJGMTo1RjEzRkVDOCIsInZpc2l0b3JfaWQiOiI0MjYxMjE3NTkwNjAxOTMzOTI3IiwicmVnaW9uX2VkZ2UiOiJpYWQiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=" data-pjax-transient="true" /><meta name="visitor-hmac" content="0afa7efd47a3a3e8f4cd6c9ce338e586fdeb38672261af643dbd3bf6ff57ea9c" data-pjax-transient="true" />

    <meta name="hovercard-subject-tag" content="repository:224055749" data-pjax-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code" data-pjax-transient="true" />

  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-ga_id" content="" class="js-octo-ga-id" /><meta name="octolytics-actor-id" content="46334387" /><meta name="octolytics-actor-login" content="personalizedrefrigerator" /><meta name="octolytics-actor-hash" content="44341c0453f95b9c20699834ff36ff8380d1ab4d5c670a2e2111abbd658d6532" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />

  




    <meta name="google-analytics" content="UA-3769691-2">

  <meta class="js-ga-set" name="userId" content="e5adcf865a377eef45fe70a7f01fc9c2">

<meta class="js-ga-set" name="dimension10" content="Responsive" data-pjax-transient>

<meta class="js-ga-set" name="dimension1" content="Logged In">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="personalizedrefrigerator">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="YTQ0MzEzMmIyYjhlMDNmOGVhYWU1ODMxODgwZDQ1Y2UzYmYwMThmNzMyYjk0MjNlY2I1ZTFlOTQwYWVjZDQyOXx7InJlbW90ZV9hZGRyZXNzIjoiNTAuNDYuMTIyLjc0IiwicmVxdWVzdF9pZCI6Ijk5Rjg6MzE0NToxRTg1MjI3OjJDRTJCRjE6NUYxM0ZFQzgiLCJ0aW1lc3RhbXAiOjE1OTUxNDU5MzIsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS">

  <meta http-equiv="x-pjax-version" content="3b2903574a46b09375530a98aad2e096">
  

      <link href="https://github.com/UWAppDev/uwappdev.github.io/commits/0fa8268c9e6c4a64819aa47d136ed12fafe69437.atom" rel="alternate" title="Recent Commits to uwappdev.github.io:0fa8268c9e6c4a64819aa47d136ed12fafe69437" type="application/atom+xml">

  <meta name="go-import" content="github.com/UWAppDev/uwappdev.github.io git https://github.com/UWAppDev/uwappdev.github.io.git">

  <meta name="octolytics-dimension-user_id" content="57975771" /><meta name="octolytics-dimension-user_login" content="UWAppDev" /><meta name="octolytics-dimension-repository_id" content="224055749" /><meta name="octolytics-dimension-repository_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="224055749" /><meta name="octolytics-dimension-repository_network_root_nwo" content="UWAppDev/uwappdev.github.io" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob">
    

    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span class="Progress progress-pjax-loader position-fixed width-full js-pjax-loader-bar">
        <span class="progress-pjax-loader-bar top-0 left-0" style="width: 0%;"></span>
      </span>

      
      



          <header class="Header py-lg-0 js-details-container Details flex-wrap flex-lg-nowrap px-3" role="banner">
  <div class="Header-item d-none d-lg-flex">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item d-lg-none">
    <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
      <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path></svg>
    </button>
  </div>

  <div class="Header-item Header-item--full flex-column flex-lg-row width-full flex-order-2 flex-lg-order-none mr-0 mr-lg-3 mt-3 mt-lg-0 Details-content--hidden">
        <div class="header-search header-search-current js-header-search-current  flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to js-header-search-current-jump-to"
  role="combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="false"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="224055749" data-scoped-search-url="/UWAppDev/uwappdev.github.io/search" data-unscoped-search-url="/search" action="/UWAppDev/uwappdev.github.io/search" accept-charset="UTF-8" method="get">
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search or jump to…"
          data-unscoped-placeholder="Search or jump to…"
          data-scoped-placeholder="Search or jump to…"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to…"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" value="BIvHqNcpO3LjJhWg7X2kcTfvMGTB6IE1ciR6rMnMM5F8cqYW87QNUJu66RHfZVNjfLlmjiHMeqgKMkKfNHNNEQ==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://github.githubassets.com/images/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <img src="https://github.githubassets.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
    </li>
</ul>

            </div>
      </label>
</form>  </div>
</div>


    <nav class="d-flex flex-column flex-lg-row flex-self-stretch flex-lg-self-auto" aria-label="Global">
    <a class="Header-link py-lg-3 d-block d-lg-none py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="/dashboard">
      Dashboard
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
    Pull requests
</a>
  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">
    Issues
</a>

    <div class="mr-0 mr-lg-3 py-2 py-lg-0 border-top border-lg-top-0 border-white-fade-15">
      <a class="js-selected-navigation-item Header-link py-lg-3 d-inline-block" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="/marketplace">
        Marketplace
</a>      

    </div>

  <a class="js-selected-navigation-item Header-link py-lg-3  mr-0 mr-lg-3 py-2 border-top border-lg-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
    Explore
</a>


    <a class="Header-link d-block d-lg-none mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15" href="/personalizedrefrigerator">
      <img class="avatar avatar-user" src="https://avatars2.githubusercontent.com/u/46334387?s=40&amp;v=4" width="20" height="20" alt="@personalizedrefrigerator" />
      personalizedrefrigerator
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="k7j13VnBtvF3GXXE2D5bJQBYEWg2dMwEvAKKi47R2ZIU5IzS6R9N+3RNKeEsDN5NujhoQPiAPKMyTlNBulPGZg==" />
      <button type="submit" class="Header-link mr-0 mr-lg-3 py-2 py-lg-3 border-top border-lg-top-0 border-white-fade-15 d-lg-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

  </div>

  <div class="Header-item Header-item--full flex-justify-center d-lg-none position-relative">
    <a class="Header-link" href="https://github.com/" data-hotkey="g d"
  aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

  </div>

  <div class="Header-item mr-0 mr-lg-3 flex-order-1 flex-lg-order-none">
    
    <a aria-label="You have no unread notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw js-socket-channel js-notification-indicator" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:read" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6NDYzMzQzODciLCJ0IjoxNTk1MTQ1OTMyfQ==--927427db8417b7530410b2746c26c2117a16b1e5b3a17aac1e6ebefcdb6ce2e2" href="/notifications">
        <span class="js-indicator-modifier mail-status "></span>
        <svg class="octicon octicon-bell" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path></svg>
</a>
  </div>


  <div class="Header-item position-relative d-none d-lg-flex">
    <details class="details-overlay details-reset">
  <summary class="Header-link"
      aria-label="Create new…"
      data-ga-click="Header, create new, icon:add">
    <svg class="octicon octicon-plus" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2a.75.75 0 01.75.75v4.5h4.5a.75.75 0 010 1.5h-4.5v4.5a.75.75 0 01-1.5 0v-4.5h-4.5a.75.75 0 010-1.5h4.5v-4.5A.75.75 0 018 2z"></path></svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>


  <div role="none" class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="UWAppDev/uwappdev.github.io">This repository</span>
  </div>
    <a role="menuitem" class="dropdown-item" href="/UWAppDev/uwappdev.github.io/issues/new/choose" data-ga-click="Header, create new issue" data-skip-pjax>
      New issue
    </a>


  </details-menu>
</details>

  </div>

  <div class="Header-item position-relative mr-0 d-none d-lg-flex">
    
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/personalizedrefrigerator/feature_preview/indicator_check">

  <summary class="Header-link"
    aria-label="View profile and more"
    data-ga-click="Header, show menu, icon:avatar">
    <img
  alt="@personalizedrefrigerator"
  width="20"
  height="20"
  src="https://avatars1.githubusercontent.com/u/46334387?s=60&amp;v=4"
  class="avatar avatar-user " />

      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 10px;" hidden></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw mt-n2" style="width: 180px" >
    <div class="header-nav-current-user css-truncate"><a role="menuitem" class="no-underline user-profile-link px-3 pt-2 pb-2 mb-n2 mt-n1 d-block" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:Signed in as">Signed in as <strong class="css-truncate-target">personalizedrefrigerator</strong></a></div>
    <div role="none" class="dropdown-divider"></div>

      <div class="pl-3 pr-3 f6 user-status-container js-user-status-context lh-condensed" data-url="/users/status?compact=1&amp;link_mentions=0&amp;truncate=1">
        
<div class="js-user-status-container rounded-1 px-2 py-1 mt-2 border"
  data-team-hovercards-enabled>
  <details class="js-user-status-details details-reset details-overlay details-overlay-dark">
    <summary class="btn-link btn-block link-gray no-underline js-toggle-user-status-edit toggle-user-status-edit "
      role="menuitem" data-hydro-click="{&quot;event_type&quot;:&quot;user_profile.click&quot;,&quot;payload&quot;:{&quot;profile_user_id&quot;:57975771,&quot;target&quot;:&quot;EDIT_USER_STATUS&quot;,&quot;user_id&quot;:46334387,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;}}" data-hydro-click-hmac="c0cb48ac66f26b81f75405b0f82841d433448bc6093e9c58d351fa5fb719dc32">
      <div class="d-flex flex-items-center flex-items-stretch">
        <div class="f6 lh-condensed user-status-header d-flex user-status-emoji-only-header circle">
          <div class="user-status-emoji-container flex-shrink-0 mr-2 d-flex flex-items-center flex-justify-center lh-condensed-ultra v-align-bottom">
            <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
          </div>
        </div>
        <div class="
          
           user-status-message-wrapper f6 min-width-0"
           style="line-height: 20px;" >
          <div class="css-truncate css-truncate-target width-fit text-gray-dark text-left">
              <span class="text-gray">Set status</span>
          </div>
        </div>
      </div>
    </summary>
    <details-dialog class="details-dialog rounded-1 anim-fade-in fast Box Box--overlay" role="dialog" tabindex="-1">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative flex-auto js-user-status-form" action="/users/status?circle=0&amp;compact=1&amp;link_mentions=0&amp;truncate=1" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" /><input type="hidden" name="authenticity_token" value="GmZTJ68IOwstt+uiPSrACthyu+1SDXQ3XdT/BNUj3SA4Px/R4xaz6sy/kn6NSNSOcK3hZ2IQJ29RO40YW4sEWg==" />
        <div class="Box-header bg-gray border-bottom p-3">
          <button class="Box-btn-octicon js-toggle-user-status-edit btn-octicon float-right" type="reset" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title f5 text-bold text-gray-dark">Edit status</h3>
        </div>
        <input type="hidden" name="emoji" class="js-user-status-emoji-field" value="">
        <input type="hidden" name="organization_id" class="js-user-status-org-id-field" value="">
        <div class="px-3 py-2 text-gray-dark">
          <div class="js-characters-remaining-container position-relative mt-2">
            <div class="input-group d-table form-group my-0 js-user-status-form-group">
              <span class="input-group-button d-table-cell v-align-middle" style="width: 1%">
                <button type="button" aria-label="Choose an emoji" class="btn-outline btn js-toggle-user-status-emoji-picker btn-open-emoji-picker p-0">
                  <span class="js-user-status-original-emoji" hidden></span>
                  <span class="js-user-status-custom-emoji"></span>
                  <span class="js-user-status-no-emoji-icon" >
                    <svg class="octicon octicon-smiley" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path></svg>
                  </span>
                </button>
              </span>
              <text-expander keys=": @" data-mention-url="/autocomplete/user-suggestions" data-emoji-url="/autocomplete/emoji">
                <input
                  type="text"
                  autocomplete="off"
                  data-no-org-url="/autocomplete/user-suggestions"
                  data-org-url="/suggestions?mention_suggester=1"
                  data-maxlength="80"
                  class="d-table-cell width-full form-control js-user-status-message-field js-characters-remaining-field"
                  placeholder="What's happening?"
                  name="message"
                  value=""
                  aria-label="What is your current status?">
              </text-expander>
              <div class="error">Could not update your status, please try again.</div>
            </div>
            <div style="margin-left: 53px" class="my-1 text-small label-characters-remaining js-characters-remaining" data-suffix="remaining" hidden>
              80 remaining
            </div>
          </div>
          <include-fragment class="js-user-status-emoji-picker" data-url="/users/status/emoji"></include-fragment>
          <div class="overflow-auto ml-n3 mr-n3 px-3 border-bottom" style="max-height: 33vh">
            <div class="user-status-suggestions js-user-status-suggestions collapsed overflow-hidden">
              <h4 class="f6 text-normal my-3">Suggestions:</h4>
              <div class="mx-3 mt-2 clearfix">
                  <div class="float-left col-6">
                      <button type="button" value=":palm_tree:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="palm_tree" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f334.png">🌴</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          On vacation
                        </div>
                      </button>
                      <button type="button" value=":face_with_thermometer:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="face_with_thermometer" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f912.png">🤒</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Out sick
                        </div>
                      </button>
                  </div>
                  <div class="float-left col-6">
                      <button type="button" value=":house:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3e0.png">🏠</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Working from home
                        </div>
                      </button>
                      <button type="button" value=":dart:" class="d-flex flex-items-baseline flex-items-stretch lh-condensed f6 btn-link link-gray no-underline js-predefined-user-status mb-1">
                        <div class="emoji-status-width mr-2 v-align-middle js-predefined-user-status-emoji">
                          <g-emoji alias="dart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png">🎯</g-emoji>
                        </div>
                        <div class="d-flex flex-items-center no-underline js-predefined-user-status-message ws-normal text-left" style="border-left: 1px solid transparent">
                          Focusing
                        </div>
                      </button>
                  </div>
              </div>
            </div>
            <div class="user-status-limited-availability-container">
              <div class="form-checkbox my-0">
                <input type="checkbox" name="limited_availability" value="1" class="js-user-status-limited-availability-checkbox" data-default-message="I may be slow to respond." aria-describedby="limited-availability-help-text-truncate-true-compact-true" id="limited-availability-truncate-true-compact-true">
                <label class="d-block f5 text-gray-dark mb-1" for="limited-availability-truncate-true-compact-true">
                  Busy
                </label>
                <p class="note" id="limited-availability-help-text-truncate-true-compact-true">
                  When others mention you, assign you, or request your review,
                  GitHub will let them know that you have limited availability.
                </p>
              </div>
            </div>
          </div>
          <div class="d-inline-block f5 mr-2 pt-3 pb-2" >
  <div class="d-inline-block mr-1">
    Clear status
  </div>

  <details class="js-user-status-expire-drop-down f6 dropdown details-reset details-overlay d-inline-block mr-2">
    <summary class="f5 btn-link link-gray-dark border px-2 py-1 rounded-1" aria-haspopup="true">
      <div class="js-user-status-expiration-interval-selected d-inline-block v-align-baseline">
        Never
      </div>
      <div class="dropdown-caret"></div>
    </summary>

    <ul class="dropdown-menu dropdown-menu-se pl-0 overflow-auto" style="width: 220px; max-height: 15.5em">
      <li>
        <button type="button" class="btn-link dropdown-item js-user-status-expire-button ws-normal" title="Never">
          <span class="d-inline-block text-bold mb-1">Never</span>
          <div class="f6 lh-condensed">Keep this status until you clear your status or edit your status.</div>
        </button>
      </li>
      <li class="dropdown-divider" role="none"></li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 30 minutes" value="2020-07-19T01:35:32-07:00">
            in 30 minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 1 hour" value="2020-07-19T02:05:32-07:00">
            in 1 hour
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="in 4 hours" value="2020-07-19T05:05:32-07:00">
            in 4 hours
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="today" value="2020-07-19T23:59:59-07:00">
            today
          </button>
        </li>
        <li>
          <button type="button" class="btn-link dropdown-item ws-normal js-user-status-expire-button" title="this week" value="2020-07-19T23:59:59-07:00">
            this week
          </button>
        </li>
    </ul>
  </details>
  <input class="js-user-status-expiration-date-input" type="hidden" name="expires_at" value="">
</div>

          <include-fragment class="js-user-status-org-picker" data-url="/users/status/organizations"></include-fragment>
        </div>
        <div class="d-flex flex-items-center flex-justify-between p-3 border-top">
          <button type="submit" disabled class="width-full btn btn-primary mr-2 js-user-status-submit">
            Set status
          </button>
          <button type="button" disabled class="width-full js-clear-user-status-button btn ml-2 ">
            Clear status
          </button>
        </div>
</form>    </details-dialog>
  </details>
</div>

      </div>
      <div role="none" class="dropdown-divider"></div>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator" data-ga-click="Header, go to profile, text:your profile" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_PROFILE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="a81a6d73f1519d6c9161d56ca018d29061c29b92dc34e3e7f542e0c5609d8d1b" >Your profile</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=repositories" data-ga-click="Header, go to repositories, text:your repositories" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_REPOSITORIES&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="4b4b1990524652af3f78f50b73181669ea79b5de84490eec429275b59520c8ba" >Your repositories</a>

      <a role="menuitem"
         class="dropdown-item"
         href="/settings/organizations"
         
         data-ga-click="Header, go to organizations, text:your organizations"
         data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_ORGANIZATIONS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="cc2954680f7bacce618222a64b84346cb60752560b60efbdb8ea6aae2d8df6d8"
         >Your organizations</a>

    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=projects" data-ga-click="Header, go to projects, text:your projects" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_PROJECTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="375decb42ca605140c1a24813c8aca24917a1b8bc70e13814358544f0958655a" >Your projects</a>


    <a role="menuitem" class="dropdown-item" href="/personalizedrefrigerator?tab=stars" data-ga-click="Header, go to starred repos, text:your stars" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_STARS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="ca66c7b085d7feb308389a870229bdaecc5f9f6df4e8c97d578f1b6a558f8b26" >Your stars</a>
      <a role="menuitem" class="dropdown-item" href="https://gist.github.com/mine" data-ga-click="Header, your gists, text:your gists" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;YOUR_GISTS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="63fe7fd409a99dc421022ebf15295408b1924bb53d821e0c4e930fe7c14f676d" >Your gists</a>





    <div role="none" class="dropdown-divider"></div>
      <a role="menuitem" class="dropdown-item" href="/settings/billing" data-ga-click="Header, go to billing, text:upgrade" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;UPGRADE&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="3428ebcf31628e30297726283a22bc34301a8e02e3583869ffd83847dd2b4257" >Upgrade</a>
      
<div id="feature-enrollment-toggle" class="hide-sm hide-md feature-preview-details position-relative">
  <button
    type="button"
    class="dropdown-item btn-link"
    role="menuitem"
    data-feature-preview-trigger-url="/users/personalizedrefrigerator/feature_previews"
    data-feature-preview-close-details="{&quot;event_type&quot;:&quot;feature_preview.clicks.close_modal&quot;,&quot;payload&quot;:{&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}"
    data-feature-preview-close-hmac="9a7203c9119694a5632c3bdb4226055a7d99c0a169445f25152c66bc09472439"
    data-hydro-click="{&quot;event_type&quot;:&quot;feature_preview.clicks.open_modal&quot;,&quot;payload&quot;:{&quot;link_location&quot;:&quot;user_dropdown&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}"
    data-hydro-click-hmac="fe774cdf7534f80513e4132ee7a7710c5143f08906e8ddcf94e75688a52f383d"
  >
    Feature preview
  </button>
    <span class="feature-preview-indicator js-feature-preview-indicator" hidden></span>
</div>

    <a role="menuitem" class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;HELP&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="7bc90c056e3cf3e23cf7dcda9a745e7082e4d5dce95a7f6b608910949e70c961" >Help</a>
    <a role="menuitem" class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;SETTINGS&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="7c80d0f59e44d539ed46c376f2554dc11f82b9d2ebc18d272b05b7e84aad52fa" >Settings</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="logout-form" action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="UQTKMil+yk/mRnBkS4txi3aWOpgnbGwSAX6S13W9JojWWLM9maAxReUSLEG/ufTjzPZDsOmYnLWPMksdQT85fA==" />
      
      <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout" data-hydro-click="{&quot;event_type&quot;:&quot;global_header.user_menu_dropdown.click&quot;,&quot;payload&quot;:{&quot;request_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;target&quot;:&quot;SIGN_OUT&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="5e7d823337f594ebf4171ce39577d78b64aaede25052c7a7ce968e58080c14d4"  role="menuitem">
        Sign out
      </button>
      <input type="text" name="required_field_2176" hidden="hidden" class="form-control" /><input type="hidden" name="timestamp" value="1595145932075" class="form-control" /><input type="hidden" name="timestamp_secret" value="ce11f553363853a4d1265a70644097099147da1363388908c188945fb9fb83c1" class="form-control" />
</form>  </details-menu>
</details>

  </div>

</header>

          

    </div>

  <div id="start-of-content" class="show-on-focus"></div>




    <div id="js-flash-container">


  <template class="js-flash-template">
    <div class="flash flash-full  js-flash-template-container">
  <div class=" px-2" >
    <button class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    
      <div class="js-flash-template-message"></div>

  </div>
</div>
  </template>
</div>


  

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>



  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main  >
      

  


  










  <div class="bg-gray-light pt-3 hide-full-screen mb-5">

    <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

      <div class="flex-auto min-width-0 width-fit mr-3">
        <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo text-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
  <span class="author ml-2 flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/UWAppDev/hovercard" href="/UWAppDev">UWAppDev</a>
  </span>
  <span class="mx-1 flex-self-stretch">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" href="/UWAppDev/uwappdev.github.io">uwappdev.github.io</a>
  </strong>
  
</h1>


      </div>

      <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
        <form data-remote="true" class="d-flex js-social-form js-social-container" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="h+s0JxhgM2aKzGJNUb0LXgBIkG6ZMHjj4JkPTx+ZRjpTuQ2VMSx42cm5H3+O3fQHd3hih2giJ2oqT4g0Vyxc0A==" />      <input type="hidden" name="repository_id" value="224055749">

      <details class="details-reset details-overlay select-menu hx_rsm">
        <summary class="btn btn-sm btn-with-count" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="548189dc3d0155877c71d0025de562f591d896a090671615e8a6bde2240d16a8" data-ga-click="Repository, click Watch settings, action:blob#show">          <span data-menu-button>
              <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

              Unwatch
          </span>
          <span class="dropdown-caret"></span>
</summary>        <details-menu
          class="select-menu-modal position-absolute mt-5"
          style="z-index: 99;">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
          </div>
          <div class="select-menu-list">
            <button type="submit" name="do" value="included" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Not watching</span>
                <span class="description">Be notified only when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Watch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="release_only" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Releases only</span>
                <span class="description">Be notified of new releases, and when participating or @mentioned.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch releases
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="subscribed" class="select-menu-item width-full" aria-checked="true" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Watching</span>
                <span class="description">Be notified of all conversations.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path></svg>

                  Unwatch
                </span>
              </div>
            </button>

            <button type="submit" name="do" value="ignore" class="select-menu-item width-full" aria-checked="false" role="menuitemradio">
              <svg height="16" class="octicon octicon-check select-menu-item-icon" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>

              <div class="select-menu-item-text">
                <span class="select-menu-item-heading">Ignoring</span>
                <span class="description">Never be notified.</span>
                <span class="hidden-select-button-text" data-menu-button-contents>
                  <svg height="16" class="octicon octicon-mute" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.75a.75.75 0 00-1.238-.57L3.472 5H1.75A1.75 1.75 0 000 6.75v2.5C0 10.216.784 11 1.75 11h1.723l3.289 2.82A.75.75 0 008 13.25V2.75zM4.238 6.32L6.5 4.38v7.24L4.238 9.68a.75.75 0 00-.488-.18h-2a.25.25 0 01-.25-.25v-2.5a.25.25 0 01.25-.25h2a.75.75 0 00.488-.18zm7.042-1.1a.75.75 0 10-1.06 1.06L11.94 8l-1.72 1.72a.75.75 0 101.06 1.06L13 9.06l1.72 1.72a.75.75 0 101.06-1.06L14.06 8l1.72-1.72a.75.75 0 00-1.06-1.06L13 6.94l-1.72-1.72z"></path></svg>

                  Stop ignoring
                </span>
              </div>
            </button>
          </div>
        </details-menu>
      </details>
        <a class="social-count js-social-count"
          href="/UWAppDev/uwappdev.github.io/watchers"
          aria-label="2 users are watching this repository">
          2
        </a>
</form>
  </li>

  <li>
      <div class="js-toggler-container js-social-container starring-container ">
    <form class="starred js-social-form" action="/UWAppDev/uwappdev.github.io/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="cYAHU9ZGKDcGpEHsLKeTmr7rwyqRLSV00I1SoMrRc3ZvjZg5mn2COw7oVbHnjbIxPkef0bc0IdfA7GhFxypZjQ==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="91f0e03ed8677f4fb3f86bbff671a52d7a48d6ada280a9502d09d91837649f12" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">        <svg height="16" class="octicon octicon-star-fill" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path></svg>

        Unstar
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
           0
        </a>
</form>
    <form class="unstarred js-social-form" action="/UWAppDev/uwappdev.github.io/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="+pnXW9q6sDN1WMqSt2pKuLgI1UiDf0NIgWjFiERIYcz/ANY5AbO0ZdpNaMae2JAcxxooPoeYAa53hmlBy06StQ==" />
      <input type="hidden" name="context" value="repository"></input>
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star UWAppDev/uwappdev.github.io" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="61907335a966230fdb7460fa68def39fc59aa3110691b804bb938d13c06bf649" data-ga-click="Repository, click star button, action:blob#show; text:Star">        <svg height="16" class="octicon octicon-star" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg>

        Star
</button>        <a class="social-count js-social-count" href="/UWAppDev/uwappdev.github.io/stargazers"
           aria-label="0 users starred this repository">
          0
        </a>
</form>  </div>

  </li>

  <li>
          <div class="float-left">
            <details class="details-reset details-overlay details-overlay-dark " >
                    <summary
                  class="btn btn-sm btn-with-count"
                  title="Fork your own copy of UWAppDev/uwappdev.github.io to your account"
                  data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="2cc0f867b5f7bc4c8fe093b4e41aa33e29f3d5255940b6de84f043d4c13dd9fc" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork">
                  <svg class="octicon octicon-repo-forked" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg>
                  Fork
                </summary>

  <details-dialog
    class="Box d-flex flex-column anim-fade-in fast Box--overlay"
      aria-label="Fork uwappdev.github.io"
      src="/UWAppDev/uwappdev.github.io/fork?fragment=1"
      preload
    >
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
        <svg height="16" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>

      </button>
      <h1 class="Box-title">Fork uwappdev.github.io</h1>
    </div>
      
              <div class="text-center overflow-auto">
                <include-fragment>
                  <div class="octocat-spinner my-5" aria-label="Loading..."></div>
                  <p class="f5 text-gray">If this dialog fails to load, you can visit <a href="/UWAppDev/uwappdev.github.io/fork">the fork page</a> directly.</p>
                </include-fragment>
              </div>

  </details-dialog>
</details>
          </div>

    <a href="/UWAppDev/uwappdev.github.io/network/members" class="social-count"
       aria-label="0 users forked this repository">
      0
    </a>
  </li>
</ul>

    </div>
    
<nav class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 bg-gray-light" aria-label="Repository" data-pjax="#js-repo-pjax-container">
  <ul class="UnderlineNav-body list-style-none ">
          <li class="d-flex">
        <a class="js-selected-navigation-item selected UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="code-tab" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
              <svg height="16" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>

            <span data-content="Code">Code</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="issues-tab" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" data-selected-links="repo_issues repo_labels repo_milestones /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
              <svg height="16" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>

            <span data-content="Issues">Issues</span>
              <span class="Counter " title="2">2</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="pull-requests-tab" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-selected-links="repo_pulls checks /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
              <svg height="16" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>

            <span data-content="Pull requests">Pull requests</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="actions-tab" data-hotkey="g w" data-ga-click="Repository, Navigation click, Actions tab" data-selected-links="repo_actions /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
              <svg height="16" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>

            <span data-content="Actions">Actions</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="projects-tab" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-selected-links="repo_projects new_repo_project repo_project /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
              <svg height="16" class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>

            <span data-content="Projects">Projects</span>
              <span class="Counter " title="0" hidden="hidden">0</span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="security-tab" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-selected-links="security overview alerts policy token_scanning code_scanning /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
              <svg height="16" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>

            <span data-content="Security">Security</span>
              <span class="js-security-tab-count Counter " data-url="/UWAppDev/uwappdev.github.io/security/overall-count" title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="insights-tab" data-ga-click="Repository, Navigation click, Insights tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
              <svg height="16" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>

            <span data-content="Insights">Insights</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>
      <li class="d-flex">
        <a class="js-selected-navigation-item UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item" data-tab-item="settings-tab" data-ga-click="Repository, Navigation click, Settings tab" data-selected-links="repo_settings repo_branch_settings hooks integration_installations repo_keys_settings issue_template_editor secrets_settings key_links_settings repo_actions_settings notifications /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
              <svg height="16" class="octicon octicon-gear UnderlineNav-octicon d-none d-sm-inline" classes="UnderlineNav-octicon" display="none inline" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.429 1.525a6.593 6.593 0 011.142 0c.036.003.108.036.137.146l.289 1.105c.147.56.55.967.997 1.189.174.086.341.183.501.29.417.278.97.423 1.53.27l1.102-.303c.11-.03.175.016.195.046.219.31.41.641.573.989.014.031.022.11-.059.19l-.815.806c-.411.406-.562.957-.53 1.456a4.588 4.588 0 010 .582c-.032.499.119 1.05.53 1.456l.815.806c.08.08.073.159.059.19a6.494 6.494 0 01-.573.99c-.02.029-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.851.628-.998 1.189l-.289 1.105c-.029.11-.101.143-.137.146a6.613 6.613 0 01-1.142 0c-.036-.003-.108-.037-.137-.146l-.289-1.105c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.501-.29c-.417-.278-.97-.423-1.53-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.031-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.559.153 1.112.008 1.529-.27.16-.107.327-.204.5-.29.449-.222.851-.628.998-1.189l.289-1.105c.029-.11.101-.143.137-.146zM8 0c-.236 0-.47.01-.701.03-.743.065-1.29.615-1.458 1.261l-.29 1.106c-.017.066-.078.158-.211.224a5.994 5.994 0 00-.668.386c-.123.082-.233.09-.3.071L3.27 2.776c-.644-.177-1.392.02-1.82.63a7.977 7.977 0 00-.704 1.217c-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.469-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.609 1.176.806 1.82.63l1.103-.303c.066-.019.176-.011.299.071.213.143.436.272.668.386.133.066.194.158.212.224l.289 1.106c.169.646.715 1.196 1.458 1.26a8.094 8.094 0 001.402 0c.743-.064 1.29-.614 1.458-1.26l.29-1.106c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.071l1.102.302c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.891l-.814-.806c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.039-.246.088-.294l.814-.806c.475-.469.679-1.216.364-1.891a7.992 7.992 0 00-.704-1.218c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.019-.176.011-.299-.071a5.991 5.991 0 00-.668-.386c-.133-.066-.194-.158-.212-.224L10.16 1.29C9.99.645 9.444.095 8.701.031A8.094 8.094 0 008 0zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM11 8a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>

            <span data-content="Settings">Settings</span>
              <span class="Counter " title="Not available"></span>
</a>      </li>

</ul>        <div class="position-absolute right-0 pr-3 pr-md-4 pr-lg-5 js-responsive-underlinenav-overflow" style="visibility:hidden;">
      <details class="details-overlay details-reset position-relative">
  <summary role="button">
              <div class="UnderlineNav-item mr-0 border-0">
            <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
            <span class="sr-only">More</span>
          </div>

</summary>            <details-menu class="dropdown-menu dropdown-menu-sw " role="menu">
  
            <ul>
                <li data-menu-item="code-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io" href="/UWAppDev/uwappdev.github.io">
                    Code
</a>                </li>
                <li data-menu-item="issues-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/issues" href="/UWAppDev/uwappdev.github.io/issues">
                    Issues
</a>                </li>
                <li data-menu-item="pull-requests-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulls" href="/UWAppDev/uwappdev.github.io/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="actions-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/actions" href="/UWAppDev/uwappdev.github.io/actions">
                    Actions
</a>                </li>
                <li data-menu-item="projects-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/projects" href="/UWAppDev/uwappdev.github.io/projects">
                    Projects
</a>                </li>
                <li data-menu-item="security-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/security" href="/UWAppDev/uwappdev.github.io/security">
                    Security
</a>                </li>
                <li data-menu-item="insights-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/pulse" href="/UWAppDev/uwappdev.github.io/pulse">
                    Insights
</a>                </li>
                <li data-menu-item="settings-tab" hidden>
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /UWAppDev/uwappdev.github.io/settings" href="/UWAppDev/uwappdev.github.io/settings">
                    Settings
</a>                </li>
            </ul>

</details-menu>
</details>    </div>

</nav>
  </div>

<div class="container-xl clearfix new-discussion-timeline  px-3 px-md-4 px-lg-5">
  <div class="repository-content " >

    
    

  


    <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js">Permalink</a>

    <!-- blob contrib key: blob_contributors:v22:3a22c473de6967c3f40e7f97e0a7e6bb -->
    

    <div class="d-flex flex-items-center flex-shrink-0 pb-3 flex-wrap flex-justify-between flex-md-justify-start">
      
<details class="details-reset details-overlay mr-0 mb-0 " id="branch-select-menu">
  <summary class="btn css-truncate"
           data-hotkey="w"
           title="Switch branches or tags">
    <svg height="16" class="octicon octicon-git-branch text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path></svg>

    <span class="css-truncate-target" data-menu-button>0fa8268c9e</span>
    <span class="dropdown-caret"></span>
  </summary>

  <details-menu class="SelectMenu SelectMenu--hasFilter" src="/UWAppDev/uwappdev.github.io/refs/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js?source_action=show&amp;source_controller=blob" preload>
    <div class="SelectMenu-modal">
      <include-fragment class="SelectMenu-loading" aria-label="Menu is loading">
        <svg class="octicon octicon-octoface anim-pulse" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>
      </include-fragment>
    </div>
  </details-menu>
</details>

      <h2 id="blob-path" class="breadcrumb flex-auto min-width-0 text-normal mx-0 mx-md-3 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
        <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437"><span>uwappdev.github.io</span></a></span></span><span class="separator">/</span><span class="js-path-segment d-inline-block wb-break-all"><a data-pjax="true" rel="nofollow" href="/UWAppDev/uwappdev.github.io/tree/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs"><span>Libs</span></a></span><span class="separator">/</span><strong class="final-path">StorageHelper.js</strong>
          <span class="separator">/</span><details class="details-reset details-overlay d-inline" id="jumpto-symbol-select-menu">
  <summary class="btn-link link-gray css-truncate" aria-haspopup="true" data-hotkey="r" data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_blob_definitions&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_blob_definitions&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="39cfc1ccd13bc582d1c9a02fc0f57ee8a50f5a663848ae789330bb8c4aed8410">
      <svg class="octicon octicon-code" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
    <span data-menu-button>Jump to</span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="SelectMenu SelectMenu--hasFilter" role="menu">
    <div class="SelectMenu-modal">
      <header class="SelectMenu-header">
        <span class="SelectMenu-title">Code definitions</span>
        <button class="SelectMenu-closeButton" type="button" data-toggle-for="jumpto-symbol-select-menu">
          <svg aria-label="Close menu" class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" role="img"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
        </button>
      </header>
      <div class="SelectMenu-list">
          <div class="SelectMenu-blankslate">
            <p class="mb-0 text-gray">
              No definitions found in this file.
            </p>
          </div>
        <div data-filterable-for="jumpto-symbols-filter-field" data-filterable-type="substring">
        </div>
      </div>
      <footer class="SelectMenu-footer">
        <div class="d-flex flex-justify-between">
          Code navigation not available for this commit
          <svg class="octicon octicon-dot-fill text-light-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z"></path></svg>
        </div>
      </footer>
    </div>
  </details-menu>
</details>

      </h2>
      <a href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437"
            class="js-pjax-capture-input btn mr-2 d-none d-md-block"
            data-pjax
            data-hotkey="t">
        Go to file
      </a>

      <details class="flex-self-end details-overlay details-reset position-relative" id="blob-more-options-details">
  <summary role="button">
              <span class="btn">
            <svg height="16" class="octicon octicon-kebab-horizontal" aria-label="More options" viewBox="0 0 16 16" version="1.1" width="16" role="img"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>

          </span>

</summary>            <ul class="dropdown-menu dropdown-menu-sw">
            <li class="d-block d-md-none">
              <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:224055749,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}" data-hydro-click-hmac="17c5db43e9fa20af48188dddda2f415d37e4000237dc31cd69917d2c4ea3e3d5" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" data-pjax="true" href="/UWAppDev/uwappdev.github.io/find/0fa8268c9e6c4a64819aa47d136ed12fafe69437">
                <span class="flex-auto">Go to file</span>
                <span class="text-small text-gray" aria-hidden="true">T</span>
</a>            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-line-details-dialog" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to line</span>
                  <span class="text-small text-gray" aria-hidden="true">L</span>
                </span>
              </button>
            </li>
            <li data-toggle-for="blob-more-options-details">
              <button type="button" data-toggle-for="jumpto-symbol-select-menu" class="btn-link dropdown-item">
                <span class="d-flex flex-items-baseline">
                  <span class="flex-auto">Go to definition</span>
                  <span class="text-small text-gray" aria-hidden="true">R</span>
                </span>
              </button>
            </li>
            <li class="dropdown-divider" role="none"></li>
            <li>
              <clipboard-copy value="Libs/StorageHelper.js" class="dropdown-item cursor-pointer" data-toggle-for="blob-more-options-details">
                Copy path
              </clipboard-copy>
            </li>
          </ul>

</details>    </div>



    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
      
  <div class="Box-header Box-header--blue Details js-details-container">
      <div class="d-flex flex-items-center">
        <span class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1">
          <a rel="contributor" data-skip-pjax="true" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator"><img class="avatar avatar-user" src="https://avatars3.githubusercontent.com/u/46334387?s=48&amp;v=4" width="24" height="24" alt="@personalizedrefrigerator" /></a>
        </span>
        <div class="flex-1 d-flex flex-items-center ml-3 min-width-0">
          <div class="css-truncate css-truncate-overflow">
            <a class="text-bold link-gray-dark" rel="contributor" data-hovercard-type="user" data-hovercard-url="/users/personalizedrefrigerator/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/personalizedrefrigerator">personalizedrefrigerator</a>

              <span>
                <a data-pjax="true" title="Bug fixes." class="link-gray" href="/UWAppDev/uwappdev.github.io/commit/140fdb73ff44a62e8f6c62ea024deddc9f20b354">Bug fixes.</a>
              </span>
          </div>


          <span class="ml-2">
            <include-fragment accept="text/fragment+html" src="/UWAppDev/uwappdev.github.io/commit/140fdb73ff44a62e8f6c62ea024deddc9f20b354/rollup?direction=e" class="d-inline"></include-fragment>
          </span>
        </div>
        <div class="ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end text-gray no-wrap">
          <span class="d-none d-md-inline">
            <span>Latest commit</span>
            <a class="text-small text-mono link-gray" href="/UWAppDev/uwappdev.github.io/commit/140fdb73ff44a62e8f6c62ea024deddc9f20b354" data-pjax>140fdb7</a>
            <span itemprop="dateModified"><relative-time datetime="2020-01-24T05:11:49Z" class="no-wrap">Jan 23, 2020</relative-time></span>
          </span>

          <a data-pjax href="/UWAppDev/uwappdev.github.io/commits/140fdb73ff44a62e8f6c62ea024deddc9f20b354/Libs/StorageHelper.js" class="ml-3 no-wrap link-gray-dark no-underline">
            <svg height="16" class="octicon octicon-history text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"></path></svg>

            <span class="d-none d-sm-inline">
              <strong>History</strong>
            </span>
          </a>
        </div>
      </div>

  </div>

  <div class="Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap" >
    <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark float-left mr-3" id="blob_contributors_box">
      <summary class="link-gray-dark">
        <svg height="16" class="octicon octicon-people text-gray" text="gray" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg>

        <strong>1</strong>
        
        contributor
      </summary>
      <details-dialog
        class="Box Box--overlay d-flex flex-column anim-fade-in fast"
        aria-label="Users who have contributed to this file"
        src="/UWAppDev/uwappdev.github.io/contributors-list/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js" preload>
        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
            <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
          </button>
          <h3 class="Box-title">
            Users who have contributed to this file
          </h3>
        </div>
        <include-fragment class="octocat-spinner my-3" aria-label="Loading..."></include-fragment>
      </details-dialog>
    </details>
  </div>
    </div>






    <div class="Box mt-3 position-relative
      ">
      
<div class="Box-header py-2 d-flex flex-column flex-shrink-0 flex-md-row flex-md-items-center">
  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">

      190 lines (154 sloc)
      <span class="file-info-divider"></span>
    5.3 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/UWAppDev/uwappdev.github.io/raw/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js">Blame</a>
    </div>

    <div>
          <button class="btn-octicon disabled tooltipped tooltipped-nw js-remove-unless-platform"
             data-platforms="windows,mac" type="button"  disabled
             aria-label="You must be on a branch to open this file in GitHub Desktop">
              <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 2.5h12.5a.25.25 0 01.25.25v7.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25v-7.5a.25.25 0 01.25-.25zM14.25 1H1.75A1.75 1.75 0 000 2.75v7.5C0 11.216.784 12 1.75 12h3.727c-.1 1.041-.52 1.872-1.292 2.757A.75.75 0 004.75 16h6.5a.75.75 0 00.565-1.243c-.772-.885-1.193-1.716-1.292-2.757h3.727A1.75 1.75 0 0016 10.25v-7.5A1.75 1.75 0 0014.25 1zM9.018 12H6.982a5.72 5.72 0 01-.765 2.5h3.566a5.72 5.72 0 01-.765-2.5z"></path></svg>
          </button>

          <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-pencil" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>
          </button>
          <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
            aria-label="You must be on a branch to make or propose changes to this file">
            <svg class="octicon octicon-trashcan" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path></svg>
          </button>
    </div>
  </div>
</div>



      

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip>
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-s>&quot;use strict&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  A simple storage manager, permitting storage and automatic deletion of</span></td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * data. It is intended to use window.localStorage.</span></td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-k>const</span> <span class=pl-v>StorageHelper</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>DEFAULT_STORE_DURATION</span> <span class=pl-c1>=</span> <span class=pl-c1>12</span><span class=pl-kos>;</span> <span class=pl-c>// Default to this number of days until expiration.</span></td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>STORAGE_PREFIX</span>         <span class=pl-c1>=</span> <span class=pl-s>&quot;_S&quot;</span><span class=pl-kos>;</span> <span class=pl-c>// A string with which to prefix all items belonging to</span></td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-c>//storageHelper.</span></td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  Store data with a given expiration time in milliseconds since 1970. This time</span></td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * defaults to DEFAULT_STORE_DURATION days. The</span></td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * given data should be serializable.</span></td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>put</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>,</span> <span class=pl-s1>data</span><span class=pl-kos>,</span> <span class=pl-s1>expiration</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>expiration</span> <span class=pl-c1>=</span> <span class=pl-s1>expiration</span> <span class=pl-c1>||</span> <span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>+</span> <span class=pl-c1>1000</span> * <span class=pl-c1>60</span> * <span class=pl-c1>60</span> * <span class=pl-c1>24</span></td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line">                                           * <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>DEFAULT_STORE_DURATION</span><span class=pl-kos>)</span><span class=pl-kos>;</span> <span class=pl-c>// Default</span></td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line">                                                                                    <span class=pl-c>// storage </span></td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line">                                                                                    <span class=pl-c>//duration.</span></td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>nowTime</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>// Only proceed if the data won&#39;t immediately expire.</span></td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>expiration</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>nowTime</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>let</span> <span class=pl-s1>saveData</span> <span class=pl-c1>=</span> <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>STORAGE_PREFIX</span> <span class=pl-c1>+</span> <span class=pl-s1>nowTime</span> <span class=pl-c1>+</span> <span class=pl-s>&quot;/&quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>expiration</span> <span class=pl-c1>+</span> <span class=pl-s>&quot;?&quot;</span> <span class=pl-c1>+</span> <span class=pl-v>SerializationHelper</span><span class=pl-kos>.</span><span class=pl-en>stringSerialize</span><span class=pl-kos>(</span><span class=pl-s1>data</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line">    <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>warn</span><span class=pl-kos>(</span><span class=pl-s1>saveData</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>.</span><span class=pl-en>setItem</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>,</span> <span class=pl-s1>saveData</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>error</span><span class=pl-kos>(</span><span class=pl-s>&quot;LOCAL STORAGE IS INACCESSABLE&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line"><span class=pl-c> *  Get data from the store. Returns undefined if no such data exists.</span></td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>get</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>itemDetails</span> <span class=pl-c1>=</span> <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>getItemDetails</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>try</span></td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Eval is evil, but we know WE set the localStorage cookies.</span></td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span> <span class=pl-v>SerializationHelper</span><span class=pl-kos>.</span><span class=pl-en>evalParseFromString</span><span class=pl-kos>(</span><span class=pl-s1>itemDetails</span><span class=pl-kos>.</span><span class=pl-c1>content</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>catch</span><span class=pl-kos>(</span><span class=pl-s1>e</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Malformed?</span></td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>warn</span><span class=pl-kos>(</span><span class=pl-s1>key</span> <span class=pl-c1>+</span> <span class=pl-s>&quot; has malformed data. Error: &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>e</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>warn</span><span class=pl-kos>(</span><span class=pl-s>&quot;Content of &quot;</span> <span class=pl-c1>+</span> <span class=pl-s1>key</span> <span class=pl-c1>+</span> <span class=pl-s>&quot; has been stored in&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>warn</span><span class=pl-kos>(</span><span class=pl-s>&quot;window.debugStr for debugging purposes.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>warn</span><span class=pl-kos>(</span><span class=pl-s>&quot;The invalid entry will now be deleted.&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line">            <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>debugStr</span> <span class=pl-c1>=</span> <span class=pl-s1>itemDetails</span><span class=pl-kos>.</span><span class=pl-c1>content</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line">            <span class=pl-c>// Delete it.</span></td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line">            <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>delete</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span> null<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> undefined<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * Delete an item in the store.</span></td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>delete</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span></td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>&amp;&amp;</span> <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>has</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line">        <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>.</span><span class=pl-en>removeItem</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>true</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line"><span class=pl-c>/**</span></td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line"><span class=pl-c> * Get whether an object is stored!</span></td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line"><span class=pl-c> */</span></td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>has</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>.</span><span class=pl-en>getItem</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span> !== null<span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>false</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Get the details of an item in the format:</span></td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// { created: time in ms, expires: time in ms, </span></td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line"><span class=pl-c>//   content: text, malformed: boolean }.</span></td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>getItemDetails</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>itemKey</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>fullData</span> <span class=pl-c1>=</span> <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>.</span><span class=pl-en>getItem</span><span class=pl-kos>(</span><span class=pl-s1>itemKey</span><span class=pl-kos>)</span> <span class=pl-c1>||</span> <span class=pl-s>&quot;&quot;</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line">                </td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>recordTimeEndIndex</span> <span class=pl-c1>=</span> <span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>indexOf</span><span class=pl-kos>(</span><span class=pl-s>&quot;/&quot;</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>expireTimeEndIndex</span> <span class=pl-c1>=</span> <span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>indexOf</span><span class=pl-kos>(</span><span class=pl-s>&quot;?&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-kos>(</span>!<span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>startsWith</span><span class=pl-kos>(</span><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>STORAGE_PREFIX</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>||</span> <span class=pl-s1>recordTimeEndIndex</span> <span class=pl-c1>==</span> <span class=pl-c1>-</span><span class=pl-c1>1</span> <span class=pl-c1>||</span> <span class=pl-s1>expireTimeEndIndex</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>recordTimeEndIndex</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span> <span class=pl-kos>{</span> <span class=pl-c1>malformed</span>: <span class=pl-c1>true</span> <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>createTime</span> <span class=pl-c1>=</span> <span class=pl-v>MathHelper</span><span class=pl-kos>.</span><span class=pl-en>forceParseInt</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line">                            <span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>substring</span><span class=pl-kos>(</span><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>STORAGE_PREFIX</span><span class=pl-kos>.</span><span class=pl-c1>length</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>recordTimeEndIndex</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>expireTime</span> <span class=pl-c1>=</span> <span class=pl-v>MathHelper</span><span class=pl-kos>.</span><span class=pl-en>forceParseInt</span><span class=pl-kos>(</span></td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line">                            <span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>substring</span><span class=pl-kos>(</span><span class=pl-s1>recordTimeEndIndex</span> <span class=pl-c1>+</span> <span class=pl-c1>1</span><span class=pl-kos>,</span> <span class=pl-s1>expireTimeEndIndex</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>content</span>    <span class=pl-c1>=</span>  <span class=pl-s1>fullData</span><span class=pl-kos>.</span><span class=pl-en>substring</span><span class=pl-kos>(</span><span class=pl-s1>expireTimeEndIndex</span> <span class=pl-c1>+</span> <span class=pl-c1>1</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line">       </td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line">       </td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>result</span> <span class=pl-c1>=</span> </td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>created</span>: <span class=pl-s1>createTime</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>expires</span>: <span class=pl-s1>expireTime</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>content</span>: <span class=pl-s1>content</span><span class=pl-kos>,</span></td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>malformed</span>: <span class=pl-c1>false</span></td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>result</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span></td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-s1>result</span> <span class=pl-c1>=</span> <span class=pl-kos>{</span><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>result</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// Remove all expired items belonging to the storage helper.</span></td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line"><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>removeExpired</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>const</span> <span class=pl-s1>nowTime</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>const</span> <span class=pl-en>getExpTime</span> <span class=pl-c1>=</span> <span class=pl-kos>(</span><span class=pl-s1>itemKey</span><span class=pl-kos>)</span> <span class=pl-c1>=&gt;</span></td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>const</span> <span class=pl-s1>expTime</span> <span class=pl-c1>=</span> <span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-en>getItemDetails</span><span class=pl-kos>(</span><span class=pl-s1>itemKey</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-c1>expires</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line">                                </td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>expTime</span> !== <span class=pl-v>NaN</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>expTime</span> !== undefined<span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line">                <span class=pl-smi>console</span><span class=pl-kos>.</span><span class=pl-en>log</span><span class=pl-kos>(</span><span class=pl-s1>itemKey</span> <span class=pl-c1>+</span> <span class=pl-s>&quot; expires in &quot;</span> <span class=pl-c1>+</span> <span class=pl-v>Math</span><span class=pl-kos>.</span><span class=pl-en>floor</span><span class=pl-kos>(</span><span class=pl-kos>(</span><span class=pl-s1>expTime</span> <span class=pl-c1>-</span> <span class=pl-kos>(</span><span class=pl-k>new</span> <span class=pl-v>Date</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>getTime</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>)</span> / <span class=pl-c1>60</span> / <span class=pl-c1>60</span> / <span class=pl-c1>24</span> / <span class=pl-c1>1000</span><span class=pl-kos>)</span> </td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line">                        <span class=pl-c1>+</span> <span class=pl-s>&quot; day(s).&quot;</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line">                    </td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>return</span> <span class=pl-s1>expTime</span><span class=pl-kos>;</span>                                      </td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>let</span> <span class=pl-s1>expTime</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-kos>(</span><span class=pl-k>let</span> <span class=pl-s1>key</span> <span class=pl-k>in</span> <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>expTime</span> <span class=pl-c1>=</span> <span class=pl-en>getExpTime</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-kos>(</span><span class=pl-s1>expTime</span> !== undefined <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>expTime</span> !== <span class=pl-v>NaN</span> <span class=pl-c1>&amp;&amp;</span> <span class=pl-s1>expTime</span> <span class=pl-c1>&lt;</span> <span class=pl-s1>nowTime</span><span class=pl-kos>)</span></td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>{</span></td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line">                <span class=pl-smi>window</span><span class=pl-kos>.</span><span class=pl-c1>localStorage</span><span class=pl-kos>.</span><span class=pl-en>removeItem</span><span class=pl-kos>(</span><span class=pl-s1>key</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">            <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line">        <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">    <span class=pl-kos>}</span></td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line"><span class=pl-kos>}</span><span class=pl-kos>;</span></td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line"><span class=pl-c>// On page load, remove expired elements.</span></td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line"><span class=pl-en>requestAnimationFrame</span><span class=pl-kos>(</span><span class=pl-v>StorageHelper</span><span class=pl-kos>.</span><span class=pl-c1>removeExpired</span><span class=pl-kos>)</span><span class=pl-kos>;</span></td>
      </tr>
</table>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1" aria-label="Inline file action toolbar">
      <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path></svg>
    </summary>
    <details-menu>
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2" style="width:185px">
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;">
            Copy lines
          </clipboard-copy>
        </li>
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;">
            Copy permalink
          </clipboard-copy>
        </li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/UWAppDev/uwappdev.github.io/blame/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/UWAppDev/uwappdev.github.io/issues/new">Reference in new issue</a></li>
      </ul>
    </details-menu>
  </details>

  </div>

    </div>

  


  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>

    <div class="Popover anim-scale-in js-tagsearch-popover"
     hidden
     data-tagsearch-url="/UWAppDev/uwappdev.github.io/find-definition"
     data-tagsearch-ref="0fa8268c9e6c4a64819aa47d136ed12fafe69437"
     data-tagsearch-path="Libs/StorageHelper.js"
     data-tagsearch-lang="JavaScript"
     data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_symbol&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_symbol&quot;,&quot;repository_id&quot;:224055749,&quot;ref&quot;:&quot;0fa8268c9e6c4a64819aa47d136ed12fafe69437&quot;,&quot;language&quot;:&quot;JavaScript&quot;,&quot;originating_url&quot;:&quot;https://github.com/UWAppDev/uwappdev.github.io/blob/0fa8268c9e6c4a64819aa47d136ed12fafe69437/Libs/StorageHelper.js&quot;,&quot;user_id&quot;:46334387}}"
     data-hydro-click-hmac="89f83c2236af367bf04bb9bc2c234604a80092f0757726e1e284475e0f1e5db8">
  <div class="Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box box-shadow-large">
    <div class="TagsearchPopover-content js-tagsearch-popover-content overflow-auto" style="will-change:transform;">
    </div>
  </div>
</div>




  </div>
</div>

    </main>
  </div>
  

  </div>

        
<div class="footer container-xl width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">&copy; 2020 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>

    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    <script crossorigin="anonymous" async="async" integrity="sha512-bn/3rKJzBl2H64K38R8KaVcT26vKK7BJQC59lwYc+9fjlHzmy0fwh+hzBtsgTdhIi13dxjzNKWhdSN8WTM9qUw==" type="application/javascript" id="js-conditional-compat" data-src="https://github.githubassets.com/assets/compat-bootstrap-6e7ff7ac.js"></script>
    <script crossorigin="anonymous" integrity="sha512-66iSSZrIoQctMJb6USLgAUBxXV82p3JQTUWGIwN/klsywNeBXy59fW5kqtQPbKTQJYtAdHbsiAJzOoY7zgj/Uw==" type="application/javascript" src="https://github.githubassets.com/assets/environment-bootstrap-eba89249.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-DOd7qGW6QV+ebX8GXvsADOaVYxoAPfrr1hnvYJ7EZwX3OxWqPdFvyLdjbV3zwA4eW3H3EmjggGjStE5UE285vA==" type="application/javascript" src="https://github.githubassets.com/assets/vendor-0ce77ba8.js"></script>
    <script crossorigin="anonymous" async="async" integrity="sha512-co+zOTSpzxx6JoM35lmjAiwoxIHgfLg05wD7HYFQeDAahWFam5U/aYNFG4PEy1aJvL6IcJDcp3qcglZJXcG/hg==" type="application/javascript" src="https://github.githubassets.com/assets/frameworks-728fb339.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-+lymvNF/kkbWyNxJVHK+0ianQbVggsfZ3inLiuzugkLG9qX/qXLs/vaGgvClMudhnKA1tJkXWJgnGhN+LH+fyw==" type="application/javascript" src="https://github.githubassets.com/assets/github-bootstrap-fa5ca6bc.js"></script>
    
      <script crossorigin="anonymous" async="async" integrity="sha512-R96MM8s0Y6IohqxZNKDeymadVcVg1KjV6E71KYykaisTYDPGpONjop8kGyNY5DSOJEsFp3737xpcjEo1a333WQ==" type="application/javascript" data-module-id="./Sortable.js" data-src="https://github.githubassets.com/assets/Sortable-47de8c33.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-4GcSWGoe36+BoWho4gtJcByZe8j43w+lt2/PDe3rmBxRVSgD29YipDwuIywe8fvOd2b2CszBqaPGxSznUtE3Xg==" type="application/javascript" data-module-id="./drag-drop.js" data-src="https://github.githubassets.com/assets/drag-drop-e0671258.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-2k8dDHk0yt52uKvOvgc9cwOXOeJhxBfVP5kPS2BrCdytDmtEIJ2yone26vFENAyk1a2aFQ7KDgEevRQafuAf8A==" type="application/javascript" data-module-id="./gist-vendor.js" data-src="https://github.githubassets.com/assets/gist-vendor-da4f1d0c.js"></script>
      <script crossorigin="anonymous" async="async" integrity="sha512-Bc7fK3x3D97t//yKXJFTcKAZWc+DoBkyOGeSrGKN6K1s+A5rkUmH7M+HuvXOQEd+5pBqcB/LKYTbItFp7J4mjg==" type="application/javascript" data-module-id="./randomColor.js" data-src="https://github.githubassets.com/assets/randomColor-05cedf2b.js"></script>
    
    
  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>


  </body>
</html>


// Inserted file Point.js encoding='utf-8'
"use strict";

// A simple Point class.
function Point(x, y, z)
{
    this.x = x;
    this.y = y;
    this.z = z || 0;
    
    this.NUM_COMPONENTS = 3;
    
    this.transformBy = function(matrix)
    {
        var arrayToTransform = [this.x, this.y, this.z];
        
        if (matrix.getWidth() === matrix.getHeight() && matrix.getWidth() === 4)
        {
            arrayToTransform.push(1);
        }
        
        MatHelper.transformPoint(arrayToTransform, matrix);
        
        this.x = arrayToTransform[0];
        this.y = arrayToTransform[1];
        this.z = arrayToTransform[2];
    };
    
    // Returns a copy of this object. Subclasses
    //should override this.
    this.copy = function()
    {
        var result = new Point(this.x, this.y, this.z);
        
        return result;
    };
    
    // Returns a rounded copy of the point, rounded to 
    //the specified number of decimal places.
    this.asRounded = function(decimalPlaces)
    {
        var result = this.copy();
        
        var multiplier = Math.pow(10, decimalPlaces);
        
        result.x = Math.floor(this.x * multiplier) / multiplier;
        result.y = Math.floor(this.y * multiplier) / multiplier;
        result.z = Math.floor(this.z * multiplier) / multiplier;
        
        return result;
    };

    this.toArray = function()
    {
        return [this.x, this.y, this.z];
    };
    
    this.fromArray = function(array)
    {
        let arrayCopy = [];
        
        // Ensure the array has sufficient size...
        for (let i = 0; i < this.NUM_COMPONENTS; i++)
        {
            arrayCopy.push(array[i] || 0);
        }
        
        this.x = arrayCopy[0];
        this.y = arrayCopy[1];
        this.z = arrayCopy[2];
    };
    
    this.toString = function()
    {
        return "(" + this.x + ", " + this.y + ", " + this.z + ")";
    };
}


// Inserted file JSHelper.js encoding='utf-8'
"use strict";

var JSHelper = {};

// Get a random array that represents a color.
//Arguments after round are interpreted as the minimum
//and maximum values of each component. Round stores
//whether to round.
// TODO Add a method to get a random color string.
JSHelper.getRandomColorArray = function(round)
{
    var result = [];
    var impliedMin, impliedMax;
    
    var generateComponent = function(min, max)
    {
        var component = Math.random() * (max - min) + min;
        
        if (round)
        {
            Math.floor(component);
        }
        
        return component;
    };
    
    // For all arguments following the first,
    for (var i = 1; i < arguments.length - 1; i += 2)
    {
        result.push(generateComponent(arguments[i], arguments[i + 1]));
    }
    
    if (round)
    {
        impliedMin = 0;
        impliedMax = 256;
    }
    else
    {
        impliedMin = 0.0;
        impliedMax = 1.0;
    }
    
    while (result.length < 3)
    {
        result.push(generateComponent(impliedMin, impliedMax));
    }
    
    return result;
};

// Get an array of random colors.
JSHelper.getArrayOfRandomColors = (count, round, numComponents, ...componentRanges) =>
{
    let result = [], currentColor, colorComponentIndex;

    console.log(componentRanges);

    numComponents = numComponents || 4;

    for (let index = 0; index < count; index++)
    {
        currentColor = JSHelper.getRandomColorArray.apply(this, [round].concat(componentRanges));
        
        
        for (colorComponentIndex = 0; colorComponentIndex < currentColor.length && colorComponentIndex < numComponents; colorComponentIndex++)
        {
            result.push(currentColor[colorComponentIndex]);
        }
    }

    return result;
};

// TODO Transition to vec4s.
JSHelper.colorMap =
{
    "red": [255, 0, 0],
    "green": [0, 255, 0],
    "blue": [0, 0, 255],
    "black": [0, 0, 0],
    "white": [255, 255, 255],
    "purple": [200, 0, 255],
    "magenta": [255, 0, 255],
    "yellow": [255, 255, 0],
    "gray": [100, 100, 100],
    "pink": [255, 200, 100],
    "brown": [140, 120, 150],
    "orange": [200, 150, 100]
};

// Converts an HTML-based color into a vec4.
//Each component ranges from zero to one.
JSHelper.colorToVector = (htmlColor) =>
{
    let result = new Vector3(0, 0, 0);
    
    // Check is it in hex?
    if (htmlColor.indexOf("#") == 0 && htmlColor.length === 7)
    {
        // Parse the hex.
        result.x = MathHelper.forceParseInt(htmlColor.substring(1, 3), 16);
        result.y = MathHelper.forceParseInt(htmlColor.substring(3, 5), 16);
        result.z = MathHelper.forceParseInt(htmlColor.substr(5), 16);
    }
    else if (htmlColor.indexOf("rgba") == 0 && htmlColor.indexOf("(") > 0)
    {
        // Parse rgba.
        htmlColor = htmlColor.substring(htmlColor.indexOf("(") + 1, htmlColor.length - 1);
        
        // Remove all spaces.
        htmlColor = htmlColor.replace(/\s/g, "");
        
        let parts = htmlColor.split(",");
        
        // RGBA must have red, green, blue, and alpha.
        if (parts.length < 3)
        {
            return result;
        }
        
        // Store the parts.
        result.x = MathHelper.forceParseInt(parts[0]);
        result.y = MathHelper.forceParseInt(parts[1]);
        result.z = MathHelper.forceParseInt(parts[2]);
        result.w = MathHelper.forceParseFloat(parts[3]);
    }
    else if (htmlColor in JSHelper.colorMap)
    {
        result.fromArray(JSHelper.colorMap[htmlColor]);
    }
    
    // Return
    return result;
};

// Converts a three-component input vector
//into an HTML-formatted string. By default,
//it is assumed that this vector's three
//components range from zero to one. If not,
//set componentMax to 255 or another, similar
//value. Alpha is an optional value from
//zero to one, representing the alpha channel
//desired in the resultant color.
JSHelper.vec3ToRGBString = (inputVector, 
                            componentMax,
                            alpha) =>
{
    // Transform from [0, 1]
    //to [0, 256).
    let transformedCopy = inputVector.mulScalar
                                (1 / (componentMax || 1) * 255);
    
    // Values in rgba(...) format should be bytes,
    //not floats.
    transformedCopy.x = Math.floor(transformedCopy.x);
    transformedCopy.y = Math.floor(transformedCopy.y);
    transformedCopy.z = Math.floor(transformedCopy.z);
    
    // Why break `result = ...` into two lines?
    //Hopefully, it makes it less breakable.
    let result = "rgba(" + transformedCopy.x
                 + ", " + transformedCopy.y + ", " + 
                 transformedCopy.z + ", " + (alpha || 1.0) + ")";
                 
    return result;
};

// Wait delay seconds...
JSHelper.waitFor = (delay) =>
{
    let doResolve = false;
    let resolveFn = () => { doResolve = true; };

    setTimeout(delay / 1000, () => resolveFn());

    return new Promise((resolve, reject) =>
    {
        if (doResolve)
        {
            resolve();
        }
        else
        {
            resolveFn = resolve;
        }
    });
};

// Create a JavaScript environment where code can be pushed as desired...
JSHelper.Environs = {}; // All environments.
JSHelper.Environs.__map = {};

/**
 * Create a new JavaScript execution environment. Return it, rather than store it
 * in the JSHelper object.
 *
 * Although this is more difficult to disturb/inject code into than JSHelper.Environs.request,
 * IT CAN STILL EASILY BE DONE. This is JavaScript and JSHelper is a public dictionary. Malicious
 * clients have the ability to overwrite this, and other, functions.
 * 
 * Note that push returns a string version of the code's output, including console logs, errors, etc.
 */
JSHelper.Environs.makeNew = () =>
{
    const env_updateNotifier = new JSHelper.UniqueNotifier(); // An internal notification handler...
    const env_exitEvent = "EVENT_EXIT";
    const env_pushedEvent = "EVENT_PUSHED";
    const env_returnedEvent = "EVENT_RETURNED";
    
    let env_running = false;
    let env_result;
    
    env_result = 
    {
        "__start": async () => // Start accepting code...
        {
            env_running = true;
            
            let env_toRun;
            
            const env_myEnv = new (function() { return this; })(); // Get SOME this...
            const env_console_log = self.console.log;
            const env_console_warn = self.console.warn;
            const env_console_error = self.console.error;
            const env_console = self.console;
            let env_evalResult = "";
            let env_consoleResult = "";
            var console;
            
            while (env_running)
            {
                env_toRun = await env_updateNotifier.waitFor(env_pushedEvent, env_exitEvent); // Wait for either event...
                
                if (env_toRun)
                {
                    env_evalResult = "";
                    env_consoleResult = "";
                    
                    // Re-map console.log...
                    console = 
                    {
                        log: (...output) =>
                        {
                            for (const elem of output)
                            {
                                env_consoleResult += "" + elem;

                                if (typeof (elem) === "object") // More detailed object logging.
                                {
                                    env_consoleResult += "\n";

                                    for (const key in elem)
                                    {
                                        env_consoleResult += "  " + key + ": ";

                                        if (typeof (elem[key]) === "function")
                                        {
                                            env_consoleResult += "[FUNCTION]";
                                        }
                                        else
                                        {
                                            env_consoleResult += elem[key];
                                        }
                                        
                                        env_consoleResult += "\n";
                                    }
                                }
                            }

                            env_consoleResult += "\n";
                            
                            env_console_log.apply(self, output);
                        },
                        warn: (...output) =>
                        {
                            console.log("[!] ", output);
                        },
                        error: (...output) =>
                        {
                            console.log("[X] ", output);
                        }
                    };
                    
                    try
                    {
                        env_evalResult += eval(env_toRun);
                    }
                    catch(e)
                    {
                        env_evalResult += "\nError: " + e;
                    }
                    
                    env_updateNotifier.notify(env_returnedEvent, env_consoleResult + "" + env_evalResult);
                }
            }
            
            env_updateNotifier.notify(env_exitEvent); // Note that we exited...
        },
        "push": async (code) => // Push code to the environment...
        {
            if (!env_running)
            {
                env_result.__start(); // Do not await... Would cause something similar to deadlock.
            }
        
            env_updateNotifier.notify(env_pushedEvent, code);
            
            // Wait for the reply...
            return await env_updateNotifier.waitFor(env_returnedEvent);
        },
        "stop": async () => // Push code to the environment...
        {
            env_updateNotifier.notify(env_exitEvent);
            env_running = false;
            
            // Wait for the reply...
            await env_updateNotifier.waitFor(env_exitEvent);
        }
    };
    
    return env_result;
}

/**
 * Request or create an environment of name [environName]. If
 * no such environment exists, one is created.
 * 
 * If one desires a unique, only-returned (rather than stored in 
 * a "private" (can be accessed) location), please use JSHelper.Environs.makeNew.
 *
 * Note that anEnviron.push(someStringCode)
 * returns a string version of the code's output, including console logs, errors, etc.
 */
JSHelper.Environs.request = (environName) => // Get an environment with the given name.
{                                                     // if no such environment exists, a new environment
                                                      // is created.
    if (!JSHelper.Environs.__map[environName])
    {
        JSHelper.Environs.__map[environName] = JSHelper.Environs.makeNew();
    }
    
    return JSHelper.Environs.__map[environName];
};

// Add browser-compatable pointer events to an element.
JSHelper.Events = {};

JSHelper.Events.getSupportsPointerEvents = function()
{
    if (JSHelper.Events.supportsPointerEvents !== undefined)
    {
        return JSHelper.Events.supportsPointerEvents;
    }
    
    let testElement = document.createElement("div");
    
    // This should be null if the client's browser supports
    //pointer events.
    JSHelper.Events.supportsPointerEvents = testElement.onpointerdown === null;
    
    return JSHelper.Events.supportsPointerEvents;
};

// Mouse and touch events work much better in Safari (or seem to).
JSHelper.Events.useLegacyEvents = true;

// Whether events should be paused.
JSHelper.Events.paused = false;

// Pause/play pointer events.
JSHelper.Events.setPaused = function(paused)
{
    JSHelper.Events.paused = paused;
};

// Note: The event name should not include "pointer" or "touch" or "mouse."
//It should be up, down, move, or stop.
JSHelper.Events.registerPointerEvent = function(eventName, target, onEvent, allowBubbling)
{
    allowBubbling = allowBubbling === undefined ? true : allowBubbling; // Whether to continue event propagation.
    
    // The stop event occurrs whenever a chain
    //of events stops. Stop can override out/up/leave/etc.
    if (eventName === "stop")
    {
        JSHelper.Events.registerPointerEvent("up", target, onEvent, allowBubbling);
        JSHelper.Events.registerPointerEvent("leave", target, onEvent, allowBubbling);
        
        return;
    }
    
    let processGeneralEvent = (event, parentEvent) =>
    {
        let result =
        {
            rawEvent: event,
            clientX: event.clientX,
            clientY: event.clientY,
            button: event.button,
            target: event.target,
            preventDefault: () =>
            {
                (parentEvent || event).preventDefault();
            }
        };
            
        return result;
    };
    
    // Check: Does the client support pointer events?
    if (JSHelper.Events.getSupportsPointerEvents() 
            && !JSHelper.Events.useLegacyEvents)
    {
        target.addEventListener("pointer" + eventName, (event) =>
        {
            let result = processGeneralEvent(event);
            
            result.pointerId = event.pointerId;
            result.width = event.width;
            result.height = event.height;
            result.pressure = event.pressure;
            result.isPrimary = event.isPrimary;
            
            // Stop if we've been paused.
            if (JSHelper.Events.paused)
            {
                return;
            }
            
            onEvent.call(result, result);
            
            return true;
        }, allowBubbling); // Prevent propagation.
    }
    else // If not...
    {
        // Add mouse and touch events.
        target.addEventListener("mouse" + eventName, (event) =>
        {
            let result = processGeneralEvent(event);
            
            result.pointerId = 1;
            result.width = 1;
            result.height = 1;
            result.pressure = 0.5;
            result.isPrimary = true;
            
            // If we're paused, stop.
            if (JSHelper.Events.paused)
            {
                return;
            }
            
            onEvent.call(target, result);
            
            return true;
        }, allowBubbling);
        
        // Change the event name for touch.
        let newEventName = eventName;
        
        if (newEventName === "down")
        {
            newEventName = "start";
        }
        else if (newEventName === "up")
        {
            newEventName = "end";
        }
        
        target.addEventListener("touch" + newEventName, (event) =>
        {
            if (JSHelper.Events.paused)
            {
                return;
            }
            
            let result, touch;
            
            let handleTouch = (touch) =>
            {
                result = processGeneralEvent(touch, event);
                
                result.pointerId = touch.identifier;
                result.width = touch.radiusX * 2;
                result.height = touch.radiusY * 2;
                result.pressure = touch.force;
                result.isPrimary = (i === 0);
                
                onEvent.call(target, result);
            };
            
            for (var i = 0; i < event.changedTouches.length; i++)
            {
                handleTouch(event.changedTouches[i]);
            }
            
            return true;
        }, allowBubbling);
        
        // Allow event firing.
        target.style.touchAction = "none";
    }
};


// A set of global events to be deployed through
//the notifier. JSHelper does not fire these events.
//The main application code should handle this.
// DO NOT WAIT ON THESE EVENTS UNLESS MAIN APPLICATION
// CODE IS SET TO FIRE THEM.
JSHelper.GlobalEvents = 
{
    PAGE_SETUP_COMPLETE: "global_e_page_setup_complete"
};

// An implementation of the observer pattern.
// For global communication, use JSHelper.Notifier.
// For internal communication, construct JSHelper.UniqueNotifier
// using "new".
JSHelper.UniqueNotifier = 
(function()
{
    let listeners = {};
    let listenerIdCounter = 0; // The id for the next listener.
    let dispatchedEvents = {}; // Data concerning previously dispatched events.
    
    // Wait for eventName to be distributed by notify.
    //A message is included with the distributed event.
    //If fireForFirst is true, if the event has ever been
    //triggered, the listener is fired. Listens for ANY
    //of the given events to occur (an array, or, for a
    //single event, a string). If multiple listeners
    //are given, the result is an object with data and
    //event fields (unlesss returnResult). 
    // Data is the value pushed by the event
    //and event is the event's string ID. If returnResult is true,
    //return the result, rather than an object with additional
    //information.
    this.waitFor = (eventNames, fireForFirst, returnResult) =>
    {
        // For compatibility with older versions of JSHelper...
        // If given a list of strings, return waitForAny.
        if (fireForFirst !== undefined && typeof fireForFirst !== "boolean")
        {
            return this.waitFor(arguments, false, true);
        }

        // If not an array...
        if (typeof eventNames !== "object" || eventNames.length == 0)
        {
            // Make it one!
            eventNames = [eventNames];
        }
        
        let resolved = false,
            resolver = undefined;
        let eventData = undefined;
        let resolve = (data, eventName) => 
        { 
            resolved = true; 
            eventData = data;
            resolver = eventName; // Note who resolved it.
        };
        
        // Create the result.
        let result = new Promise((doResolve, doReject) =>
        {
            // Full data to be given to 
            //the result when the event is ambiguous.
            let resolveFullData = 
            {
                data: eventData,
                event: resolver
            };
        
            // Only give the full data when there is more
            //than one listener specified.
            if (resolved && (returnResult || eventNames.length == 1))
            {
                doResolve(eventData);
            }
            else if (resolved)
            {
                doResolve(resolveFullData);
            }
            else if (eventNames.length == 1)
            {
                resolve = (data, resolver) =>
                {
                    resolved = true;
                    
                    if (returnResult)
                    {
                        doResolve.call(this, data);
                    }
                    else
                    {
                        doResolve.apply(this, [data, resolver]);
                    }
                };
            }
            else
            {
                resolve = (data, resolver) =>
                {
                    resolved = true;
                    
                    resolveFullData.data = data;
                    resolveFullData.event = resolver;
                    
                    if (returnResult)
                    {
                        doResolve(data);
                    }
                    else
                    {
                        doResolve(resolveFullData);
                    }
                };
            }
        });
    
        // Registers a single requested event.
        const registerEvent = (eventName) =>
        {
            // Has the event already fired?
            if (fireForFirst && dispatchedEvents[eventName] && dispatchedEvents[eventName].count > 0)
            {
                if (!resolved)
                {
                    resolve.call(this, dispatchedEvents[eventName].data, eventName);
                }
                
                return;
            }
            
            // Create a set of listeners for the event.
            if (listeners[eventName] === undefined)
            {
                listeners[eventName] = {};
            }
            
            let registered = false, registeredContent;
            let listenerId = "l" + (listenerIdCounter++); // Each listener has an ID. This is ours.
            
            // Listen!
            listeners[eventName][listenerId] = (content) =>
            {
                if (!resolved)
                {
                    resolve.call(this, content, eventName);
                }
                
                // Remove our listener.
                delete listeners[eventName][listenerId];
            };
            
        };
        
        // Register all events.
        for (let i = 0; i < eventNames.length; i++)
        {
            registerEvent(eventNames[i]);
        }
        
        // Return a promise!
        return result;
    };
    
    // Wait for any of the given events to occur.
    this.waitForAny = (...events) =>
    {
        return this.waitFor.call(this, events);
    };
    
    // Notify all listeners on eventName.
    this.notify = (eventName, content) =>
    {
        if (listeners[eventName]) // Are there listeners for eventName?
        {
            for (let listenerId in listeners[eventName])
            {
                // Notify all that are not undefined.
                if (listeners[eventName][listenerId])
                {
                    listeners[eventName][listenerId](content);
                }
            }
        }
        
        if (!dispatchedEvents[eventName])
        {
            dispatchedEvents[eventName] = { count: 0, data: undefined };
        }
        
        dispatchedEvents[eventName].count++;
        dispatchedEvents[eventName].data = content;
    };
});

JSHelper.Notifier = new JSHelper.UniqueNotifier(); // Publicly-accessible, singleton 
                                                   // instance of the notifier.

// A method that throws.
JSHelper.NotImplemented = (signature, message) => 
{
    signature = signature || "";
    message = message || "";

    return () => 
    {
        throw "Not implemented: " + signature + " " + message;
    };
};

// Count the number of characters in charset in the given text.
JSHelper.getCharCount = (text, charset) =>
{
    let charCount = 0;
    
    for (let i = 0; i < text.length; i++)
    {
        if (charset.indexOf(text.charAt(i)) !== -1)
        {
            charCount++;
        }
    }
    
    return charCount;
};

// Unite two maps. Key/value pairs in
// the first map take precedence.
JSHelper.mapUnite = (map1, map2) =>
{
    let result = {};

    for (let key in map2)
    {
        result[key] = map2[key];
    }

    for (let key in map1)
    {
        result[key] = map1[key];
    }

    return result;
};

// Get the next animation frame in a promise.
JSHelper.nextAnimationFrame = () =>
{
    // A promise should push to the next frame,
    //but in case the browser doesn't render between
    //promises as it does for animation frames, pass it to an
    //animation frame.
    let result = new Promise((resolve, reject) =>
    {
        requestAnimationFrame(() => { resolve(true); });
    });
    
    return result;
};

// Wait for waitTime milliseconds. Returns a promise.
JSHelper.waitFor = (waitTime) =>
{
    let result = new Promise((resolve, reject) =>
    {
        setTimeout(() => { resolve(true); }, waitTime);
    });
    
    return result;
};

// Override some default behavior! Much of this is for
//accessibility! Note: JSHelper_replacedMethods contains
//refrences to browser-based functions. SerializationHelper
//can't serialize these, so put them in a different object.
const JSHelper_replacedMethods = {};
JSHelper_replacedMethods.addEventListener = HTMLElement.prototype.addEventListener;

// Define a new event, push, that awaits both clicks and
//the press of the enter key.
HTMLElement.prototype.addEventListener = 
function (eventType, onEnact, ...allOthers)
{
    if (eventType === "click")
    {
        eventType = "keyup";
        JSHelper_replacedMethods.addEventListener.apply(this, [eventType, 
        function(event)
        {
            if (event.keyCode === 13) // Enter key.
            {
                // Make it look somewhat like a mouse event.
                event.button = 0;
                
                onEnact.apply(this, arguments);
            }
        }].concat(allOthers));
        
        // Now, on click!
        eventType = "click";
    }
    
    return JSHelper_replacedMethods.addEventListener.apply(this, arguments);
};
// Inserted file ArrayHelper.js encoding='utf-8'
"use strict";

var ArrayHelper = {};

// Whether array a and array b are equivalent.
ArrayHelper.equals = function(a, b)
{
    if (a.length !== b.length)
    {
        return false;
    }
    
    for (var i = 0; i < a.length; i++)
    {
        if (a[i] !== b[i])
        {
            return false;
        }
    }
    
    return true;
};

ArrayHelper.softCopy = function(array)
{
    var result = [];
    
    for (var i = 0; i < array.length; i++)
    {
        result.push(array[i]);
    }
    
    return result;
};



// Inserted file Keyboard.js encoding='utf-8'
"use strict";

function Key(name, x, y, w, h, command)
{
    const MIN_SIZE = 30; // No widths smaller than this.

    this.command = command || function () {};
    this.x = x;
    this.y = y;
    this.w = Math.max(w, MIN_SIZE);
    this.h = h;
    this.name = name;

    var lastClickPoint = undefined;

    var me = this;

    this.checkCollision = function(point)
    {
        return (point.x > me.x && point.x < me.x + me.w && point.y > me.y && point.y < me.y + me.h);
    };

    this.handleClick = function(point)
    {
        lastClickPoint = point;

        if (me.checkCollision(point))
        {
            me.command();
        }
    };

    this.getWidth = function()
    {
        return me.w;
    };

    this.getContentWidth = function(ctx)
    {
        var width = ctx.measureText(me.name).width;

        width = Math.max(MIN_SIZE, width);

        return width;
    };

    this.updateWidthWithPadding = function(ctx, allocatedPadding)
    {
        var width = me.getContentWidth(ctx) + allocatedPadding;
        me.w = width;

        return width;
    };

    this.setX = function(newX)
    {
        me.x = newX;
    };

    this.setY = function(newX)
    {
        me.y = newX;
    };

    this.render = function(ctx)
    {
        ctx.beginPath();
        ctx.save();
        if (lastClickPoint && me.checkCollision(lastClickPoint))
        {
            ctx.fillStyle = "#0055ee";
            ctx.shadowColor = "rgba(0, 0, 0, 0.9)";
            ctx.shadowBlur = 3;
            ctx.shadowOffsetX = -2;
            ctx.shadowOffsetY = -2;
        }
        else
        {
            ctx.fillStyle = "black";
        }

        ctx.strokeStyle = "white";
        ctx.rect(me.x, me.y, me.w, me.h);

        ctx.fill();
        ctx.stroke();

        ctx.textBaseline = "middle";
        ctx.textAlign = "center";

        ctx.fillStyle = "white";
        ctx.fillText(me.name, me.x + me.w / 2, me.y + me.h / 2);
        ctx.restore();
    };
}

var LEFT_ARROW = "◀️";
var RIGHT_ARROW = "▶️";

function Keyboard(ctx, keyPressed)
{
    const DEFAULT_KEY_WIDTH = 30;

    var me = this;
    this.onkeypress = keyPressed;
    this.ctx = ctx;
    var emojiStart = "◀️".charAt(0);
    this.keyChars = ["1▪2▪3▪4▪5▪6▪7▪8▪9▪0▪-▪+", "q▪w▪e▪r▪t▪y▪u▪i▪o▪p▪,▪⏪", "🔠▪a▪s▪d▪f▪g▪h▪j▪k▪l▪⬆️", "◀️▪z▪x▪c▪v▪b▪n▪m▪.▪;▪▶️", "🔼▪<▪=▪_SPACE_▪{▪}▪>▪/▪🔽",
    "\'▪\"▪;▪:▪_▪[▪]▪&&▪||▪(▪)▪⏬",
"💾▪📂▪✂️▪📜▪📋▪📌▪ℹ▪⚜▪🚘▪⏬"];
    this.shiftKeyChars = ["!▪@▪#▪$▪%▪^▪~▪\`▪*▪_▪(▪)", "q▪w▪e▪r▪t▪y▪u▪i▪o▪p▪:▪⏪", "🔡▪a▪s▪d▪f▪g▪h▪j▪k▪l▪⬆️", "◀️▪z▪x▪c▪v▪b▪n▪m▪?▪\\▪▶️", "🔼▪\"▪'▪_SPACE_▪[▪]▪&▪|▪🔽",
    "//▪/*▪*/▪=>▪}▪[▪]▪~▪*▪(▪)▪⏬",
"🗂️▪⚙️▪✂️▪📜▪📋▪⚗️▪➖▪➕▪🔎▪⏬"];

    for (var i = 0; i < this.shiftKeyChars.length; i++)
    {
        this.shiftKeyChars[i] = this.shiftKeyChars[i].toUpperCase();
    }

    this.x = 0;
    this.y = 0;
    this.maxX = 0;
    this.maxY = 0;
    this.keys = [];
    this.shiftKeys = [];

    var font = "11pt sans-serif, serif";

    me.ctx.font = font;

    var keyH = this.ctx.measureText("W....").width;

    this.shiftPressed = false;
    this.capsLock = false;

    this.toggleCaps = function()
    {
        me.capsLock = !me.capsLock;
        me.shiftPressed = me.capsLock;
    };

    this.loadKeys = function(keyChars, keys)
    {
        var x = me.x;
        var y = me.y;

        var addKey = function(name)
        {
            var key = new Key(name, x, y, DEFAULT_KEY_WIDTH, keyH, function()
            {
                if (name == "⬆️")
                {
                    me.toggleCaps();
                }
                else if (name === "🔠")
                {
                    me.shiftPressed = true;
                }
                else if (name === "🔡")
                {
                    me.shiftPressed = false;
                }
                else
                {
                    me.onkeypress(name);

                    if (!me.capsLock)
                    {
                        me.shiftPressed = false;
                    }
                }
            });

            x += key.getContentWidth(me.ctx);

            keys.push(key);
        };

        var distributePadding = (keyCount) =>
        {
            const extraSpace = Math.max(me.maxX, ctx.canvas.width) - x;
            const padding = extraSpace / keyCount; 

            // Nothing to distribute
            if (extraSpace <= 0)
            {
                return;
            }

            x = me.x;

            for (let i = keys.length - keyCount; i < keys.length; i++)
            {
                keys[i].updateWidthWithPadding(ctx, padding);
                keys[i].setX(x);
                x += keys[i].getWidth();
            }
        };

        var row;
        var currentChar;

        for (var i = 0; i < keyChars.length; i++)
        {
            row = keyChars[i].split("▪");

            for (var j = 0; j < row.length; j++)
            {
                currentChar = row[j];

                addKey(currentChar);
            }

            distributePadding(row.length);

            if (x > me.maxX + 1)
            {
                me.maxX = x + 1;
            }

            y += keyH + 1;
            x = me.x;
        }

        if (y > me.maxY + 1)
        {
            me.maxY = y + 1;
        }
    };

    this.handleClick = function(point)
    {
        var keys = me.shiftPressed ? me.shiftKeys : me.keys;

        for (var i = 0; i < keys.length; i++)
        {
            keys[i].handleClick(point);
        }
    };

    this.render = function()
    {
        me.ctx.clearRect(me.x, me.y, me.maxX, me.maxY);
        me.ctx.font = font;

        var keys = me.shiftPressed ? me.shiftKeys : me.keys;

        for (var i = 0; i < keys.length; i++)
        {
            keys[i].render(me.ctx);
        }
    };

    this.loadKeys(me.keyChars, me.keys);
    this.loadKeys(me.shiftKeyChars, me.shiftKeys);
}


// Inserted file HTMLHelper.js encoding='utf-8'
"use strict";

// Supplies useful HTML helper-functions.
var HTMLHelper = {};

HTMLHelper.inputTypeToElementNSDictionary = 
{
    "text": "input",
    "checkbox": "input",
    "textarea": "textarea",
    "number": "input",
    "select": "select",
    "richtext": "div"
};

HTMLHelper.dataTypeToInputTypeDictionary =
{
    "string": "text",
    "number": "number",
    "boolean": "checkbox"
};

// Get the content of an input. This is necessary for inputs
//like those with type=checkbox.
HTMLHelper.getInputContent = function(inputElement, inputType)
{
    var result;

    switch (inputType)
    {
        case "checkbox":
            return inputElement.checked;
        case "richtext":
            return inputElement.innerHTML;
        case "number":
            result = inputElement.value;
            
            try
            {
                result = parseFloat(result);
            }
            catch(e)
            {
                console.warn(e);
            }
            
            return result;
        default:
            return inputElement.value;
    }
};

HTMLHelper.setInputContent = function(inputElement, inputType, setTo)
{
    switch (inputType)
    {
        case "checkbox":
            inputElement.checked = setTo;
            break;
        case "richtext":
            inputElement.innerHTML = setTo;
            break;
        case "select":
            
            if (typeof setTo === "object")
            {
                inputElement.innerHTML = "";
                
                for (var i in setTo)
                {
                    let newOption = HTMLHelper.addTextElement(setTo[i], 
                                        inputElement, "option");
                    
                    // If an array, the value is the content, otherwise, the 
                    //key.
                    newOption.value = typeof setTo.length === "number" ? setTo[i] : i;
                    
                    inputElement.appendChild(newOption);
                }
            }
            else
            {
                inputElement.value = setTo;
            }
            break;
        default:
            inputElement.value = setTo;
            break;
    }
};

HTMLHelper.getSuitableInputType = function(defaultContent)
{
    const defaultContentType = typeof (defaultContent);

    // Multi-line strings should be given a textarea.
    if (defaultContentType === "string" && defaultContent.indexOf('\n') !== -1)
    {
        return "textarea";
    }
    else if (defaultContentType in HTMLHelper.dataTypeToInputTypeDictionary)
    {
        return HTMLHelper.dataTypeToInputTypeDictionary[defaultContentType];
    }

    return "text";
};

// Adds an element containing HTML text to parent, with NS of elementName.
HTMLHelper.addTextElement = function(content, parent, elementName)
{
    var element = document.createElement(elementName || "div");
    element.innerHTML = content;
    
    parent.appendChild(element);
    
    return element;
};

// Calls HTMLHelper.addTextElement with a default elementName
//of "h1". Included to improve readability.
HTMLHelper.addHeader = function(content, parent, elementName)
{
    elementName = elementName || "h1";
    
    return HTMLHelper.addTextElement.apply(this, arguments);
};

// Like HTMLHelper.addHeader, but with "p" as the default NS.
HTMLHelper.addParagraph = function(content, parent, elementName)
{
    elementName = elementName || "p";

    return HTMLHelper.addTextElement.apply(this, arguments);
};

// Adds a line break!
HTMLHelper.addBR = function(parent)
{
    return HTMLHelper.addTextElement("", parent, "br");
};

// Adds a header-row element.
HTMLHelper.addHR = function(parent)
{
    return HTMLHelper.addTextElement("", parent, "hr");
};

// Adds a div with class spacer.
HTMLHelper.addSpacer = function(parent)
{
    const result = HTMLHelper.addTextElement("", parent, "div");
    
    result.classList.add("spacer");
    
    return result;
};

// Adds an element (by default, a span) to parent and gives
//it a class of label.
HTMLHelper.addLabel = function(labelText, parent, element)
{
    var label = HTMLHelper.addTextElement(labelText, parent, element || "span");
    
    label.setAttribute("class", "label");
    
    return label;
};

// Adds a button! OnSubmit's this variable is set
//to the button.
HTMLHelper.addButton = function(content, parent, onSubmit)
{
    var element = document.createElement("button");
    element.innerHTML = content;
    
    parent.appendChild(element);
    
    if (onSubmit)
    {
        element.addEventListener("click", function()
        {
            onSubmit.apply(element, arguments);
        });
    }
    
    return element;
};

// Convert a map of key-function pairs to buttons.
HTMLHelper.addButtons = function(nameToOnClickMap, parent)
{
    let container = document.createElement("div");
    
    for (let label in nameToOnClickMap)
    {
        HTMLHelper.addButton(label, container, nameToOnClickMap[label]);
    }
    
    parent.appendChild(container);
    
    return container;
};

// Adds an image with src to parent and gives it
//className (className is optional).
HTMLHelper.addImage = function(src, parent, className)
{
    let element = document.createElement("img");
    element.src = src;
    
    element.style.flexGrow = 1;
    
    parent.appendChild(element);
    
    if (className)
    {
        element.classList.add(className);
    }
    
    return element;
};

// Adds an input of inputType to parent. OnInput is called
//when an "input" event is fired -- when the user changes
//the content of the input. This DOES support checkboxes,
//but at the time of this writing, not radio-boxes or spinners
//(selects).
HTMLHelper.addInput = function(placeHolder, initialContent, inputType, parent, onInput, onEnterKey)
{
    var inputElementType = "input";
    
    if (inputType in HTMLHelper.inputTypeToElementNSDictionary)
    {
        inputElementType = HTMLHelper.inputTypeToElementNSDictionary[inputType];
    }
    
    onInput = onInput || function() {};
    
    var input = document.createElement(inputElementType);
    
    input.setAttribute("type", inputType);
    
    HTMLHelper.setInputContent(input, inputType, initialContent);
    
    input.setAttribute("placeholder", placeHolder);
    
    parent.appendChild(input);
    
    input.addEventListener("input", function(event)
    {
        var inputContent = HTMLHelper.getInputContent(input, inputType);
        
        onInput.call(this, inputContent, arguments);
        
        return true;
    }, true);
    
    // Handle enter key presses.
    if (onEnterKey)
    {
        input.addEventListener("keyup", function(event)
        {
            // If the user hit enter,
            if (event.keyCode === 13)
            {
                var inputContent = HTMLHelper.getInputContent(input, inputType);
                
                onEnterKey.call(this, inputContent, arguments);
                
                return true;
            }
        });
    }
    
    return input;
};

// Add an input with an attached label! The label
//argument doubles as the placeholder.
HTMLHelper.addLabeledInput = function(label, initialContent, inputType, parent, 
            onInput, onEnterKey)
{
    const inputGroup = document.createElement("div");

    // Allow the input box to grow, as needed.
    inputGroup.style.display = "flex";

    const labelElem = HTMLHelper.addLabel(label, inputGroup, "span");
    labelElem.style.paddingRight = "4px";
    
    const inputElement = HTMLHelper.addInput.call(this, label, initialContent, inputType, inputGroup, onInput, onEnterKey);
    
    // Expand with parent.
    inputElement.style.flexGrow = "1";
    
    parent.appendChild(inputGroup);
    
    return inputElement;
};

// Adds an element that helps the user create a password.
//An object is returned that includes a method, isValid, which
//returns true if the password matches that specified by the arguments.
HTMLHelper.addPasswordConcocter = (parent, options) =>
{
    let status = document.createElement("div"), initialInput, confirmInput, progressBar;
    const specialChars = options.specialChars || "@!$&^*()_+.,?";
    const NUMBER_SYMBOLS = "0123456789";

    // Default options.
    options.minLength        = options.minLength === undefined        ? 7 : options.minLength;
    options.specialCharCount = options.specialCharCount === undefined ? 2 : options.specialCharCount;
    options.numberCharCount  = options.numberCharCount === undefined  ? 2 : options.numberCharCount;

    // Helper methods.
    let onValid = () => {}, onInvalid = () => {};
    
    const passwordChecks =
    [
        (noteFail, password, confirmedPassword) =>
        {
            if (password !== confirmedPassword)
            {
                noteFail("Passwords do not match. ");
            }
        },
        (noteFail, password) =>
        {
            if (password.length < options.minLength)
            {
                noteFail("Password cannot be less than " + options.minLength + " characters. ");
            }
        },
        (noteFail, password) =>
        {
            let specialCharCount = JSHelper.getCharCount(password, specialChars);
            
            if (specialCharCount < options.specialCharCount)
            {
                noteFail("Password contains only " + specialCharCount
                    + "/" + options.specialCharCount + " special characters ("
                    + specialChars + "). ");
            }
        },
        (noteFail, password) =>
        {
            let numberCount = JSHelper.getCharCount(password, NUMBER_SYMBOLS);
            
            if (numberCount < options.numberCharCount)
            {
                noteFail("Password contains only " + numberCount
                    + "/" + options.numberCharCount + " of the required number symbols (" + NUMBER_SYMBOLS + ").");
            }
        }
    ];
    
    const setFailReason = (reason) =>
    {
        status.innerText = reason;
    };
    
    const checkPasswords = (password, confirmedPassword) =>
    {
        let failReasons = "";
        let maxProgress = passwordChecks.length;
        let progress    = maxProgress;
        
        let noteFail = (reason) =>
        {
            failReasons += reason + " ";
            progress--;
        };
        
        for (var i = 0; i < passwordChecks.length; i++)
        {
            passwordChecks[i](noteFail, password, confirmedPassword);
        }
        
        setFailReason(failReasons);
        progressBar.setProgress(progress / maxProgress);
        
        return progress === maxProgress;
    };
    
    let lastCheckValid = false;
    const checkInputs = () =>
    {
        let currentlyValid = checkPasswords(initialInput.value, confirmInput.value);
        
        if (lastCheckValid !== currentlyValid)
        {
            if (currentlyValid)
            {
                onValid();
            }
            else
            {
                onInvalid();
            }
        }
        
        lastCheckValid = currentlyValid;
        
        return currentlyValid;
    };
    
    // Create the container.
    const container = document.createElement("div");
    
    // Add elements.
    container.appendChild(status);
    initialInput = HTMLHelper.addInput("Password", "", "password", container, checkInputs);
    confirmInput = HTMLHelper.addInput("Confirm Password", "", "password", container, checkInputs);
    progressBar = HTMLHelper.addProgressBar(0, container);
    
    // Styling.
    progressBar.container.style.height = "10px";
    
    container.style.display = "flex";
    container.style.flexDirection = "column";
    container.classList.add("passwordConcocter");
    
    status.style.fontWeight = "bold";
    
    // Add it to the parent.
    parent.appendChild(container);
    
    // Create and return the result.
    let result = 
    {
        isValid: () => checkInputs(),
        container: container,
        input: initialInput,
        get: () => initialInput.value,
        onValid: (fn) => onValid = fn,
        onInvalid: (fn) => onInvalid = fn
    };
    
    return result;
};

// Adds a sequence of inputs to the container that permits the editing
//of a given vector.
HTMLHelper.addVectorEditor = function(vector, numComponents, parent)
{
    var componentKeys = ['x', 'y', 'z', 'w'];
    
    var handleInput = (key) =>
    {
        var newInput = HTMLHelper.addInput(key, vector[key], "number", parent, function(newValue)
        {
            vector[key] = newValue;
        });
        
        newInput.style.width = "50px";
    };
    
    for (var i = 0; i < numComponents; i++)
    {
        handleInput(componentKeys[i]);
    }
};

// Create a progress bar! Returns an element with
//properties container, track, and a method setProgress(number 0 to 1).
HTMLHelper.addProgressBar = function(initialProgress, parent)
{
    const container = document.createElement("div");
    container.setAttribute("class", "progressBarContainer");
    
    const track = document.createElement("div");
    track.setAttribute("class", "progressBarTrack");
    
    let setProgress = function(progressDecimal) // Progress should be from zero to one.
    {
        progressDecimal = Math.max(0, Math.min(progressDecimal, 1));
    
        track.style.width = Math.floor(progressDecimal * 100) + "%";
    };
    
    container.appendChild(track);
    
    parent.appendChild(container);
    
    // Set the initial progress.
    setProgress(initialProgress);
    
    // Although this dictionary could
    //be returned directly by wrapping it 
    //in parentheses (and eliminating the
    //need for a separate result variable),
    //this has only been tested in Chrome,
    //and seems liable to break.
    let result = 
    {
        container: container,
        track: track,
        setProgress: setProgress
    };
    
    return result;
};

HTMLHelper.TAB_CHANGED = "TAB_CHANGED";

/*
        Create a tabbed view. The argument, tabDescriptors, 
    should be formatted such that each tab label is paired with
    a function of the container or an HTML Element to display.
    
        An object containing methods addTab, removeTab, hideTab,
    showTab, tabChanged, and selectTab is returned. The argument, reRunTabActions
    is included to permit a re-run of provided tab actions on tab switching,
    rather than re-using a previously generated content.

    tabChanged is a notifier that currently can signal one event, HTMLHelper.TAB_CHANGED,
    which returns the name of the new tab.
*/
HTMLHelper.addTabGroup = function(tabDescriptors, parent, defaultTab, reRunTabActions)
{
    let tabContents = {};
    let tabActiveFunctions = {};
    let tabLabels = {}; // The selectable labels.
    let selectedTab = null;
    let onTabChange = null;
    
    // Notify clients when the tab changes to another...
    const tabChangedNotifier = new JSHelper.UniqueNotifier();
    
    // Create containers.
    let groupContainer = document.createElement("div"); // Contains everything in this display.
    let tabLabelContainer = document.createElement("div"); // Contains just the parent element of the tabs.
    let contentContainer = document.createElement("div"); // Contains the content to be displayed.
    
    // Set container styles.
    groupContainer.setAttribute("class", "tabGroupContainer"); // TODO groupContainer should have display flex, etc.
    tabLabelContainer.setAttribute("class", "tabDisplay");
    contentContainer.setAttribute("class", "tabDisplayContent");
    
    // Hierarchy.
    groupContainer.appendChild(tabLabelContainer);
    groupContainer.appendChild(contentContainer);
    parent.appendChild(groupContainer);
    
    let addTab = (tabName, tabAction) =>
    {
        let newTabElement = null;
        
        // If the tab's action is a function,
        //create an element to provide it.
        if (typeof (tabAction) === "function")
        {
            newTabElement = document.createElement("span");
            
            // Run the action on the element,
            //if not re-running the activation function
            //each time the tab is shown.
            if (!reRunTabActions)
            {
                tabAction(newTabElement);
            }
            else
            {
                tabActiveFunctions[tabName] = tabAction;
            }
        } // Otherwise, use the provided element.
        else
        {
            newTabElement = tabAction;
        }
        
        tabContents[tabName] = newTabElement;
        
        // Add the element to its container, but set its display to none.
        contentContainer.appendChild(newTabElement);
        newTabElement.classList.add("tabContentHidden");
        
        // Create the tab's label.
        let tabLabel = document.createElement("span");
        
        tabLabel.setAttribute("class", "tabLabel tabLabelUnselected"); // Styling.
        tabLabel.textContent = tabName;
        
        tabLabel.setAttribute("tabIndex", 2);
        
        // Click.
        tabLabel.addEventListener("click", (event) =>
        {
            selectTab(tabName);
        });
        
        tabLabels[tabName] = tabLabel; // Stored for deletion purposes.
        
        // Add it to the tab container.
        tabLabelContainer.appendChild(tabLabel);
    };
    
    let removeTab = (tabName) =>
    {
        // If the tab doesn't seem to exist,
        if (!tabContents[tabName])
        {
            return false; // Return failure.
        }
        
        // If the tab to remove is currently displayed,
        //hide it.
        if (selectedTab === tabName)
        {
            tabContents[tabName].style.display = "none";
            selectedTab = null; // Reset the selected tab to null.
        }
        
        // Remove contents.
        tabContents[tabName].innerHTML = "";
        contentContainer.removeChild(tabContents[tabName]);
        delete tabContents[tabName]; // Let its memory free.
        
        // Remove label.
        tabLabelContainer.removeChild(tabLabels[tabName]);
        delete tabLabels[tabName]; // Allow memory to be freed.
        
        // Remove its activation function (if applicable).
        if (tabName in tabActiveFunctions)
        {
            delete tabActiveFunctions[tabName];
        }
        
        // Return success.
        return true;
    };
    
    let showTab = (tabName) =>
    {
        tabLabels[selectedTab].setAttribute("class", "tabLabel tabLabelShown");
    };
    
    let hideTab = (tabName) =>
    {
        tabLabels[selectedTab].setAttribute("class", "tabLabel tabLabelHidden");
    };
    
    let selectTab = (tabName) =>
    {
        let previouslySelectedTab = null;
        
        // If a tab is already selected,
        //deselect it.
        if (selectedTab !== null && selectedTab in tabContents && selectedTab in tabLabels)
        {
            tabContents[selectedTab].classList.add("tabContentHidden"); // Instead of using display = none,
                                                                        //this allows the tab to smoothly
                                                                        //transition out of view.
            
            tabContents[selectedTab].classList.remove("tabContentShown");
                                                                        
            tabLabels[selectedTab].setAttribute("class", "tabLabel tabLabelUnselected");
            
            // Note the previously selected tab.
            previouslySelectedTab = selectedTab;
        }
        
        // Note the newly-selected tab.
        selectedTab = tabName;
        
        // Not using the className/classList attributes because the author
        //is less familiar with them and this should do what is wanted.
        tabLabels[selectedTab].setAttribute("class", "tabLabel tabLabelSelected");
        
        // Show the content.
        tabContents[selectedTab].classList.add("tabContentShown");
        tabContents[selectedTab].classList.remove("tabContentHidden");
        
        // If the tab has a registered activation function,
        if (selectedTab in tabActiveFunctions)
        {
            tabActiveFunctions[selectedTab].call(this, tabContents[selectedTab]);
        }
        
        // Notify.
        if (onTabChange)
        {
            onTabChange.call(this, tabContents, selectedTab, previouslySelectedTab);
        }

        tabChangedNotifier.notify(HTMLHelper.TAB_CHANGED, selectedTab);
    };
    
    for (var i in tabDescriptors)
    {
        addTab(i, tabDescriptors[i]);
    }
    
    if (defaultTab)
    {
        selectTab(defaultTab);
    }
    
    const result = 
    {
        selectTab: selectTab,
        showTab: showTab,
        hideTab: hideTab,
        addTab: addTab,
        removeTab: removeTab,
        tabChanged: tabChangedNotifier, 
        setOnTabChange: (newOnTabChange) => { onTabChange = newOnTabChange; },
        rootElement: groupContainer
    };
    
    return result;
};

/*
    Adds a simple color chooser to the parent element.
    InitialColor should be a vector3 with minimum 0 and
    maximum 1 for each component.
 */
HTMLHelper.addColorChooser = function(initialColor, parent, onChange, inputStep, customizeTabs)
{
    // If not a vector, make it one.
    if (typeof initialColor === "string")
    {
        initialColor = JSHelper.colorToVector(initialColor);
        
        initialColor.x /= 255;
        initialColor.y /= 255;
        initialColor.z /= 255;
    }

    let container = document.createElement("div");
    let currentColor = initialColor.copy();
    let alpha = initialColor.w || 1.0;
    
    inputStep = inputStep || 0.01;
    
    container.classList.add("colorChooserContainer");
    
    let onUpdate = () =>
    {
        let htmlColor = JSHelper.vec3ToRGBString(currentColor, 1.0,
                                                            alpha);
        container.style.backgroundColor = htmlColor;
        
        if (onChange)
        {
            onChange(currentColor, htmlColor);
        }
    };
    
    onUpdate();
    
    let tabGroup = HTMLHelper.addTabGroup(
    {
        "RGB": (parent) =>
        {
            parent.innerHTML = ""; // Clear the tab.
            
            let handleRGBInput = function(component, componentLabel)
            {
                // Multiply and divide by input step -- the range input
                //does not seem to work well with initial values and floats.
                let part = HTMLHelper.addInput(componentLabel, currentColor[component] / inputStep,
                                               "range", parent, (newValue) =>
                {
                    currentColor[component] = newValue * inputStep;
                    
                    onUpdate();
                });
                
                part.min = 0;
                part.max = Math.floor(1 / inputStep);
                part.value = Math.floor(currentColor[component] / inputStep);
                
                part.step = 1;
                
                part.style.flexGrow = 1;
            };
            
            handleRGBInput("x", "Red");
            handleRGBInput("y", "Green");
            handleRGBInput("z", "Blue");
        },
        "Alpha": (parent) =>
        {
            parent.innerHTML = ""; // Clears the tab.
            
            let alphaInput = HTMLHelper.addInput("Transparency", alpha / inputStep, "range", parent,
                                                (newValue) =>
            {
                alpha = newValue * inputStep;
                
                onUpdate();
            });
            
            alphaInput.min = 0;
            alphaInput.max = Math.floor(1 / inputStep);
            alphaInput.step = 1;
            alphaInput.value = Math.floor(alpha / inputStep);
            
            alphaInput.style.flexGrow = 1;
        },
        "Dropper": (parent) =>
        {
            parent.innerHTML = "";
            
            const PRE_SELECT_TEXT = "Select a Color";
            const SELECTING_COLOR_TEXT = "Click on an Untainted Canvas";
            
            let selectColorButton;
            
            selectColorButton = HTMLHelper.addButton("Select a Color", parent, function()
            {
                selectColorButton.innerHTML = SELECTING_COLOR_TEXT;
                
                requestAnimationFrame(() =>
                {
                    let listener;
                    
                    listener = (event) =>
                    {
                        event.preventDefault();
                        
                        // Clear the listener.
                        document.documentElement.removeEventListener("pointerdown", listener);
                        
                        // Note the removed listener.
                        selectColorButton.innerHTML = PRE_SELECT_TEXT;
                        
                        // Unpause events.
                        JSHelper.Events.setPaused(false);
                        
                        let target;
                        target = event.target;
                        
                        if (target.nodeName.toLowerCase() === "canvas")
                        {
                            // Get a color.
                            let canvas = document.createElement("canvas");
                            
                            canvas.width = target.clientWidth;
                            canvas.height = target.clientHeight;
                            
                            let ctx = canvas.getContext("2d");
                            
                            ctx.drawImage(target, 0, 0, ctx.canvas.width, ctx.canvas.height);
                            
                            let imageData = ctx.getImageData(event.offsetX, event.offsetY, 2, 2);
                            let data = imageData.data;
                            
                            currentColor.x = data[0] / 255.0;
                            currentColor.y = data[1] / 255.0;
                            currentColor.z = data[2] / 255.0;
                            alpha = data[3] / 255.0;
                            
                            onUpdate();
                        }
                    };
                    
                    document.documentElement.addEventListener("pointerdown", listener, false);
                    
                    // Pause all events.
                    JSHelper.Events.setPaused(true);
                });
            });
            
            selectColorButton.style.textAlign = "center";
            selectColorButton.style.flexGrow = 1;
        }
    }, container, "RGB", true); // Show the RGB tab by default and DO
                                //run generation functions on each tab switch.
    
    container.style.display = "flex";
    container.style.flexDirection = "row";
    container.style.width = "auto";
    
    // If the user wanted to customize displayed tabs...
    if (customizeTabs)
    {
        customizeTabs.call(this, tabGroup);
    }
    
    parent.appendChild(container);
    
    return container;
};


// Inserted file Modeler3D.js encoding='utf-8'
"use strict";

function Modeler3D(verticies, onSubmit)
{
    const IN_WEBGL_2 = false;
    
    var vertexShaderSource = 
    `
    attribute vec4 a_position;
    attribute vec3 a_normal;
    attribute vec4 a_color;
       
    uniform mat4 u_worldMatrix;
    uniform mat4 u_worldInverseTranspose;
    uniform mat4 u_viewMatrix;
    uniform mat4 u_cameraMatrix;
    
    uniform vec4 u_cameraPosition;
    uniform vec4 u_lightPosition;
    uniform vec4 u_color;
    
    varying vec3 v_color;
    varying vec3 v_normal;
    varying vec3 v_toCamera;
    varying vec3 v_toLight;
    
    void main()
    {
        gl_Position = u_viewMatrix * u_cameraMatrix * u_worldMatrix * a_position;// * u_worldMatrix * u_cameraMatrix * u_viewMatrix;
        
        vec4 worldPosition = u_worldMatrix * a_position;
        
        v_toLight = (u_lightPosition - worldPosition).xyz;
        v_toCamera = (u_cameraPosition - worldPosition).xyz;
        
        v_normal = mat3(u_worldInverseTranspose) * a_normal.xyz;
        
        v_color = a_color.rgb; // (v_normal + vec3(0.5, 0.5, 0.5)) / 2.0;
    }
    `;
    
    var fragmentShaderSource = 
    `
    precision highp float;
    
    uniform float u_shine;
    
    varying vec3 v_color;
    varying vec3 v_normal;
    varying vec3 v_toCamera;
    varying vec3 v_toLight;
    
    void main()
    {
        // Normalize all varying vectors.
        vec3 normal = normalize(v_normal);
        vec3 toLight = normalize(v_toLight);
        vec3 toCamera = normalize(v_toCamera);
        
        // The vector halfway between the camera and light.
        vec3 halfVector = normalize(toCamera + toLight);
        
        // The lighting is proportional to the cosine of the angle between
        //the normal and the vector to the light.
        float lighting = dot(normal, toLight);
        
        // The specular (before being brought to a power) is proportional to the cosine of the angle between
        //the half-vector and the normal (a greater cosine value signifying
        //a greater correlation).
        float specular = dot(halfVector, toCamera);
        
        if (specular > 0.0 && lighting > 0.0)
        {
            specular = pow(specular, u_shine);
        }
        else
        {
            specular = 0.0;
        }
        
        if (lighting <= 0.0)
        {
            lighting = 0.0;
        }
        
        if (lighting >= 0.9)
        {
            lighting = 0.9;
        }
        
        vec4 resultantColor = vec4(v_color.rgb, 1.0);
        
        resultantColor.rgb += specular;
        resultantColor.rgb *= lighting;
        
        gl_FragColor = resultantColor;
    }
    `;
    
    var compileShader = function(gl, shaderType, shaderSource)
    {
        var shader = gl.createShader(shaderType);
        
        gl.shaderSource(shader, shaderSource);
        
        gl.compileShader(shader);
        
        // Check whether the shader was compiled successfully.
        if (gl.getShaderParameter(shader, gl.COMPILE_STATUS))
        {
            return shader;
        } // If not, note that an error occurred.
        else
        {
            var errorMessage = gl.getShaderInfoLog(shader);
            
            gl.deleteShadeer(shader);
            
            // Throw the error.
            throw errorMessage;
        }
    };
    
    var linkProgram = function(gl, vertexShader, fragmentShader)
    {
        var program = gl.createProgram();
        
        gl.attachShader(program, vertexShader);
        gl.attachShader(program, fragmentShader);
        
        gl.linkProgram(program);
        
        // Check whether the program was linked successfully.
        if (gl.getProgramParameter(program, gl.LINK_STATUS))
        {
            // If it linked successfully, return the program.
            return program;
        } // Otherwise, throw the error.
        else
        {
            var errorMessage = gl.getProgramInfoLog(program);
            
            gl.deleteProgram(program);
            
            // Throw the error.
            throw errorMessage;
        }
    };
    
    var canvas = document.createElement("canvas");
    canvas.style.width = "calc(100% - 2px)";
    canvas.style.height = "calc(100% - 25px)";
    canvas.style.touchAction = "none";
    
    var silhouettePoints = [];
    var editControlSilhouettePoints = [];
    var silhouetteDivisions = 8;
    var maxDivisions = 256;
    const GENERATION_MODES = { "EXTRUDE": 0, "ROTATE": 1 };
    let generationMode = GENERATION_MODES.ROTATE;
    let extrudeDirection = new Vector3(0, 0, 60);
    let noCap = false;
    
    // Generates verticies from a silhouette and renders.
    //If showProgress, show a progress window to the user.
    var recreateVerticies = function(silhouette, showProgress)
    {
        silhouette = silhouette || silhouettePoints; // Default values.
        
        let showProgressFunction = function(progress, status) {}; // A default, do nothing
                                                                  //update function.
        
        let hideProgressDialog = function() {};
        
        // If to display progress, display
        //the progress dialog.
        if (showProgress)
        {
            let progressDialog = SubWindowHelper.makeProgressDialog();
            
            // Update the progress.
            showProgressFunction = function(progress, status)
            {
                progressDialog.update(progress, status);
            };
            
            // Hide the dialog -- make the function.
            hideProgressDialog = function()
            {
                progressDialog.close();
            };
        }
        
        showProgressFunction(0.0, "Generating verticies...");
        
        // Create the vertex generation task.
        let vertexGenerationTask = (silhouette, silhouetteDivisions, generationMode, GENERATION_MODES, extrudeDirection, excludeCap) =>
        new Promise((resolve, reject) =>
        {
            var newVerticies;
            
            if (generationMode === GENERATION_MODES.EXTRUDE)
            {
                newVerticies = ModelHelper.extrude(silhouette, extrudeDirection, excludeCap, 0);
            }
            else
            {
                newVerticies = ModelHelper.silhouetteToVerticies(silhouette, 0, Math.PI * 2, silhouetteDivisions);
            }
            
            resolve(newVerticies);
        });
        
        var vertexGenerationPromise;
        
        // Decide whether to run the task directly, or on a background thread.
        if (silhouetteDivisions * silhouette.length > 200) // If more than 200 verticies...
        {
            // Create a background thread.
            let thread = ThreadHelper.makeLibLinkedThread();
            thread.putFunction("generateVerticies", ["silhouette", "silhouetteDivisions", "generationMode", "GENERATION_MODES", "extrudeDirection", "noCap"], vertexGenerationTask);
            
            // Compile the thread.
            thread.compile();
            
            // Create the promise.
            vertexGenerationPromise = thread.callFunction("generateVerticies", [silhouette, silhouetteDivisions, generationMode, GENERATION_MODES, extrudeDirection, noCap]);
        }
        else
        {
            // Run on the main thread.
            vertexGenerationPromise = vertexGenerationTask(silhouette, silhouetteDivisions, generationMode, GENERATION_MODES, extrudeDirection, noCap);
        }
        
        // Render after reloading verticies.
        vertexGenerationPromise.then((newVerticies) =>
        {
            verticies = newVerticies;
            //console.log(verticies);
            //window.v = verticies;
            
            return reloadVerticies((progress, message) => showProgressFunction(progress * 0.75 + 0.25, message), newVerticies);
        }).then(() =>
        {
            hideProgressDialog(); // Note: Even if the progress dialog wasn't created,
                                  //this function should be defined.
            
            render(rotateX, rotateY, rotateZ, tX, tY, tZ);
        }).catch(reason =>
        {
            hideProgressDialog();
            
            SubWindowHelper.alert("Error", "Vertex generation failed with error: " + reason);
        });
    };
    
    var controlsContainer = document.createElement("div");
    var cachedUndoBuffer = [], cachedRedoBuffer = [];
    
    // Allow the user to edit the shape's silhouette.
    var editPointsButton = HTMLHelper.addButton("Edit Silhouette", controlsContainer, function()
    {
        var pointsEditor = new Modeler2D(function(silhouette, editControlPoints, undoBuffer, redoBuffer)
        {
            silhouettePoints = silhouette; // Store the silhouette's point for later modification.
            editControlSilhouettePoints = editControlPoints; // The actual objects manipulated by the editor.
            
            // Cache the undo and redo buffers for ease of use.
            cachedUndoBuffer = undoBuffer;
            cachedRedoBuffer = redoBuffer;
            
            recreateVerticies(silhouette, true); // DO show progress.
        },  editControlSilhouettePoints, cachedUndoBuffer, cachedRedoBuffer);
    });
    
    var editModelButton = HTMLHelper.addButton("Edit Model", controlsContainer, function()
    {
        // Make a new window that allows the user to select a model and modify it.
        var optionsWindow = SubWindowHelper.create({ title: "Model Options" });
        
        var revolutionContainer = document.createElement("div");
        var extrudeContainer = document.createElement("div");
        
        var tabbedDisplay = HTMLHelper.addTabGroup(
        {
            "Solid of Revolution": revolutionContainer,
            "Extrusion": extrudeContainer
        }, optionsWindow, "Solid of Revolution");
        
        // Set default value.
        if (generationMode === GENERATION_MODES.ROTATE)
        {
            tabbedDisplay.selectTab("Solid of Revolution");
        }
        else
        {
            tabbedDisplay.selectTab("Extrusion");
        }
        
        // Solid of revolution options.
        HTMLHelper.addLabel("Number of Divisions: ", revolutionContainer);
        
        // Let the user edit the number of divisions (place holder, initial content, input type, parent,
        //onInput).
        var editDivisionsInput = HTMLHelper.addInput("Edit Divisions", silhouetteDivisions, "number", revolutionContainer);
        
        HTMLHelper.addHR(revolutionContainer);
        
        HTMLHelper.addButton("Submit", revolutionContainer, function()
        {
            var divisions;
            
            try
            {
                divisions = parseFloat(editDivisionsInput.value);
            }
            catch(event)
            {
                SubWindowHelper.alert("Warning", "Check divisions for number formatting errors.");
                
                return;
            }
            
            // Ensure the selected number of divisions is reasonable.
            if (divisions > 0 && divisions <= maxDivisions)
            {
                // Note that a solid of revolution is to be used.
                generationMode = GENERATION_MODES.ROTATE;
            
                // Update the divisions.
                silhouetteDivisions = divisions;
                recreateVerticies(undefined, true); // No changes to the silhouette,
                                                    //but still show progress.
                
                optionsWindow.close();
            }
            else
            {
                if (divisions <= 0)
                {
                    SubWindowHelper.alert("Error", "Divisions must be greater than zero.");
                }
                else if (divisions > maxDivisions)
                {
                    SubWindowHelper.alert("Error", "Divisions must be less than " + maxDivisions + ".");
                }
            }
        });
        
        editDivisionsInput.setAttribute("class", "smallInput");
        
        // Extrusion options.
        HTMLHelper.addHeader("Direction", extrudeContainer, "h3");
        HTMLHelper.addHR(extrudeContainer);
        
        var extrudeVectorToEdit = extrudeDirection.copy();
        HTMLHelper.addVectorEditor(extrudeVectorToEdit, 3, extrudeContainer);
        
        HTMLHelper.addHR(extrudeContainer);
        
        var resultantNoCap = noCap;
        
        HTMLHelper.addHeader("Exclude Cap", extrudeContainer, "h3");
        HTMLHelper.addInput("Exclude Cap", noCap, "checkbox", extrudeContainer, function(checked)
        {
            resultantNoCap = checked;
        });
        
        HTMLHelper.addHR(extrudeContainer);
        
        HTMLHelper.addButton("Submit", extrudeContainer, function()
        {
            generationMode = GENERATION_MODES.EXTRUDE;
            
            extrudeDirection = extrudeVectorToEdit;
            
            noCap = resultantNoCap;
            
            recreateVerticies(undefined, true); // No changes to the silhouette, but show generation progress.
            
            optionsWindow.close();
        });
    });
    
    var manipulationMode = "ROTATE";
    
    // Change the tool.
    var toggleToolButton = HTMLHelper.addButton("Zoom", controlsContainer, function()
    {
        if (manipulationMode === "ROTATE")
        {
            this.innerHTML = "Rotate";
            manipulationMode = "ZOOM";
        }
        else
        {
            this.innerHTML = "Zoom";
            manipulationMode = "ROTATE";
        }
    });
    
    var gl = canvas.getContext(IN_WEBGL_2 ? "webgl2" : "webgl");
    
    // If the user's browser does not support WebGL 2,
    //display an error message and exit.
    if (gl == undefined) // Note the use of a double, rather than a tripple equals-sign.
                         //a webkit-based browser on Linux sets gl to null, rather than 
                         //undefined. THIS IS NOT A MISTAKE.
    {
        SubWindowHelper.alert("WebGL", "Oh, no! Your browser does not support WebGL! Please try a different browser (or if using WebKit, try to use this program again later).");
        
        return;
    }
    
    // Set up program.
    var vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);
    var fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);
    
    var program = linkProgram(gl, vertexShader, fragmentShader);
    
    // Bind the program.
    gl.useProgram(program);
    
    gl.clearColor(0.0, 0.0, 0.0, 1.0);
    
    // Create matricies.
    var worldMatrix = new Mat44();
    worldMatrix.toIdentity();
    
    var cameraMatrix = new Mat44();
    cameraMatrix.toIdentity();
    
    var viewMatrix;
    
    var updateView = function()
    {
        canvas.width = canvas.clientWidth;
        canvas.height = canvas.clientHeight;
        
        var aspect = gl.drawingBufferHeight / gl.drawingBufferWidth;
        var fovY = 70 / 180.0 * Math.PI;
        var zMin = 1;
        var zMax = 3000;
        
        viewMatrix = Mat44Helper.frustumViewMatrix(aspect, fovY, zMin, zMax);
        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);
        
        return viewMatrix;
    };
    
    updateView();
    
    // Uniform locations.
    var worldMatrixUniformLocation = gl.getUniformLocation(program, "u_worldMatrix");
    var worldInverseTrLocation = gl.getUniformLocation(program, "u_worldInverseTranspose");
    var cameraMatrixUniformLocation = gl.getUniformLocation(program, "u_cameraMatrix");
    var viewMatrixUniformLocation = gl.getUniformLocation(program, "u_viewMatrix");
    var lightPositionUniformLocation = gl.getUniformLocation(program, "u_lightPosition");
    var cameraPositionUniformLocation = gl.getUniformLocation(program, "u_cameraPosition");
    var shineAmountUniformLocation = gl.getUniformLocation(program, "u_shine");
    
    // Attribute locations.
    var positionLocation = gl.getAttribLocation(program, "a_position");
    var normalsLocation = gl.getAttribLocation(program, "a_normal") || 1;
    var vertexColorLocation = gl.getAttribLocation(program, "a_color") || 2;
    
    //console.log("a_position: " + positionLocation + "; a_normal: " + normalsLocation + "; a_color: " + vertexColorLocation + ";");
    
    var subWindow = SubWindowHelper.create({ title: "Modeler 3D", minWidth: 200, minHeight: 150 });
    subWindow.appendChild(canvas);
    subWindow.appendChild(controlsContainer);
    
    subWindow.content.style.display = "flex";
    subWindow.content.style.flexDirection = "column";
    canvas.style.flexGrow = "1";

    let computedNormals = [];
    
    // Tabs.
    var fileMenu = new SubWindowTab("File");
    
    if (onSubmit)
    {
        fileMenu.addCommand("Submit", function()
        {
            onSubmit(verticies, computedNormals);
        });
    }
    
    fileMenu.addCommand("Exit", function()
    {
        subWindow.close();
    });
    
    subWindow.addTab(fileMenu);
    
    // WebGL Settings.
    gl.enable(gl.DEPTH_TEST);
    gl.enable(gl.CULL_FACE);
    
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
    
    var vertexAttribArray;
    
    // Copied from WebGL3.html
    verticies = verticies ||
    [
        // Face 1
        50, 50, 0,
        50, 0, 0,
        0, 0, 0,
        
        50, 50, 0,
        0, 0, 0,
        0, 50, 0,
        
        // Face 2
        50, 0, 50,
        50, 50, 50,
        0, 50, 50,
        
        50, 0, 50,
        0, 50, 50,
        0, 0, 50,
        
        // Face 3
        0, 50, 0,
        0, 0, 0,
        0, 0, 50,
                
        0, 50, 0,
        0, 0, 50,
        0, 50, 50,
        
        // Face 4
        50, 0, 0,
        50, 50, 0,
        50, 50, 50,
        
        50, 0, 0,
        50, 50, 50,
        50, 0, 50,
        
        // Face 5
        50, 50, 50,
        50, 50, 0,
        0, 50, 0,
        
        50, 50, 50,
        0, 50, 0,
        0, 50, 50,
        
        // Face 6
        50, 0, 50,
        0, 0, 50,
        0, 0, 0,
        
        50, 0, 50,
        0, 0, 0, 
        50, 0, 0
    ];
    
    let numberOfTrianglesToRender = 0; // Updated after verticies are buffered.
    
    // Create a progress-estimating function.
    let normalComputationProgressEstimator = new ProgressEstimator((n) => n);
    
    // Returns a promise. An optional updateProgress function
    //can be provided, with arguments estimated progress and message.
    //Note: Estimated progress is a real number, from zero to one.
    
    var reloadVerticies = function(updateProgressArg, newVerticies)
    {
        // If a set of new verticies were specified,
        if (newVerticies)
        {
            // Update the list of verticies.
            verticies = newVerticies;
        }
        
        // Variables for progress tracking.
        const totalSegments = 6;
        let currentSegment = 0;
        
        let lastProgressMessage = "";
        let lastProgressAmount = 0;
        
        // Allows progress to be displayed to the user.
        const updateProgress = function(message)
        {
            // If no argument was given,
            if (updateProgressArg === undefined)
            {
                return; // Stop.
            }
            
            lastProgressMessage = message;
            lastProgressAmount = currentSegment;
            
            // Make sure totalSegments is updated.
            console.assert(currentSegment < totalSegments);
            
            // Otherwise, note the progress change.
            let progress = currentSegment / totalSegments;
            updateProgressArg( progress, message );
            
            // Note that a new segment has begun.
            currentSegment++;
        };
        
        updateProgress("Preparing to generate normals and vertex colors...");
        
        // Decide whether to create a background thread.
        let usingThreads = verticies.length > 300;
        var thread;
        
        // Only if using threads,
        if (usingThreads)
        {
            // Create a thread so that tasks can be be on a different OS-level
            //thread.
            thread = ThreadHelper.makeLibLinkedThread();
        }
        
        // Create tasks for async processing.
        const normalsTolerance = 0.3; // When cos(angle between normals) is greater than normalsTolerance,
                                      // those normals are blended.
        
        const computeNormalsTask = (verticies, normalsTolerance) =>
        new Promise((resolve, reject) =>
        {
            // Compute normals from verticies.
            let normals = ModelHelper.computeNormals(verticies, normalsTolerance);
            
            resolve(normals);
        });
        
        const createColorsTask = (verticies) =>
        new Promise((resolve, reject) =>
        {
            var colors = [];
            var currentPart = [];
            var j;
            for (var i = 0; i < verticies.length; i++)
            {
                currentPart = JSHelper.getRandomColorArray(false, // No rounding.
                        0.3, 0.4, // Min and max for red.
                        0.3, 0.4, // Min and max for green.
                        0.4, 0.9); // Min and max for blue.
                        
                // Append each part of the current to the full color array.
                for (j = 0; j < currentPart.length && j < 3; j++)
                {
                    colors.push(currentPart[j]);
                }
            }
            
            resolve(colors);
        });
        
        // Push the tasks to the background thread,
        //if using threads.
        if (usingThreads)
        {
            thread.putFunction("computeNormals", ["verticies", "normalsTolerance"], computeNormalsTask);
            thread.putFunction("createColors", ["verticies"], createColorsTask);
        
            // Compile the thread.
            thread.compile();
        }
        
        // Run this after finding normals and vertex colors.
        const bufferDataTask = (normals, vertexColors) =>
        new Promise((resolve, reject) =>
        {
            updateProgress("Preparing to buffer data...");
            
            // Push to the end of the task queue, so
            //that the user can be notified of any 
            //progress changes.
            setTimeout(() =>
            {
                // Create buffers.
                const positionBuffer = gl.createBuffer();
                const normalsBuffer = gl.createBuffer();
                const colorsBuffer = gl.createBuffer();
                
                // Create the vertex attributes array.
                if (IN_WEBGL_2)
                {
                    vertexAttribArray = gl.createVertexArray();
                    gl.bindVertexArray(vertexAttribArray);
                }
                
                // Buffer verticies.
                gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
                
                // Enable the vertex buffer.
                gl.enableVertexAttribArray(positionLocation);
                
                // Attribute data buffering...
                gl.vertexAttribPointer(positionLocation, 3, // 3 elements/calling.
                        gl.FLOAT,
                        false, // No normalization
                        0, 0); // Zero stride, zero offset.
                
                
                // Send the data to WebGL.
                gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verticies), gl.STATIC_DRAW);
                
                
                // Select the normals buffer.
                gl.bindBuffer(gl.ARRAY_BUFFER, normalsBuffer);
                
                gl.enableVertexAttribArray(normalsLocation);
                
                // Set up the pointer to the buffer.
                gl.vertexAttribPointer(normalsLocation, 3, // 3 elements/calling of shader
                        gl.FLOAT,
                        false,  // Do not normalize the normals.
                        0, 0); // No stride, no offset.
                
                
                // Send WebGL the data.
                gl.bufferData(gl.ARRAY_BUFFER, ModelHelper.vectorArrayToFloat32Array(normals), gl.STATIC_DRAW);
                
                
                // Select the colors buffer.
                gl.bindBuffer(gl.ARRAY_BUFFER, colorsBuffer);
                
                gl.enableVertexAttribArray(vertexColorLocation);
                
                // Set up the pointer to the color attribute.
                gl.vertexAttribPointer(vertexColorLocation, 3, // Each color has three components.
                        gl.FLOAT, // Color components are floats.
                        false, // Don't normalize the colors.
                        0, 0); // Stride and offset are set to zero -- there is no ADDITIONAL STRIDE.
                        
                // Send the data to WebGL.
                gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexColors), gl.STATIC_DRAW);
                
                // Update the number of triangles to render.
                numberOfTrianglesToRender = verticies.length / 3;
                
                // Note the completion of this segment.
                updateProgress("Buffered data!");
                
                resolve(gl);
            }, 0);
        });
        
        // Create promises for both tasks.
        
        var colorsCalledResult, normalsCalledResult, startTime;
        
        // Note: The createColorsTask will finish before
        //the computeNormalsTask -- this allows estimated
        //progress to be displayed during the often-long-running
        //computeNormalsTask.
        if (usingThreads)
        {
            colorsCalledResult = thread.callFunction("createColors", [verticies]);
            normalsCalledResult = thread.callFunction("computeNormals", [verticies, normalsTolerance]);
        }
        else
        {
            colorsCalledResult = createColorsTask(verticies);
            normalsCalledResult = computeNormalsTask(verticies, normalsTolerance);
        }
        
        // Start recording the running time...
        normalComputationProgressEstimator.startRecord();
        
        const computeColorsPromise = colorsCalledResult.then(
        (colors) => 
        {
            updateProgress("Created colors! Now computing normals...");
            
            return colors;
        });
        
        const computeNormalsPromise = normalsCalledResult.then(
        (normals) => 
        {
            updateProgress("Found normals!");
            
            // Stop recording progress.
            normalComputationProgressEstimator.stopRecord(verticies.length);
            
            return normals;
        });
        
        // If displaying progress,
        if (updateProgressArg)
        {
            // Loop, updating the progress bar.
            normalComputationProgressEstimator.predictProgressLoop(verticies.length, progress =>
            {
                // Underestimate progress.
                let progressPercentString = "~ " + Math.floor(progress * 0.8 * 100) + "%";
                
                if (progress > 1.0)
                {
                    progressPercentString = "...";
                }
                
                updateProgressArg(lastProgressAmount / totalSegments + progress / totalSegments, lastProgressMessage + " (" + progressPercentString + ")");
            });
        }
        
        // After both the normals and random colors for verticies have generated,
        return Promise.all([computeNormalsPromise, computeColorsPromise]).then(values =>
        {
            // Unpack arguments.
            const normals      = values[0],
                  vertexColors = values[1];
            
            updateProgress("Done finding normals and vertex colors! Now buffering data...");

            // Cache the normals.
            computedNormals = normals;

            // Returns a promise, so .then/.catch can be used.
            return bufferDataTask(normals, vertexColors);
        });
    };
    
    reloadVerticies().then(render);
    
    // Where the camera is to look.
    var cameraLookAt = new Vector3(12, 0, 10);
    var upDirection = new Vector3(0, 1, 0);
    var cameraPosition = new Vector3(0, 0, 405);
    
    var updateWorldMatrix = function()
    {
        gl.uniformMatrix4fv(worldMatrixUniformLocation, false, worldMatrix.getTranspose().getArray());
        gl.uniformMatrix4fv(worldInverseTrLocation, false, worldMatrix.getInverse().getArray());
    };
    
    var updateMatricies = function()
    {
        // DO transpose.
        //Note: In WebGL 1.0, transpose must be false, so
        //this transposition is done by JS.
        updateWorldMatrix();
        gl.uniformMatrix4fv(viewMatrixUniformLocation, false, viewMatrix.getTranspose().getArray());
        gl.uniformMatrix4fv(cameraMatrixUniformLocation, false, cameraMatrix.getTranspose().getArray());
    };
    
    var setLightPosition = function(position)
    {
        gl.uniform4fv(lightPositionUniformLocation, [position.x, position.y, position.z, 1]);
    };
    
    var setCameraPosition = function(position)
    {
        cameraMatrix = Mat44Helper.createLookAtMatrix(position, cameraLookAt, upDirection);
        gl.uniform4fv(cameraPositionUniformLocation, [position.x, position.y, position.z, 1]);
        
        //cameraMatrix.rotateY(0.5);
        
        gl.uniformMatrix4fv(cameraMatrixUniformLocation, false, cameraMatrix.getTranspose().getArray());
    };
    
    // Set specular amount. Should be large floats.
    var setShine = function(shine)
    {
        gl.uniform1f(shineAmountUniformLocation, shine);
    };
    
    // Set initial light and camera positions.
    setLightPosition(new Vector3(1, -36, 800));
    setCameraPosition(cameraPosition);
    setShine(5000.0);
    
    var timesAnimated = 0;
    
    var render = function(xRotation, yRotation, zRotation, tX, tY, tZ)
    {
        if (canvas.width != canvas.clientWidth || canvas.height != canvas.clientHeight)
        {
            updateView();
        }
        
        var time = (new Date()).getTime();
        
        if (xRotation === undefined)
        {
            xRotation = Math.cos(time / 1000) * 0.2;
        }
        
        if (yRotation === undefined)
        {
            yRotation = Math.sin(time / 2000) * 6.28;
        }
        
        tX = tX || 0.0;
        tY = tY || 0.0;
        tZ = tZ !== undefined ? tZ : 300 + Math.sin(time / 6000) * 20;
        
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
        
        
        worldMatrix.save();
        
        worldMatrix.rotateY(yRotation);
        worldMatrix.rotateX(xRotation);
        worldMatrix.rotateZ(zRotation || 0.0);
        worldMatrix.translate([tX, tY, tZ]);
        
        setCameraPosition(cameraPosition);
        updateMatricies();
        
        gl.drawArrays(gl.TRIANGLES, 0, numberOfTrianglesToRender);
        
        worldMatrix.restore();
    };
    
    var animationRunning = false;
    var animate = function()
    {
        render();
        animationRunning = true;
        
        if (timesAnimated < 2000)
        {
            timesAnimated++;
            
            requestAnimationFrame(animate);
        }
        else
        {
            timesAnimated = 0;
            animationRunning = false;
        }
    };
    
    var tX = 0, tY = 0, tZ = 230,
        rotateX = 0.1, rotateY = 0.2, rotateZ = 0.3;
    render(rotateX, rotateY, rotateZ, tX, tY, tZ);
    
    var pointerDown = false;
    var lastX, lastY;
    
    JSHelper.Events.registerPointerEvent("down", canvas, function(e)
    {
        e.preventDefault();
        
        pointerDown = true;
        
        lastX = e.clientX;
        lastY = e.clientY;
    });
    
    JSHelper.Events.registerPointerEvent("move", canvas, function(e)
    {
        if (pointerDown)
        {
            e.preventDefault();
            
            var x = e.clientX;
            var y = e.clientY;
            
            var dx = x - lastX;
            var dy = y - lastY;
            
            if (manipulationMode === "ROTATE")
            {
                rotateX += dx / (canvas.width || 100) * 6.28;
                rotateY += (dx * dy) / (canvas.width + canvas.height) * 3.14;
                rotateZ += dy / (canvas.height || 100) * 6.28;
            }
            else
            {
                cameraPosition.z -= dy;
            }
            
            render(rotateX, rotateY, rotateZ, tX, tY, tZ);
            
            lastX = x;
            lastY = y;
        }
    });
    
    JSHelper.Events.registerPointerEvent("stop", canvas, function(e)
    {
        e.preventDefault();
        
        pointerDown = false;
    });
    
    /*
    canvas.onclick = function(e)
    {
        e.preventDefault();
        
        if (!animationRunning)
        {
            timesAnimated = 0;
            
            console.log("Starting animation.");
            
            animate();
        }
    };*/
}


// Inserted file MathHelper.js encoding='utf-8'
"use strict";

var MathHelper = {};

MathHelper.distance2D = function(point1, point2)
{
    return Math.sqrt(Math.pow(point1.x - point2.x, 2) + Math.pow(point1.y - point2.y, 2));
};

MathHelper.numberScheme = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";

MathHelper.parseCharacter = function(character, numberScheme)
{
    numberScheme = numberScheme || MathHelper.numberScheme;
    
    let numberIndex = numberScheme.indexOf(character);

    return numberIndex;
};

// Parses a number and does not throw invalid formatting exceptions.
//InputString is the number's string representation, radix its base,
//and initialPlaceValue the place-value of the rightermost portion.
//Note that initialPlaceValue is zero by default. To auto-detect
//this initialPlaceValue, use MathHelper.forceParseFloat.
MathHelper.forceParseNumber = function(inputString, radix, initialPlaceValue)
{
    radix = radix || 10;

    let currentChar, result = 0, placeValue = initialPlaceValue || 0;
    
    // For every character in the string.
    //  Add its single-char parse times radix**position
    //   to the result.
    for (var i = inputString.length - 1; i >= 0; i--, placeValue++)
    {
        currentChar = inputString.charAt(i);
        
        // Accumulate!
        result += Math.pow( 
                              radix, placeValue // Multiply radix^placeValue
                          )
                          *
                              MathHelper.parseCharacter(currentChar); // with the value
                                                                       //signified by the
                                                                       //current character.
    }
    
    return result;
};

MathHelper.forceParseInt = function(inputString, radix)
{
    return MathHelper.forceParseNumber(inputString, radix, 0);
};

MathHelper.forceParseFloat = function(inputString, radix)
{
    let dotLocation = inputString.indexOf('.');
    let initialPlaceValue;
    let smallHalf = "", largeHalf = "";
    
    if (dotLocation === -1)
    {
        initialPlaceValue = 0;
        
        largeHalf = inputString;
    }
    else
    {
        initialPlaceValue = inputString.length - dotLocation - 1;
        
        // Divide into before/after the dot.
        smallHalf = inputString.substring(dotLocation + 1);
        largeHalf = inputString.substring(0, dotLocation);
    }
    
    let result = 0;
    
    result += MathHelper.forceParseNumber(smallHalf, radix, -initialPlaceValue);
    result += MathHelper.forceParseNumber(largeHalf, radix, 0);
    
    return result;
};

// Inserted file AreaHelper.js encoding='utf-8'
"use strict";

var AreaHelper = {};

// SAT stands for the "Separating Axis Theorem".
//It is applied to collisions through the repeated
//projection of both shapes onto a shared axis.
// Each shape should be an array of Vector3s --
//from the origin to each point on the shape.
//This is designed for a pair of shapes -- it
//returns whether there is separation between
//AT LEAST two of the shapes.
AreaHelper.runSATCollisionTest2D = function(shapes, axis)
{
    var pointIndex, currentShape, edge, axis, projection, testIndex, shapeLength;

    let testAxis = (axis, testShapeIndex) =>
    {
        var projection, pointIndex;
        var leftermostTest, rightermostTest;
        
        for (pointIndex = 0; pointIndex < shapes[testShapeIndex].length; pointIndex++)
        {
            projection = axis.dot(shapes[testShapeIndex][pointIndex]);
            
            if (pointIndex === 0 || projection < leftermostTest)
            {
                leftermostTest = projection;
            }
            
            if (pointIndex === 0 || projection > rightermostTest)
            {
                rightermostTest = projection;
            }
        }
        
        // For all shapes,
        for (shapeIndex = 0; shapeIndex < shapes.length; shapeIndex ++)
        {
            if (shapeIndex === testShapeIndex)
            {
                continue;
            }
        
            // Project each point onto the axis.
            for (pointIndex = 0; pointIndex < shapes[shapeIndex].length; pointIndex++)
            {
                projection = axis.dot(shapes[shapeIndex][pointIndex]);
                
                // If the point is within the test area,
                if (projection > leftermostTest && projection < rightermostTest)
                {
                    // A collision occured.
                    return true;
                }
            }
        }
        
        // There were no collisions on this axis.
        return false;
    };

    // For every shape,
    for (var shapeIndex = 0, l = shapes.length; shapeIndex < l; shapeIndex ++)
    {
        currentShape = shapes[shapeIndex];
    
        // For every point on the shape,
        for (pointIndex = 0, shapeLength = currentShape.length; pointIndex < shapeLength; pointIndex++)
        {
            testIndex = (pointIndex + 1) % shapeLength;
            
            // An edge cannot be created from two of the same points!
            if (testIndex === pointIndex)
            {
                break;
            }
        
            // Compute the edge vector for the current point.
            edge = currentShape[pointIndex].subtract(currentShape[pointIndex + 1]);
            
            // Zero-vectors have no direction, and so cannot be normalized.
            if (edge.x == 0 && edge.y == 0)
            {
                break;
            }
            
            // The axis to project onto is perpindicular to that edge.
            axis = edge.perpindicular2D().normalize2D();
            
            // Project onto that axis.
            if (!testAxis(axis, shapeIndex))
            {
                return false;
            }
        }
    }
    
    // A collision occurred.
    return true;
};



// Inserted file Mat.js encoding='utf-8'
"use strict";

/*
 A simple implementation of matricies in JavaScript.
 Just after construction, any such matrix is the zero
 matrix.
*/

function Mat(width, height)
{
    var me = this;
    
    this.content = [];
    this.rightMulTransform = true;
    
    var w = width;
    var h = height;
    
    var saveStack = [];
    
    var x;
    for (var y = 0; y < h; y++)
    {
        for (x = 0; x < w; x++)
        {
            this.content.push(0);
        }
    }
    
    this.getOrSetAt = function(x, y, setTo)
    {
        var result = 0;
        var index = x + y * w;
        
        if (index < this.content.length)
        {
            result = this.content[index];
            
            if (setTo !== undefined)
            {
                this.content[index] = setTo;
            }
        }
        
        return result;
    };
    
    this.getAt = function(x, y)
    {
        return this.getOrSetAt(x, y);
    };
    
    this.setAt = function(x, y, setTo)
    {
        return this.getOrSetAt(x, y, setTo);
    };
    
    this.swapValues = function(x1, y1, x2, y2)
    {
        var temp = me.getAt(x1, y1);
        
        me.setAt(x1, y1, me.getAt(x2, y2));
        me.setAt(x2, y2, temp);
    };
    
    this.leftMul = function(other)
    {
        return other.rightMul(this);
    };
    
    this.rightMul = function(other)
    {
        // Check to make sure other is not
        //undefined -- because of sloppy coding,
        //this could happen.
        if (other === undefined)
        {
            // Fail here?
            console.warn(`
            ~~~~~~~~~~~~~ WARNING -- POTENTIAL BUG ~~~~~~~~~~~
            Function Mat(${ w }, ${ h }).rightMul(otherMatrix)
            was called with otherMatrix === undefined. A copy
            of Mat(${ w }, ${ h }) was returned.
            `);
            
            // Return a copy -- nothing was to
            //happen.
            return this.getCopy();
        }
        
        var combinedW = w;
        var combinedH = other.getHeight();
        
        var otherWidth = other.getWidth();
        
        var resultMat = new Mat(combinedW, combinedH);
        
        var x, i, sum;
        for (var y = 0; y < combinedH; y++)
        {
            for (x = 0; x < combinedW; x++)
            {
                sum = 0;
                for (i = 0; i < h && i < otherWidth; i++)
                {
                    sum += me.getAt(x, i) * other.getAt(i, y);
                }
                
                resultMat.setAt(x, y, sum);
            }
        }
        
        return resultMat;
    };
    
    this.rightMulAndSet = function(other)
    {
        me.content = me.rightMul(other).getArrayCopy();
    };
    
    this.leftMulAndSet = function(other)
    {
        me.content = me.leftMul(other).getArrayCopy();
    };
    
    this.fromArray = function(array)
    {
        for (var i = 0; i < array.length; i++)
        {
            if (i >= this.content.length)
            {
                this.content.push(0);
            }
            
            this.content[i] = array[i];
        }
        
        return this;
    };
    
    this.getArray = function()
    {
        return this.content;
    };
    
    this.getArrayCopy = function()
    {
        var result = [];
        
        for (var i = 0; i < this.content.length; i++)
        {
            result[i] = this.content[i];
        }
        
        return result;
    };
    
    this.toArray = this.getArrayCopy;
    
    this.scalarMul = function(scalar)
    {
        for (var i = 0; i < this.content.length; i++)
        {
            this.content[i] *= scalar;
        }
    };
    
    this.multiplyScalar = this.scalarMul;

    this.scale = function(...scaleBy)
    {
        var indicies = [];

        if (typeof scaleBy[0] === "object" && scaleBy[0].toArray)
        {
            indicies = scaleBy[0].toArray();
        }
        else
        {
            indicies = scaleBy;
        }

        // Multiply the diagonal by segments of indicies.
        for (let i = 0; i < w && i < h && i < indicies.length; i++)
        {
            this.setAt(i, i, indicies[i] * this.getAt(i, i));
        }
    };
    
    this.getWidth = function()
    {
        return w;
    };
    
    this.getHeight = function()
    {
        return h;
    };
    
    this.toIdentity = function()
    {
        var y;
        for (var x = 0; x < w; x++)
        {
            for (y = 0; y < h; y++)
            {
                if (x == y)
                {
                    this.setAt(x, y, 1);
                }
                else
                {
                    this.setAt(x, y, 0);
                }
            }
        }
        
        return this;
    };
    
    this.toRightMulTranslateMatrix = function(translate)
    {
        this.toIdentity();
        
        for (var i = 0; i < translate.length && i < h - 1; i++)
        {
            this.setAt(w - 1, i, translate[i]);
        }
    };
    
    this.translate = function(translation)
    {
        for (var i = 0; i < translation.length && i < h - 1 && i < w - 1; i++)
        {
            if (this.rightMulTransform)
            {
                this.setAt(w - 1, i, this.getAt(w - 1, i) + translation[i]);
            }
            else
            {
                this.setAt(i, h - 1, this.getAt(i, h - 1) + translation[i]);
            }
        }
    };
    
    this.zoomCenter = function(zoom, width, height)
    {
        if (zoom < 1)
        {
            this.translate([width / 2, height / 2]);
        }
    
        this.multiplyScalar(zoom);
        
        if (zoom > 1)
        {
            this.translate([-width / 2, -height / 2]);
        }
    };
    
    this.getCopy = function()
    {
        return (new Mat(w, h)).fromArray(this.getArrayCopy());
    };
    
    this.multiplyRowByScalar = function(rowIndex, scalar)
    {
        for (var x = 0; x < w; x++)
        {
            this.setAt(x, rowIndex, this.getAt(x, rowIndex) * scalar);
        }
    };
    
    this.addConstantMultipleOfRowToRow = function(rowFromIndex, rowToIndex, scalar)
    {
        var rowFromValue, rowToValue;
        
        for (var x = 0; x < w; x++)
        {
            rowFromValue = this.getAt(x, rowFromIndex);
            rowToValue = this.getAt(x, rowToIndex);
            
            this.setAt(x, rowToIndex, rowToValue + rowFromValue * scalar);
        }
    };
    
    this.getInverse = function()
    {
        var moveToIdentity = this.getCopy();
        
        var moveToInverse = new Mat(w, h);
        moveToInverse.toIdentity();
        
        var x = 0, y = 0, diagonalValue = 0, scalar;
        for (x = 0; x < w; x++)
        {
            diagonalValue = moveToIdentity.getAt(x, x);
            
            // No inverse can be found using this method.
            //Return the closest value to the inverse, log
            //an error message.
            if (diagonalValue === 0)
            {
                console.warn("Error (Finding Inverse): Diagonal values cannot be zero!");
                return moveToInverse;
            }
            
            // Make the diagonal value 1.
            scalar = 1 / diagonalValue;
            
            moveToIdentity.multiplyRowByScalar(x, scalar);
            moveToInverse.multiplyRowByScalar(x, scalar);
            
            // Make all others in that column zero.
            for(y = 0; y < h; y++)
            {
                // If the row indicies match, skip
                //(the diagonal shouldn't be zero!)
                if (x === y)
                {
                    continue;
                }
                
                scalar = -moveToIdentity.getAt(x, y);
                moveToIdentity.addConstantMultipleOfRowToRow(x, y, scalar);
                moveToInverse.addConstantMultipleOfRowToRow(x, y, scalar);
            }
        }
        
        return moveToInverse;
    };
    
    this.transpose = function()
    {
        var result = new Mat(h, w);
        var y;
        
        for (var x = 0; x < w; x++)
        {
            for (y = 0; y < h; y++)
            {
                result.setAt(y, x, me.getAt(x, y));
            }
        }
        
        return result;
    };
    
    this.getTranspose = this.transpose;

    this.transposeAndSet = function()
    {
        me.result = me.transpose().result;

        const oldW = me.w;
        me.w = me.h;
        me.h = oldW;
    };
    
    this.save = function()
    {
        saveStack.push(this.getArrayCopy());
        
        // If the save stack is getting long, warn.
        if (saveStack.length > 10000)
        {
            console.warn("SaveStack.length = " + saveStack.length + ". Check for resource leaks.");
            window.leakedMat = this;
        }
    };
    
    this.restore = function()
    {
        if (saveStack.length > 0)
        {
            var restoreTo = saveStack.pop();
            
            this.fromArray(restoreTo); // ".content = restoreTo" should be faster than fromArray.
        }
    };
    
    this.toString = function(roundTo)
    {
        roundTo = roundTo || 3;
        
        var result = "[\n";
        
        var strings = [];
        
        var colStrings = [];
        
        var x, y, currentString, maxStringLengthInCol = 0, roundingMultiplier = Math.pow(10, roundTo);
        for (x = 0; x < w; x++)
        {
            maxStringLengthInCol = 0;
            colStrings = [];
            
            for (y = 0; y < h; y++)
            {
                currentString = (Math.floor(this.getAt(x, y) * roundingMultiplier) / roundingMultiplier) + "";
                
                if (currentString.indexOf(".") == -1)
                {
                    currentString += ".";
                }
                
                colStrings.push(currentString);
                
                maxStringLengthInCol = Math.max(currentString.length, maxStringLengthInCol);
            }
            
            for (y = 0; y < h; y++)
            {
                while (colStrings[y].length < maxStringLengthInCol)
                {
                    colStrings[y] += "0";
                }
            }
            
            strings.push(colStrings);
        } 
        
        for (y = 0; y < h; y++)
        {
            for (x = 0; x < w; x++)
            {
                result += " " + strings[x][y];
            }
            
            result += "\n";
        }
        
        result += "]";
        
        return result;
    };
}

function Mat44()
{
    var me = this;
    
    Mat.call(me, 4, 4);
    
    var transform = function(transformMatrix)
    {
        if (me.rightMulTransform)
        {
            me.rightMulAndSet(transformMatrix);
        }
        else
        {
            me.leftMulAndSet(transformMatrix.transpose());
        }
    };
    
    this.rotateX = function(dTheta)
    {
        var transformMatrix = Mat44Helper.getXRotationMatrix(dTheta);
        
        transform(transformMatrix);
    };
    
    this.rotateY = function(dTheta)
    {
        var transformMatrix = Mat44Helper.getYRotationMatrix(dTheta);
        
        transform(transformMatrix);
    };
    
    this.rotateZ = function(dTheta)
    {
        var transformMatrix = Mat44Helper.getZRotationMatrix(dTheta);
        
        transform(transformMatrix);
    };
}

var MatHelper = {};
var Mat33Helper = {};
var Mat44Helper = {};

/*
 This can be derived using y = r*sin(a), x = r*cos(a),
 y' = r*sin(a + da), and x' = r*cos(a + da). y' and x' can
 then be expanded using trigenometric identities (derivable from
 exp(ix + iy) = cos(x+y) + i*sin(x + y) 
 exp(ix + iy) = exp(ix) * exp(iy) = (cos(x) + i*sin(x))*(cos(y) + i*sin(y)).
*/
Mat33Helper.getRotationRightMulMatrix = function(deltaTheta)
{
    var result = new Mat(3, 3);
    result.toIdentity();
    
    result.setAt(0, 0, Math.cos(deltaTheta));
    result.setAt(1, 0, -Math.sin(deltaTheta));
    result.setAt(0, 1, Math.sin(deltaTheta));
    result.setAt(1, 1, Math.cos(deltaTheta));
    
    return result;
};

Mat44Helper.getXRotationMatrix = function(deltaTheta)
{
    var result = new Mat(4, 4);
    result.toIdentity();
    
    var cosValue = Math.cos(deltaTheta);
    var sinValue = Math.sin(deltaTheta);
    
    result.setAt(1, 1, cosValue);
    result.setAt(2, 1, sinValue);
    result.setAt(1, 2, -sinValue);
    result.setAt(2, 2, cosValue);
    
    return result;
};

Mat44Helper.getYRotationMatrix = function(deltaTheta)
{
    var result = new Mat(4, 4);
    result.toIdentity();
    
    var cosValue = Math.cos(deltaTheta);
    var sinValue = Math.sin(deltaTheta);
    
    result.setAt(0, 0, cosValue);
    result.setAt(2, 0, -sinValue);
    result.setAt(0, 2, sinValue);
    result.setAt(2, 2, cosValue);
    
    return result;
};

Mat44Helper.getZRotationMatrix = function(deltaTheta)
{
    var result = new Mat(4, 4);
    result.toIdentity();
    
    var cosValue = Math.cos(deltaTheta);
    var sinValue = Math.sin(deltaTheta);
    
    result.setAt(0, 0, cosValue);
    result.setAt(1, 0, -sinValue);
    result.setAt(0, 1, sinValue);
    result.setAt(1, 1, cosValue);
    
    return result;
};

Mat44Helper.fromArray = function(array)
{
    var result = new Mat44();
    result.fromArray(array);
    
    return result;
};

// Get a matrix (for right multiplication) that positions the camera
//such that it sees lookAt and up is up.
Mat44Helper.createLookAtMatrix = function(cameraPosition, lookAt, up)
{
    var zAxis = lookAt.subtract(cameraPosition);
    var yAxis = up.cross(zAxis);
    var xAxis = yAxis.cross(zAxis);
    
    xAxis.normalize();
    yAxis.normalize();
    zAxis.normalize();
    
    return Mat44Helper.createAxisTransformMatrix(xAxis, yAxis, zAxis, cameraPosition);
};

// Create an axis transform matrix.
//See webglfundamentals.org.
//TODO Double-check this refrence URL.
Mat44Helper.createAxisTransformMatrix = function(xAxis, yAxis, zAxis, origin)
{
    var result = Mat44Helper.fromArray(
    [
        xAxis.x, xAxis.y, xAxis.z, origin.x,
        yAxis.x, yAxis.y, yAxis.z, origin.y,
        zAxis.x, zAxis.y, zAxis.z, origin.z,
        0,       0,       0,       1
    ]);
    
    return result;
};

// Note: Aspect is height / width.
//zMin = zNear, zMax = zFar. Note that with this 
//view matrix, positive z is into the screen.
// This matrix is designed for right-multiplication,
//so be sure to transpose it if using for left-multiplication!
Mat44Helper.frustumViewMatrix = function(aspect, fovY, zMin, zMax)
{
    /*
        Note: result[x, y] denotes the (y + 1)th row and the (x + 1)th column
        of the resultant matrix.
    
        A reminder on how this works:
            For every point in world-space, x, y, and z must be scaled between -1 and 1 (clip-space).
            This can be done using a frustum (the shape below).
                              yMax (FOR ALL POINTS)
                             /|
                            / |
                  +y       [  |                                 < ---]
                   ^      /[  |                                      ]
                   |  yMin (FOR ALL POINTS)                          ]
                   |    /  [  |                                      ]
                   |   /|  P  |                 < ---]               ]  yMax (FOR THE
                   |  / |  [  |                      ]               ]  CURRENT POINT).
                   | /  |  [  |                      ]  P_y          ]
                   |/   |  [  |                      ]               ]
            CAMERA /)A  | P_z | ----------> +z  < ---]          < ---]
                       zMin  zMax
                       
            Consider a point, P and scaled point Q.
            
            To scale the y-component of P:
                Let A = fovY / 2.
                
                Define yMax to be the maximum P_y that can be displayed for the current P_z (before being clipped). This is labeled as "yMax (FOR THE CURRENT POINT)" on the diagram.
                
                Find yMax (For z = P_z):
                  tan(A)          = yMax / z
                  tan(A) * z      = yMax
                  yMax            = z * tan(A)
                
                Scale P_y:
                  Let y = P_y and y' = Q_y. (Where Q = P')
                  
                  y' = y / yMax                 Scale such that |y'| belongs to [0, 1].
                  y' = y / (z * tan(A))         Substitute.
                  y' = y / tan(A)
                        * (1 / z) < ------------ WebGL automatically divides by the w-component of gl_Position, so, a +1 is placed at result[2, 3] (zero-indexed) to set Q_z to w. 
                 
                  Based on this, result[1, 1] should be set to cot(A) to set y' to y / tan(A).
                
            To scale the x-component of P:
                Again, let x = P_x, y = P_y, z = P_z,
                    x' = Q_x, y' = Q_y, and z' = Q_z.
                
                Rather than providing separate fields of view for the x and y-axes, the x-axis is scaled with the y-axis.
                To prevent shapes generated from seeming "stretched," or "squished," we multiply the scaling factor by an "aspect ratio" -- the width / the height of the screen. This can be thought of as converting units -- from y-axis' units to the x-axis' units.
                
                x' = x * k * aspect_ratio where k = cot(A) * (1 / z) -- the scaling factor for P_y.
                x' = x * cot(A) / z * aspect_ratio (Note that x' is multiplied by -1 in the solution.
                                                    THIS IS A HACK. It compensates for an error somewhere
                                                    in the math and makes things work).
                
                From this, result[0, 0] is set to cot(A) * aspect_ratio. Note that the setting of result[2, 3] causes WebGL to divide x and y by z.
                
            To scale the z-component of P:
                P_z must be mapped from [zMin, zMax] to [-1, 1]. To do this, let
                z' = a / z + b -- scaling and shifting z to map between domains.
                Note that a division by z occurs -- WebGL automatically divides
                all components, even z by w, which we have set to z. This makes
                the math slightly more complicated for the z-component, but 
                less complicated for the x and y-components.
                
                To find a and b:
                    -1.0 = a / zMin + b and 1.0 = a / zMax + b
                    
                    -1.0 - a / zMin = b and 1.0 - a / zMax = b
                    -1.0 - a / zMin      =   1.0 - a / zMax
                    1.0 + a / zMin       =   a / zMax - 1.0
                    a / zMin - a / zMax  =   -2.0
a * zMax / (zMin * zMax) - a * zMin / (zMin * zMax)    =   -2.0
                    a * (zMax - zMin) / (zMin * zMax)  =   -2.0
                    a                                  =   -2.0 * zMin * zMax / (zMax - zMin)
                    
                    1.0 = a / zMax + b
                    1.0 = -2.0 * zMin * zMax / ((zMax - zMin) * zMax) + b
                    b   = 1.0 + 2 * zMin * zMax / (zMax * (zMax - zMin))
                    b   = 1.0 + 2 * zMin / (zMax - zMin), zMax != 0
                    so,
                    
                    z' = (-2.0 * zMin * zMax / (zMax - zMin)) / z + 1.0 + 2 * zMin / (zMax - zMin).
                
                    Assuming w = z,
                    result[3, 2] = a = -2.0 * zMin * zMax / (zMax - zMin)
                    
                    result[2, 2] = b = 1.0 + 2 * zMin / (zMax - zMin) <-- This part is multiplied
                                                                              by z, but then DIVIDED
                                                                              BY z BY WEBGL BECAUSE IT
                                                                              DIVIDES BY W.
        Sources:
            Matrix.js (Written 1 year ago).
            <stackoverflow link here>
    */
    
    // Calculate cot(fovY / 2).
    var cotValue = Math.tan(fovY / 2);
    
    // Uncomment for aid in debugging (like a unit-test,
    //but not as useful).
    //console.warn(1.0 + 2 * zMin / (zMax - zMin) + " b");
    //console.warn(-2.0 * zMin * zMax / (zMax - zMin) + " a");
    
    // Avoid division by zero.
    if (cotValue !== 0)
    {
        cotValue = 1 / cotValue;
    }
    else
    {
        // A very large number to approximate
        //the <u>+</u>Infinity produced by
        //1 / 0.
        cotValue = 999999999;
    }
    
    var result = Mat44Helper.fromArray(
    [
        cotValue * aspect, 0,        0,                              0,
        0,                 -cotValue, 0,                              0,
        0,                 0,        1.0 + 2 * zMin / (zMax - zMin), -2.0 * zMin * zMax / (zMax - zMin),
        0,                 0,        1,                              0
    ]);
    
    return result;
};

Mat33Helper.getTranslateMatrix = function(tX, tY)
{
    var result = new Mat(3, 3);
    result.toRightMulTranslateMatrix([tX, tY]);
    
    return result;
};

MatHelper.transformPoint = function(arrayVector, transformMatrix)
{
    var pointMatrix = new Mat(1, arrayVector.length);
    pointMatrix.content = arrayVector;
    
    pointMatrix.fromArray(pointMatrix.rightMul(transformMatrix).getArray());
};

// Inserted file SyntaxHelper.js encoding='utf-8'
"use strict";

var SyntaxHelper =
{
    END_OF_LINE: -12,
    COMMENT: "COMMENT",
    COMMENT_MULTI_LINE: "COMMENT_MULTI_LINE",
    COMMENT_HTML: "COMMENT_HTML",
    STRING: "QUOTE",
    NUMBER_START: "NUMBER_START",
    NUMBER_STOP: "NUMBER_STOP",
    STANDARD_SEPARATORS: ">(<, \t*%:-+/!=.){}[];",
    CSS_LABEL_SEPARATORS: "[],{}; :\t",
    SEARCH_ALL: { all: true },
    SINGLE_CHAR_SEPARATOR: "",
    NUMBER_SEPARATORS: ">(<, \t*%/!=){}",
    COMPARISON_SEARCH_SEPARATOR: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890 \t[]()_?!",

    LABEL_SINGLE: "SINGLE_LABEL",
    LABEL_START: "START_LABEL",
    LABEL_END: "END_LABEL",
    LABEL_CONTINUED: "CONTINUED_LABEL",

    SCRIPT_BLOCK: "SCRIPT_BLOCK",
    STYLE_BLOCK: "STYLE_BLOCK"
};

SyntaxHelper.regexps =
{
    NUMBER_START: new RegExp("(?:^|[\\( \\t\\=\\/\\+\\-\\#\\;])\\d+(?:[\\. \\t\\=\\/\\+\\-\\#\\;\\)\\,]|$)", "g"),
    NUMBER_STOP: new RegExp("\\.\\d+(?:[\\. \\t\\=\\/\\+\\-\\#\\;\\)\\,]|$)", "g")
};

SyntaxHelper.highlighters = { "js": new JavaScriptHighlightScheme(), "css": new CSSSyntaxHighlightScheme(), "html": new HTMLSyntaxHighlightScheme(),
                    "sh": new BashHighlightScheme(),
                    "java": new JavaHighlightScheme(),
                    "python": new PythonHighlightScheme() };

SyntaxHelper.fileExtensionToHighlighterMap =
{
    js: SyntaxHelper.highlighters.js,
    css: SyntaxHelper.highlighters.css,
    html: SyntaxHelper.highlighters.html,
    htm: SyntaxHelper.highlighters.html,
    sh: SyntaxHelper.highlighters.sh,
    java: SyntaxHelper.highlighters.java,
    py: SyntaxHelper.highlighters.python
};

SyntaxHelper.getStillOpenBrackets = function(text, 
        bracketOpenChar, bracketCloseChar, countOpenBefore,
        quoteChars, inQuote)
{
    var result = countOpenBefore || 0;
    var currentChar;
    
    var inQuote = inQuote || false;
    
    quoteChars = quoteChars || {};
    
    for (let i = 0; i < text.length; i++)
    {
        currentChar = text.charAt(i);
        
        if (currentChar === bracketOpenChar && !inQuote)
        {
            result ++;
        }
        else if (currentChar === bracketCloseChar && !inQuote)
        {
            result --;
        }
        else if (quoteChars[currentChar])
        {
            inQuote = !inQuote;
        }
    }
    
    return result;
};

function SyntaxChecker()
{
    const me = this;
    
    this.state = {};
    
    this.quoteChars =
    {
        "'": true,
        '\"': true,
        '`': true
    };
    
    this.navigationHelper =
    {
        levelCheckChars: [["[", "]"],
                          ["{", "}"],
                          ["(", ")"]],
                          
        // Note: THIS MUST BE CALLED FOR EVERY LINE,
        //in order of the line's number -- lineNo should
        //increase by 1 each call.       
        recordLevel: (state, text, lineNo) =>
        {
            if (!state.subZero)
            {
                state.subZero = {};
            }
            
            if (state.lastLineWithBracketCheck === lineNo)
            {
                console.log ("Error: state.lastLineWithBracketCheck === lineNo === " + lineNo);
                
                return;
            }
            
            state.lastLineWithBracketCheck = lineNo;
            
            var startLabel, endLabel;
        
            for (var i in me.navigationHelper.levelCheckChars)
            {
                startLabel = me.navigationHelper.levelCheckChars[i][0];
                endLabel = me.navigationHelper.levelCheckChars[i][1];
                
                if (state["openBrackets" + startLabel] === undefined)
                {
                    state["openBrackets" + startLabel] = [];
                }
                
                state["openBrackets" + startLabel][lineNo] = ( 
                  SyntaxHelper.getStillOpenBrackets(text, 
                    startLabel, 
                    endLabel, 
                    state["openBrackets" + startLabel][lineNo - 1] || 0,
                    me.quoteChars ));
                    
                state["openBrackets" + startLabel].length = lineNo + 1;
                    
                if (state["openBrackets" + startLabel] < 0)
                {
                    state.subZero[lineNo] = [startLabel, state["openBrackets"]];
                }
            }
        },
        
        getLastLineBelowLevel: (state, level, levelCheckChar) =>
        {
            var levelRecords = state["openBrackets" + levelCheckChar];
            
            for (let i = levelRecords.length - 1; i >= 0; i++)
            {
                if (levelRecords[i] < level)
                {
                    return i;
                }
            }
            
            return -1; // If -1 is returned, no lines were below
                       //the requested level.
        },
        
        getBracketsBelowOrAboveLevelOnLine: (state, lineNumber, level, belowLevel) =>
        {
            var currentGroupingCharacter, currentLevel;
            var count = {}; // Accumulates the number of open brackets on a specific line.
            
            // For/in for flexibility.
            for (var label in me.navigationHelper.levelCheckChars)
            {
                currentGroupingCharacter = me.navigationHelper.levelCheckChars[label][0];
                
                currentLevel = state["openBrackets" + currentGroupingCharacter][lineNumber];
                
                if (count[currentGroupingCharacter] === undefined)
                {
                    count[currentGroupingCharacter] = 0;
                }
                
                if (state["openBrackets" + currentGroupingCharacter][lineNumber] < level && belowLevel
                    || 
                    state["openBrackets" + currentGroupingCharacter][lineNumber] > level && !belowLevel)
                {
                    count[currentGroupingCharacter] = 1;
                }
            }
            
            return count;
        },
        
        getBracketsBelowLevelOnLine: (state, lineNumber, level) =>
        {
            return me.navigationHelper.getBracketsBelowOrAboveLevelOnLine(state, lineNumber, level, true);
        },
        
        getBracketsAboveLevelOnLine: (state, lineNumber, level) =>
        {
            return me.navigationHelper.getBracketsBelowOrAboveLevelOnLine(state, lineNumber, level, false);
        }
    };
    
    this.errorCheckers =
    {
        unendedString: (state, text) =>
        {
            var currentChar = "",
                lastChar    = "";
            var inSingleQuote = false;
            var inDoubleQuote = false;
            
            for (var i = 0; i < text.length; i++)
            {
                currentChar = text.charAt(i);
                
                if (currentChar === "'"
                    && lastChar !== '\\'
                     && !inDoubleQuote)
                {
                    inSingleQuote = !inSingleQuote;
                }
                else if (currentChar === '\"'
                    && lastChar !== '\\'
                    && !inSingleQuote)
                {
                    inDoubleQuote = !inDoubleQuote;
                }
                
                lastChar = currentChar;
            }
            
            return inSingleQuote || inDoubleQuote;
        },
        
        // Note that lineNo is the line number, where no
        //is a poor abbrievation for number. You might
        //want to rename this.
        bracketLevelError: (state, text, lineNo, isLastLine) =>
        {
            me.navigationHelper.recordLevel(state, text, lineNo);
            
            let message = undefined;
            
            // If any brackets have a level lesser than zero:
            var bracketsBelowZero = me.navigationHelper.getBracketsBelowLevelOnLine(state, lineNo, 0);
            
            if (JSON.stringify(bracketsBelowZero) != JSON.stringify(state.lastLineBelowZero || {}))
            {
                if (message === undefined)
                {
                    message = "";
                }
            
                var totalBelowZero = 0;
                
                for (var bracket in bracketsBelowZero)
                {
                    totalBelowZero += bracketsBelowZero[bracket];
                    
                    if (bracketsBelowZero[bracket] > 0)
                    {
                        message += "The bracket level for " + bracket + " is below zero. ";
                    }
                }
                
                state.lastLineBelowZero = bracketsBelowZero;
            }
            
            if (isLastLine)
            {
                var bracketsAboveZero = me.navigationHelper.getBracketsAboveLevelOnLine(state, lineNo, 0);
                
                var totalAboveZero = 0;
                
                for (var bracket in bracketsAboveZero)
                {
                    totalAboveZero += bracketsAboveZero[bracket];
                    
                    if (bracketsAboveZero[bracket])
                    {
                        message = message || "";
                        message += "Bracket " + bracket + " has no end. ";
                    }
                }
            }
            
            return message;
        }
    };
    
    this.checkFunctions =
    {
        "Line Level Check": me.errorCheckers.bracketLevelError
    };

    this.reset = function()
    {
        me.state = {};
        me.state.problems = [];
    };
    
    this.setBaseProblems = function(baseProblems)
    {
        me.state.problems = baseProblems;
    };

    this.checkLine = function(lineText, lineNumber, lastLine, lineLabels)
    {
        var currentMessage = undefined;
        
        if (lineText === undefined)
        {
            return;
        }
        
        for (var key in me.checkFunctions)
        {
            currentMessage = me.checkFunctions[key](me.state, lineText, lineNumber, lastLine || false);
            
            if (currentMessage)
            {
                me.state.problems.push(
                {
                    check: key,
                    lineNumber: lineNumber,
                    lineText: lineText,
                    message: currentMessage
                });
            }
        }
    };
    
    this.checkFinalLine = function(lineText, lineNumber, lineLabels)
    {
        me.checkLine(lineText, lineNumber, true);
    };
    
    this.getProblems = function()
    {
        return me.state.problems;
    };
}

SyntaxHelper.makeChecker = () =>
{
    return new SyntaxChecker();
};


function SyntaxSelector(initialHighlightScheme)
{
    const me = this;
    me.baseColor = "white";
    me.highlightScheme = initialHighlightScheme || (new HTMLSyntaxHighlightScheme());

    this.setDefaultHighlightScheme = function(key)
    {
        if (typeof (key) === "string")
        {
            if (key in SyntaxHelper.fileExtensionToHighlighterMap)
            {
                me.highlightScheme = SyntaxHelper.fileExtensionToHighlighterMap[key];
                return true;
            }
        }
        else if (typeof (key) === "object")
        {
            me.highlightScheme = key;

            return true;
        }

        return false;
    };

    this.getDefaultHighlighter = function()
    {
        return me.highlightScheme;
    };

    this.setDefaultHighlighter = function(key)
    {
        me.setDefaultHighlightScheme(key);
    };

    this.getBaseColor = function()
    {
        return me.baseColor;
    };

    /* Give only applicable labels. */
    this.getColor = function(labels)
    {
        let j, k, l, currentLabel, samePrecedenceLabels;

        let sortedLabels = getDepthSortedLabels(labels);

        /* Do any request a specific highlighter? */
        let isMissingDependency = me.getMissingDependencyCheck(labels);//, sortedLabels);
        let highlightScheme = me.getHighlightScheme(labels, isMissingDependency, sortedLabels);

        /* DANGER! This loop returns! */
        for (let i = 0; i < highlightScheme.labelPrecedence.length; i++)
        {
            /* If there are multiple labels with the same precedence,
            choose the one that started first. */
            if (typeof (highlightScheme.labelPrecedence[i]) === "object")
            {
                samePrecedenceLabels = [];
                for (j = 0; j < highlightScheme.labelPrecedence[i].length; j++)
                {
                    currentLabel = highlightScheme.labelPrecedence[i][j];

                    if (currentLabel in labels)
                    {
                        for (k = 0; k < labels[currentLabel].length; k++)
                        {
                            if (!isMissingDependency(labels[currentLabel][k]))
                            {
                                samePrecedenceLabels.push(labels[currentLabel][k]);
                            }
                        }
                    }
                }

                /* Sort the labels by which occurs first. */
                samePrecedenceLabels.sort(function(first, second)
                {
                    return first.startIndex - second.startIndex;
                });

                /* Choose the first, if any, that is applicable. */
                if (samePrecedenceLabels.length > 0)
                {
                    return highlightScheme.labelMap[samePrecedenceLabels[0].tagName];
                }
            }
            else /* Otherwise, if only one with the same precedence, */
            {
                currentLabel = highlightScheme.labelPrecedence[i];

                if (currentLabel in labels)
                {
                    let missingDependencyCount = 0;

                    for (l = 0; l < labels[currentLabel].length; l++)
                    {
                        if (isMissingDependency(labels[currentLabel][l]))
                        {
                            missingDependencyCount++;
                        }
                    }

                    if (missingDependencyCount !== labels[currentLabel].length)
                    {
                        return highlightScheme.labelMap[currentLabel];
                    }
                }
            }
        }

        /* No matching tags... */
        return me.getBaseColor();
    };

    this.getLabelIndicies = function(text, indexOffset, highlightScheme)
    {
        highlightScheme = highlightScheme || me.highlightScheme;

        var result = {};
        indexOffset = indexOffset || 0;

        var noteLabel = function(labelName, indexStart, indexStop, labelType, linkTo)
        {
            if (!result[labelName])
            {
                result[labelName] = [];
            }

            if (indexStart >= 0)
            {
                indexStart += indexOffset;
            }

            if (indexStop >= 0)
            {
                indexStop += indexOffset;
            }

            if (highlightScheme.labelExtensions && highlightScheme.labelExtensions.end[labelName] && indexStop >= 0
                    && labelType !== SyntaxHelper.LABEL_START)
            {
                if (labelType === SyntaxHelper.LABEL_END)
                {
                    indexStart += highlightScheme.labelExtensions.end[labelName];
                }

                indexStop += highlightScheme.labelExtensions.end[labelName];
            }

            if (highlightScheme.labelExtensions && highlightScheme.labelExtensions.start[labelName] && indexStart >= 0
                    && labelType !== SyntaxHelper.LABEL_END)
            {
                if (labelType === SyntaxHelper.LABEL_START)
                {
                    indexStop += highlightScheme.labelExtensions.start[labelName];
                }

                indexStart += highlightScheme.labelExtensions.start[labelName];
            }

            let newLabel = new SyntaxLabel(labelName, indexStart, indexStop, labelType, linkTo);

            result[labelName].push(newLabel);

            return newLabel;
        };

        var handlePart = function(labelName, partContent, partIndex)
        {
            var handledPart = false;
            var startRegex = highlightScheme.labelSearchRegexes.start[labelName];
            var stopRegex = highlightScheme.labelSearchRegexes.end[labelName];

            var handleRegex = function(content, regex, markerType, mirrorLabels)
            {
                var lastIndex = -1, regexResult, currentIndex, currentEndIndex, mirrorLabel = undefined, shouldContinue,
                        currentChar;
                let result = {};

                //console.warn(mirrorLabels);
                regex.lastIndex = 0;

                do
                {
                    regexResult = regex.exec(content);

                    if (regexResult != null)
                    {
                        currentIndex = regexResult.index;
                        currentEndIndex = regex.lastIndex;

                        if (currentIndex > 0 && content.charAt(currentIndex - 1) === "\\")
                        {
                            shouldContinue = false;
                            
                            let walkbackIndex = 1, count = 0;
                            
                            do
                            {
                                currentChar = content.charAt(currentIndex - walkbackIndex);
                                
                                count++;
                                
                                walkbackIndex++;
                            }
                            while (currentChar === "\\" && currentIndex - walkbackIndex >= 0);
                            
                            if (count % 2 === 0) // === because count++ also happens for first non backslash character.
                            {
                                continue;
                            }
                        }

                        if (mirrorLabels && currentIndex in mirrorLabels && mirrorLabels[currentIndex].end === currentEndIndex
                            && mirrorLabels[currentIndex].content == regexResult[0])
                        {
                            mirrorLabel = mirrorLabels[currentIndex].label;
                        }

                        result[currentIndex] = { end: currentEndIndex, label: noteLabel(labelName, currentIndex, currentEndIndex, markerType, mirrorLabel),
                                                 content: regexResult[0] };
                    }
                    else
                    {
                        break;
                    }
                }
                while (lastIndex < currentIndex);

                return result;
            };

            var startLabels = [];

            if (startRegex && startRegex.exec)
            {
                startLabels = handleRegex(partContent, startRegex, SyntaxHelper.LABEL_START);

                handledPart = true;
            }

            if (stopRegex && stopRegex.exec)
            {
                handleRegex(partContent, stopRegex, SyntaxHelper.LABEL_END, startLabels);

                handledPart = true;
            }

            // If another method was not used,
            //check whether the part is equivalent to
            //the label's name.
            if (!handledPart)
            {
                if (partContent === labelName)
                {
                    noteLabel(labelName, partIndex - labelName.length, partIndex, SyntaxHelper.LABEL_SINGLE);
                }
            }
        };

        var handleLabel = function(labelName)
        {
            // Check for a splitting method...
            if (highlightScheme.labelSearchSeparators[labelName] !== SyntaxHelper.SEARCH_ALL)
            {
                // Use the standard separator if none were specified.
                var splitMethod = highlightScheme.labelSearchSeparators[labelName] !== undefined ? highlightScheme.labelSearchSeparators[labelName] : SyntaxHelper.STANDARD_SEPARATORS;
                var splitChars = {};
                var index;

                var splitAll = (splitMethod === SyntaxHelper.SINGLE_CHAR_SEPARATOR || splitMethod.length === 0);
                var indexShift = 0;

                if (splitAll)
                {
                    indexShift = 1;
                }

                var buffer = "", currentChar;

                for (index = 0; index < splitMethod.length; index++)
                {
                    currentChar = splitMethod.charAt(index);

                    // Note the current character's usability as a split character.
                    splitChars[currentChar] = true;
                }

                // Handle each part of the text.
                for (index = 0; index <= text.length; index++)
                {
                    // If a character is to be accessed,
                    if (index < text.length)
                    {
                        currentChar = text.charAt(index);
                    }

                    // If ending, or the current character is to be used to split segments,
                    if (index === text.length || (splitAll && currentChar !== "\\") || currentChar in splitChars)
                    {
                        if (splitAll && index !== text.length)
                        {
                            buffer += currentChar;
                        }

                        //console.log("Handling part: " + buffer + " at index " + index + ". Label: " + labelName + ".");
                        handlePart(labelName, buffer, index + indexShift, highlightScheme);

                        buffer = "";
                    }
                    else // Otherwise, add to the buffer.
                    {
                        buffer += currentChar;
                    }
                }
            }
            else
            {
                handlePart(labelName, text, 0, highlightScheme);
            }
        };

        /* For all findable labels... */
        for (var labelName in highlightScheme.labelMap)
        {
            handleLabel(labelName);
        }

        return result;
    };

    this.labelCanMultiLine = function(labelName, highlightScheme)
    {
        highlightScheme = highlightScheme || me.highlightScheme;

        if (highlightScheme.multiLineLabels && labelName in highlightScheme.multiLineLabels)
        {
            return highlightScheme.multiLineLabels[labelName];
        }

        return false;
    };

    var getDepthSortedLabels = function(appliedLabels)
    {
        var allLabels = [];
        var i;

        for (var label in appliedLabels)
        {
            for (i = 0; i < appliedLabels[label].length; i++)
            {
                allLabels.push(appliedLabels[label][i]);
            }
        }

        allLabels.sort((a, b) => (a.depth - b.depth));

        return allLabels;
    };

    this.getHighlightScheme = function(appliedLabels, missingDependencyCheck, sortedLabels)
    {
        var allLabels = sortedLabels || getDepthSortedLabels(appliedLabels);

        var highlightSignificantLabels = [];
        var lastHighlighter = me.highlightScheme;

        for (var i = 0; i < allLabels.length; i++)
        {
            if (lastHighlighter.highlightSchemeSpecificLabels[allLabels[i].tagName] && !missingDependencyCheck(allLabels[i]))
            {
                lastHighlighter = lastHighlighter.highlightSchemeSpecificLabels[ allLabels[i].tagName ];

                //console.log("SWITCHED HIGHLIGHTER AT REQUEST OF " + allLabels[i].tagName);
            }
        }

        return lastHighlighter;
    };

    this.getMissingDependencyCheck = function(appliedLabels)
    {
        var allLabelIds = {};
        var i = 0;

        for (var labelName in appliedLabels)
        {
            for (i = 0; i < appliedLabels[labelName].length; i++)
            {
                allLabelIds[appliedLabels[labelName][i].getId()] = true;//appliedLabels[labelName][i];
            }
        }

        //console.log(allLabelIds);

        // Whether MISSING a dependency.
        var depCheck =
        (labelObject) =>
        {
            //console.log(labelObject.dependsOn);

            for (var key in labelObject.dependsOn)
            {
                if (!allLabelIds[key])
                {
                    return true;
                }
            }

            return false;
        };

        return depCheck;
    };

    this.labelSwapsHighlighter = function(label, highlighter)
    {
        return highlighter.highlightSchemeSpecificLabels[label] !== undefined;
    };
}

let __LABEL_ID__ = 0;
function SyntaxLabel(tagName, startIndex, endIndex, labelType, linkTo)
{
    const me = this;

    this.tagName = tagName;

    this.startIndex = startIndex || 0;
    this.endIndex = endIndex !== undefined ? endIndex : SyntaxHelper.END_OF_LINE;
    this.labelType = labelType;
    this.linkedTo = linkTo;
    this.labelId = (__LABEL_ID__++);
    this.dependsOn = {};
    this.depth = 0;

    var disabled = false;

    this.equivalentTo = function(other)
    {
        return me.startIndex === other.startIndex && me.endIndex === other.endIndex && me.labelType === other.labelType && me.tagName === other.tagName;
    };

    this.clearDependencies = function()
    {
        me.dependsOn = {};
        me.depth = 0;
    };

    this.getDependsOn = function(other)
    {
        return me.dependsOn[other.labelId] != undefined;
    };

    this.addDependency = function(newDependency)
    {
        this.dependsOn[newDependency.labelId] = true;
        me.depth ++;
    };

    this.getId = function()
    {
        return me.labelId;
    };

    this.disable = function()
    {
        disabled = true;
    };

    this.getDisabled = function()
    {
        return disabled;
    };
};

function SyntaxTracker(currentLine, previousLine, nextLine, syntaxSelector)
{
    const me = this;

    me.currentLine = currentLine;
    me.nextLine = nextLine || null;
    me.previousLine = previousLine || null;
    me.syntaxSelector = syntaxSelector;

    me.labels = {};
    me.continuedLabels = {};

    var linkLabels = function(forbiddenStartIndicies, labelSubset, highlightScheme)
    {
        var labelIndex, currentLabel, startingLabels = [], endingLabels = [], unendedLabels = [];
        var labels = labelSubset || me.labels;


        // Check whether new continued labels are to be created...
        for (var labelName in labels)
        {
            for (labelIndex = 0; labelIndex < labels[labelName].length; labelIndex++)
            {
                currentLabel = labels[labelName][labelIndex];

                // If a starting label...
                if (currentLabel.labelType === SyntaxHelper.LABEL_START
                        && !(currentLabel.startIndex in forbiddenStartIndicies))
                {
                    startingLabels.push(currentLabel);
                }
                else if (currentLabel.labelType === SyntaxHelper.LABEL_END)
                {
                    endingLabels.push(currentLabel);

                    //console.log(currentLabel.tagName);
                }
            }
        }

        var testIndex, matchedWith;

        // Search for ending labels for every starting label.
        //Unfortunately, this is quadratic... TODO Fix this.
        for (labelIndex = 0; labelIndex < startingLabels.length; labelIndex++)
        {
            currentLabel = startingLabels[labelIndex];

            if (currentLabel.getDisabled())
            {
                continue;
            }

            matchedWith = undefined;

            for (testIndex = 0; testIndex < endingLabels.length; testIndex++)
            {
                if (endingLabels[testIndex].tagName === currentLabel.tagName && (endingLabels[testIndex].startIndex >= currentLabel.endIndex && currentLabel.endIndex !== SyntaxHelper.END_OF_LINE)
                    && (!matchedWith || matchedWith.endIndex > endingLabels[testIndex].endIndex || matchedWith.endIndex === SyntaxHelper.END_OF_LINE))
                {
                    matchedWith = endingLabels[testIndex];
                }
            }

            if (matchedWith)
            {
                me.labels[currentLabel.tagName].push(new SyntaxLabel(currentLabel.tagName, currentLabel.endIndex, matchedWith.endIndex, SyntaxHelper.LABEL_SINGLE));

                if (matchedWith.linkedTo)
                {
                    matchedWith.linkedTo.disable();
                }

                // If the label can be multi-line, and the next line has that label,
                if (me.nextLine && me.syntaxSelector.labelCanMultiLine(currentLabel.tagName, highlightScheme) && me.nextLine.syntaxTracker.hasLabelToEndOfLine(currentLabel.tagName))
                {
                    // Update the next line.
                    me.nextLine.requestRefresh();
                }
            }
            else
            {
                // Apply the label to the next line.
                if (me.nextLine && me.syntaxSelector.labelCanMultiLine(currentLabel.tagName, highlightScheme))
                {
                    me.nextLine.requestRefresh();//syntaxTracker.applyContinuingLabel(currentLabel.tagName);
                }

                // Make the label span to the end of the line.
                currentLabel.endIndex = SyntaxHelper.END_OF_LINE;
            }
        }
    };

    // DANGER!! Only to be used after clearing
    //me.labels, as this function adds its
    //continuedLabels to the current ones.
    var refreshContinuedLabels = function(noLink, preventAppendContinued)
    {
        var forbiddenStartIndicies = {}, hasContinuingStart;

        for (var label in me.continuedLabels)
        {
            hasContinuingStart = false;

            if (me.labels[label])
            {
                for (var i = 0; i < me.labels[label].length; i++)
                {
                    if (me.labels[label][i].labelType === SyntaxHelper.LABEL_START)
                    {
                        hasContinuingStart = true;

                        break;
                    }
                }
            }

            let endLabels = me.getEndLabels(label, 1);

            // If the previous line doesn't have
            //the label, don't apply it.
            if (me.previousLine && (!me.previousLine.syntaxTracker.hasLabel(label) || !me.previousLine.syntaxTracker.hasLabelToEndOfLine(label)))
            {
                delete me.continuedLabels[label];

                if (me.labels[label])
                {
                    delete me.labels[label];
                }

                if (me.nextLine && me.nextLine.syntaxTracker.hasLabel(label))
                {
                    me.nextLine.requestRefresh();
                }

                continue;
            }
            else if (me.continuedLabels[label].endIndex !== SyntaxHelper.END_OF_LINE && endLabels.length === 0)
            {
                me.continuedLabels[label].endIndex = SyntaxHelper.END_OF_LINE;

                if (me.nextLine && !me.nextLine.syntaxTracker.hasLabel(label))
                {
                    me.nextLine.requestRefresh();
                }
            }
            else if (endLabels.length > 0 && me.continuedLabels[label].endIndex !== endLabels[0].startIndex)
            {
                me.continuedLabels[label].endIndex = endLabels[0].startIndex;

                if (me.nextLine && me.nextLine.syntaxTracker.hasLabel(label))
                {
                    me.nextLine.requestRefresh();
                }
            }

            if (me.continuedLabels[label].endIndex !== SyntaxHelper.END_OF_LINE && me.nextLine && me.nextLine.syntaxTracker.hasLabelToEndOfLine(label))
            {
                me.nextLine.requestRefresh();
            }

            if (me.continuedLabels[label].endIndex === SyntaxHelper.END_OF_LINE && me.nextLine && !me.nextLine.syntaxTracker.hasLabel(label))
            {
                me.nextLine.requestRefresh();
            }

            if (!me.labels[label])
            {
                me.labels[label] = [];
            }

            if (!preventAppendContinued)
            {
                me.labels[label].push(me.continuedLabels[label]);
            }

            if (me.continuedLabels[label].endIndex != SyntaxHelper.END_OF_LINE)
            {
                forbiddenStartIndicies[me.continuedLabels[label].endIndex] = true;

                forbiddenStartIndicies[me.continuedLabels[label].startIndex] = true;
            }
        }

        if (!noLink)
        {
            linkLabels(forbiddenStartIndicies);
        }

        return forbiddenStartIndicies;
    };

    var lastRefreshTime = 0,//(new Date()).getTime(),
        awaitingTimeout = false,
        minRefreshDeltaT = 500;

    this.refreshHighliting = function(ignoreForDeltaT)
    {
        var nowTime = (new Date()).getTime();
        var dt = nowTime - lastRefreshTime;

        var doneRefreshing = false;

        var oncomplete = () => { doneRefreshing = true; };

        if (dt > minRefreshDeltaT || ignoreForDeltaT)
        {
            me.labels = me.syntaxSelector.getLabelIndicies(me.currentLine.text);

            // Check the previous line for multi-line labels to be extended.
            if (me.previousLine)
            {
                me.previousLine.syntaxTracker.applyAnyToBeContinuedLabels(me);
            }

            refreshContinuedLabels();

            //linkLabels();
            me.updateLabelDeps();

            me.checkAndHandleOtherHighlightSchemes(0, me.currentLine.text.length); // Check whether the current highlighter requests a change in highlighting. Discover new labels if it does.

            lastRefreshTime = nowTime;

            awaitingTimeout = false;

            oncomplete();
        }
        else if (!awaitingTimeout)
        {

            setTimeout(() => 
            {
                me.refreshHighliting();

                oncomplete();
            }, minRefreshDeltaT - dt);

            awaitingTimeout = true;
        }

        return new Promise((resolve, reject) =>
        {
            if (!doneRefreshing)
            {
                oncomplete = () => resolve();
            }
            else
            {
                resolve();
            }
        });
    };

    this.getTextInLabel = function(labelName, labelIndex)
    {
        var label = me.labels[labelName][labelIndex];
        var endIndex = label.endIndex;
        var startIndex = label.startIndex;

        //console.log("   End (prior to check in getText): " + endIndex);

        if (endIndex == SyntaxHelper.END_OF_LINE)
        {
            endIndex = me.currentLine.text.length;
        }

        //console.log("  Getting text from label, " + labelName + ", at index " + labelIndex + ". The text starts at " + startIndex + " and ends at " + endIndex + ".");

        return me.currentLine.text.substring(startIndex, endIndex);
    };

    var noteNewLabels = function(labelsMap)
    {
        let i = 0;

        for (var labelName in labelsMap)
        {
            if (!me.hasLabel(labelName))
            {
                me.labels[labelName] = [];
            }

            for (i = 0; i < labelsMap[labelName].length; i++)
            {
                me.labels[labelName].push(labelsMap[labelName][i]);
            }
        }
    };

    this.checkAndHandleOtherHighlightSchemes = function(startIndex, stopIndex, currentHighlighter, recursionDepth)
    {
        let i = 0, newHighlighter, additionalLabels,
            currentStart, currentEnd,
            currentLabel,
            getEndIndex = (labelObj) =>
            {
                return labelObj.endIndex !== SyntaxHelper.END_OF_LINE ? labelObj.endIndex : me.currentLine.text.length;
            };

        // If recursing more than 15 times, an error probably has occurred! Log and return.
        if (recursionDepth > 15)
        {
            console.error("recursionDepth > 15 (checkAndHandleOtherHighlightSchemes).");

            return false;
        }

        let handleLabel = (labelText, startIndex, endIndex) =>
        {
            newHighlighter = currentHighlighter.highlightSchemeSpecificLabels[labelName];

            additionalLabels = me.syntaxSelector.getLabelIndicies(labelText,
                        startIndex, newHighlighter
                        );



            noteNewLabels(additionalLabels);

            if (me.previousLine)
            {
                me.previousLine.syntaxTracker.applyAnyToBeContinuedLabels(me, true, newHighlighter);
            }


            let forbiddenStartIndicies = refreshContinuedLabels(true, true);
            linkLabels(forbiddenStartIndicies, additionalLabels, newHighlighter);
            me.updateLabelDeps();

            me.checkAndHandleOtherHighlightSchemes(currentStart,
                    currentEnd, newHighlighter, recursionDepth + 1);
        };

        currentHighlighter = currentHighlighter || me.syntaxSelector.highlightScheme;

        for (var labelName in currentHighlighter.highlightSchemeSpecificLabels)
        {
            if (me.hasLabel(labelName))
            {
                //console.log("Got the label " + labelName + "! START_CHECK: " + startIndex + "; STOP_CHECK: " + stopIndex + ", list: " + me.labels[labelName].join(", "));

                if (me.labels[labelName].length === 0)
                {
                    handleLabel(me.currentLine.text, 0, me.currentLine.text.length);
                }

                for (i = 0; i < me.labels[labelName].length; i++)
                {
                    currentLabel = me.labels[labelName][i];
                    currentStart = currentLabel.startIndex;

                    if (currentStart >= startIndex && currentStart <= stopIndex)
                    {
                        handleLabel(me.getTextInLabel(labelName, i), currentStart, getEndIndex(currentLabel));
                    }
                }
            }
        }
    };

    this.getEndLabels = function(label, maxNumber)
    {
        if (!(label in me.labels))
        {
            return [];
        }

        maxNumber = maxNumber || me.labels[label].length;

        var result = [];

        for (var i = 0; i < me.labels[label].length; i++)
        {
            if (me.labels[label][i].labelType === SyntaxHelper.LABEL_END)
            {
                result.push(me.labels[label][i]);

                if (result.length >= maxNumber)
                {
                    break;
                }
            }
        }

        return result;
    }

    this.getColorAtIndex = function(characterIndex)
    {
        var result = me.syntaxSelector.getBaseColor();

        var applicableLabels = {};

        var handleLabel = function(label)
        {
            if (label.startIndex <= characterIndex
                && (label.endIndex > characterIndex
                    || label.endIndex === SyntaxHelper.END_OF_LINE))
            {
                if (!applicableLabels[label.tagName])
                {
                    applicableLabels[label.tagName] = [];
                }

                applicableLabels[label.tagName].push(label);

                d += ", " + label.tagName;
            }
        };

        var d = "";
        var i;
        for (var labelName in me.labels)
        {
            for (i = 0; i < me.labels[labelName].length; i++)
            {
                handleLabel(me.labels[labelName][i]);
            }
        }

        //console.log(d);
        //console.log(me.labels);

        return me.syntaxSelector.getColor(applicableLabels);
    };

    this.applyContinuingLabel = function(label)
    {
        var endIndex = SyntaxHelper.END_OF_LINE;

        /* If the label does not exist... */
        if (!me.labels[label])
        {
            me.labels[label] = [];
        }
        else
        {
            var endLabel;

            for (var i = 0; i < me.labels[label].length; i++)
            {
                if (me.labels[label][i].labelType === SyntaxHelper.LABEL_END && (me.labels[label][i].startIndex < endIndex || endIndex === -1))
                {
                    endIndex = me.labels[label][i].startIndex;

                    endLabel = me.labels[label][i];
                    break;
                }
            }

            if (endLabel && endLabel.linkedTo)
            {
                endLabel.linkedTo.disable();
            }
        }

        let newLabel = new SyntaxLabel(label, 0, endIndex, SyntaxHelper.LABEL_CONTINUED);

        // DO NOT apply the label if it already exists.
        if (!me.continuedLabels[label] || !newLabel.equivalentTo(me.continuedLabels[label]))
        {
            me.labels[label].push(newLabel);
            me.continuedLabels[label] = newLabel;

            /* Wait, then apply the label to the following line. */
            if (me.nextLine && me.nextLine.syntaxTracker && endIndex == SyntaxHelper.END_OF_LINE)
            {
                me.nextLine.requestRefresh();
            }
        }
    };

    this.hasLabel = function(label)
    {
        return (label in me.labels);
    };

    this.hasLabelToEndOfLine = function(label)
    {
        if (!me.hasLabel(label))
        {
            return false;
        }

        for (var i = 0; i < me.labels[label].length; i++)
        {
            if (me.labels[label][i].endIndex === SyntaxHelper.END_OF_LINE && me.labels[label][i].labelType !== SyntaxHelper.LABEL_END)
            {
                return true;
            }
        }

        return false;
    };

    this.applyAnyToBeContinuedLabels = function(toLine, excludeContinuedLabels, highlighter)
    {
        var appliedLabels = {};

        if (!excludeContinuedLabels)
        {
            for (var label in me.continuedLabels)
            {
                if (label.endIndex === SyntaxHelper.END_OF_LINE && !appliedLabels[label] && me.hasLabelToEndOfLine(label) && !toLine.hasLabelToEndOfLine(label))
                {
                    toLine.applyContinuingLabel(label);
                    appliedLabels[label] = true;
                }
            }
        }

        for (var label in me.labels)
        {
            if (me.syntaxSelector.labelCanMultiLine(label, highlighter) && me.hasLabelToEndOfLine(label) && !appliedLabels[label] && !toLine.hasLabelToEndOfLine(label))
            {
                toLine.applyContinuingLabel(label);
                appliedLabels[label] = true;
            }
        }
    };

    /*
    Determine and set the precedence of all labels
    applied to this line. ACQUIRE THIS LIST BEFORE
    CALLING THIS.
    */
    this.updateLabelDeps = function()
    {
        let allLabels = [];
        let i = 0, j = 0;

        // TODO: Consider caching a copy of allLabels to
        //prevent its regeneration.
        for (var key in me.labels)
        {
            for (i = 0; i < me.labels[key].length; i++)
            {
                allLabels.push(me.labels[key][i]);

                me.labels[key][i].clearDependencies();
                me.labels[key][i].updateLabelDeps__tempEndIndex = undefined;
            }
        }

        // Sort the labels by starting-index.
        allLabels.sort((a, b) =>
        {
            return a.startIndex - b.startIndex;
        });

        let getLength = (label) =>
        {
            let endIndex = label.endIndex;

            if (label.endIndex === SyntaxHelper.END_OF_LINE)
            {
                endIndex = me.currentLine.text.length;
            }

            if (label.updateLabelDeps__tempEndIndex !== undefined)
            {
                endIndex = label.updateLabelDeps__tempEndIndex;
            }

            return endIndex - label.startIndex;
        };

        if (allLabels.length > 0)
        {
            let currentLength = 0;
            let currentEndIndex = 0;

            for (i = 0; i < allLabels.length; i++)
            {
                currentLength = getLength(allLabels[i]);
                currentEndIndex = allLabels[i].startIndex + currentLength;

                if (currentLength <= 1 || allLabels[i].labelType === SyntaxHelper.LABEL_START || allLabels[i].labelType === SyntaxHelper.LABEL_END)
                {
                    continue;
                }

                for (j = i + 1; j < allLabels.length && allLabels[j].startIndex < currentEndIndex; j++)
                {
                    allLabels[j].addDependency(allLabels[i]);

                    if (allLabels[j].startIndex + getLength(allLabels[j]) > currentEndIndex)
                    {
                        allLabels[j].endIndex = currentEndIndex;
                    }
                }
            }

            return true;
        }

        return false;
    };
}

// Inserted file Line.js encoding='utf-8'
"use strict";

var __lineIdCounter = 0;
function Line(ctx, parentEditor, x, y, h, myIndex)
{
    this.ctx = ctx;
    this.text = "";
    this.cursorPosition = 0;
    this.maxCursorPosition = 0;
    this.h = h;
    this.x = x;
    this.y = y;
    this.noXFocusCheck = true;
    this.parentEditor = parentEditor;
    this.hasFocus = false;
    this.hadFocus = false;
    this.syntaxTracker = new SyntaxTracker(this, null, null, parentEditor.syntaxSelector);
    
    this.lastModifiedTime = (new Date()).getTime();
    this.creationTime = (new Date()).getTime();
    this.id = "id_" + (__lineIdCounter++);

    this.lastRefreshText = "";
    this.refreshRequested = true;

    this.editable = true;
    this.onentercommand = null;
    this.setColorFunction = null;

    this.selRange = [];

    this.selColor = "#441164";
    this.color = "white";

    this.flaggedForRemoval = false;

    let me = this; // NON-CONST: ME IS SET WHEN CODE MUST 
                   // CHANGE CONTEXT.

    this.requestRender = function()
    {
        me.parentEditor.render();
    };

    this.requestRefresh = function()
    {
        me.refreshRequested = true;
    };

    this.render = function(index, trueIndex)
    {
        me.y = index * me.h + me.parentEditor.y;

        if (me.y + me.h < 0 || me.x + me.getWidth() < 0 || me.y > me.ctx.canvas.height)
        {
            return;
        }

        const codeEditing = me.parentEditor.isCodeEditing();

        me.refreshHighlitingIfNeeded(trueIndex);

        const getCharColor = function(index)
        {
            // If the user has requested that
            //this line be a specific color
            //(e.g an error message in a console)
            //show this color instead of any other.
            if (me.setColorFunction)
            {
                let colorSetResult = me.setColorFunction(index);
                
                // Did the function actually return a color?
                if (typeof colorSetResult == "string")
                {
                    return colorSetResult;
                }
            }
        
            if (!codeEditing)
            {
                return me.color;
            }

            /*
             Get the context of the current part of
             the line. Stop search with space characters,
             etc.
            */

            //console.log("CHAR: " + currentCharacter);

            const color = me.syntaxTracker.getColorAtIndex(index);

            return color;
        };
        
        const canvasWidth = me.ctx.canvas.width;

        var currentChar, x = me.x, y = me.y,
            hasSelection = me.hasSelection(),
            currentCharW;

        for (var i = 0; i <= me.text.length; i++)
        {
            me.ctx.save();

            if (i < me.text.length)
            {
                currentChar = me.text.charAt(i);

                currentCharW = me.ctx.measureText(currentChar).width;

                if (hasSelection && i >= me.selRange[0] && i < me.selRange[1])
                {
                    me.ctx.fillStyle = me.selColor;

                    me.ctx.fillRect(x, y, currentCharW, me.h);
                }
            }

            if (i === me.cursorPosition && me.hasFocus)
            {
                me.ctx.fillStyle = me.color;
                me.ctx.fillRect(x, y, 1, me.h * 0.99);
            }


            if (i < me.text.length)
            {
                me.ctx.fillStyle = getCharColor(i);

                me.ctx.fillText(currentChar, x, y);

                x += currentCharW;
            }

            me.ctx.restore();
            
            if (x > canvasWidth)
            {
                return;
            }
        }

        /* Show the entire selection! */
        if (hasSelection && (me.text.length === 0 || (me.selRange[1] === me.text.length)))
        {
            me.ctx.save();

            me.ctx.beginPath();
            me.ctx.fillStyle = me.selColor;
            me.ctx.fillRect(x, y, me.ctx.canvas.width, me.h);

            me.ctx.restore();
        }
    };

    this.getWidth = function()
    {
        return me.ctx.measureText(me.text).width;
    };

    this.checkCollision = function(index, point)
    {
        me.y = index * me.h + me.parentEditor.y;

        return (point.x > me.x && point.x < me.x + me.getWidth() || me.noXFocusCheck) && point.y > me.y && point.y < me.y + me.h;
    };

    this.handleClick = function(index, point, screenIndex)
    {
        if (me.checkCollision(screenIndex, point))
        {
            var x = me.x, newX, i;
            var currentChar;

            me.hasFocus = true;

            me.cursorPosition = me.text.length;

            for (i = 0; i < me.text.length; i++)
            {
                currentChar = me.text.charAt(i);

                newX = x + me.ctx.measureText(currentChar).width;

                if (x <= point.x && newX >= point.x)
                {
                    me.cursorPosition = i;
                }

                x = newX;
            }

            if (point.x < me.x)
            {
                me.cursorPosition = 0;
            }

            me.parentEditor.shiftViewIfNecessary(index, screenIndex);
        }
        else
        {
            me.hasFocus = false;
        }

        me.deselect();
    };

    this.prepareToHandleKey = function()
    {
        me.hadFocus = me.hasFocus;
    };

    this.afterHandleKey = function(myIndex)
    {
        if (me.hasFocus)
        {
            me.parentEditor.shiftViewIfNecessary(myIndex, me.text.length);
        } // Did the user transition focus away from us?
        else if (me.hadFocus)
        {
            // Refresh highlighting -- don't force it, but do ignore
            //timeouts.
            me.refreshHighlitingIfNeeded(myIndex, false, true);
        }
    };

    this.transitionFocus = function(fromLine, otherWayLine)
    {
        if (!fromLine)
        {
            return;
        }

        if (fromLine.hadFocus)
        {
            me.hasFocus = true;
            fromLine.hasFocus = false;

            me.cursorPosition = Math.max(fromLine.cursorPosition, fromLine.maxCursorPosition);

            me.maxCursorPosition = me.cursorPosition;

            me.cursorPosition = Math.min(me.text.length, me.cursorPosition);
            
            return () =>
            {
                me.hadFocus = true;
            
                return fromLine.transitionFocus(me);
            };
        }

        if (me.hadFocus && otherWayLine)
        {
            me.hasFocus = false;
            
            return () =>
                me.transitionFocus(otherWayLine);
        }
    };

    this.lrTransitionFocus = function(toLine, direction)
    {
        if (me.hadFocus)
        {
            if (me.cursorPosition + direction >= 0 && me.cursorPosition + direction <= me.text.length)
            {
                me.cursorPosition += direction;
                
                // Returns an undo function.
                return () => 
                {
                    return me.lrTransitionFocus(toLine, -direction);
                };
            }
            else if (toLine)
            {
                me.hasFocus = false;

                toLine.hasFocus = true;

                if (direction < 0)
                {
                    toLine.cursorPosition = toLine.text.length;
                }
                else
                {
                    toLine.cursorPosition = 0;
                }
                
                // Return an undo function.
                return () =>
                {
                    return toLine.lrTransitionFocus(me, -direction);
                };
            }
        }
    };

    this.handleKey = function(key, lineAbove, lineBelow, myIndex, ignoreSpecial)
    {
        if (!me.hasFocus && !me.hadFocus && !me.hasSelection() && lineAbove
            && lineBelow && !lineAbove.hadFocus && !lineBelow.hadFocus)
        {
            return;
        }

        var added = false, undoResult = null;
        
        let topLevelArguments = arguments;
        
        let generalRedo = () =>
        {
            return me.handleKey.apply(me, topLevelArguments);
        };

        if (!ignoreSpecial)
        {
            if (key === "🔽" || key === "ArrowDown")
            {
                undoResult = me.transitionFocus(lineAbove, lineBelow);
                
                me.refreshHighlitingIfNeeded(myIndex, false, true);

                added = true;
            }
            else if (key === "🔼" || key === "ArrowUp")
            {
                undoResult = me.transitionFocus(lineBelow, lineAbove);
                
                me.refreshHighlitingIfNeeded(myIndex, false, true);

                added = true;
            }
            else if (key === "◀️" || key === "ArrowLeft")
            {
                undoResult = me.lrTransitionFocus(lineAbove, -1);

                added = true;

                me.maxCursorPosition = 0;
            }
            else if (key === "▶️" || key === "ArrowRight")
            {
                undoResult = me.lrTransitionFocus(lineBelow, 1);

                added = true;

                me.maxCursorPosition = 0;
            }
        }

        var hasSelection = me.hasSelection();

        if (hasSelection && !added && me.parentEditor.editable && me.editable)
        {
            let oldText = me.text + "";
            
            let oldHasFocus = me.hasFocus;
            
            const selStart = me.selRange[0],
                  selEnd = me.selRange[1],
                  cursorPosition = me.cursorPosition;
            
            let removeAction = () =>
            {
                me.text = me.text.substring(0, selStart) + me.text.substring(selEnd);

                me.cursorPosition = selStart;

                me.deselect();
                
                return undoResult;
            };
            
            undoResult = (lineHelper) =>
            {
                me.text = oldText;
                
                me.cursorPosition = cursorPosition;
                me.selRange = [selStart, selEnd];
                
                me.hasFocus = oldHasFocus;
                
                console.log("Undid! Text: " + oldText);
                
                return removeAction;
            };
            
            removeAction();
        }

        if (me.hadFocus && !added && me.parentEditor.editable && me.editable)
        {
            if ((key === "⏪" || key === "Backspace") && !ignoreSpecial)
            {
                if (me.cursorPosition === 0)
                {
                    if (lineAbove)
                    {
                        me.flaggedForRemoval = true;

                        me.lrTransitionFocus(lineAbove, -1);

                        lineAbove.text += me.text;
                        let myText = me.text;
                        
                        let priorTextAbove = lineAbove.text;
                        
                        undoResult = (lineHelper) =>
                        {
                            // Insert this line.
                            if (me.flaggedForRemoval)
                            {
                                me.flaggedForRemoval = false;
                                lineHelper.insertLineObject(myIndex, me);
                            }
                            
                            me.cursorPosition = 0;
                            me.focus();
                            
                            return generalRedo;
                        };
                    }
                }
                else if (!hasSelection)
                {
                    me.cursorPosition--;
                    
                    let oldText = me.text;

                    me.text = me.text.substring(0, me.cursorPosition) + me.text.substring(me.cursorPosition + 1);
                    
                    undoResult = () =>
                    {
                        me.cursorPosition++;
                        
                        me.text = oldText;
                        
                        return generalRedo;
                    };
                }
            }
            else if (((key === "⏬" || key === "Enter") && !ignoreSpecial) || key === "\n")
            {
                if (!me.onentercommand)
                {
                    var movedText = me.text.substring(me.cursorPosition);
                    me.text = me.text.substring(0, me.cursorPosition);

                    var originalMovedText = movedText;

                    if (me.parentEditor.isCodeEditing() && key !== "\n")
                    {
                        movedText = me.getStartingSpace() + movedText;
                    }


                    var newLine = me.parentEditor.addLine(myIndex + 1, movedText);

                    me.lrTransitionFocus(newLine, 1);

                    newLine.cursorPosition = newLine.text.length - originalMovedText.length;
                    newLine.refreshHighlitingIfNeeded(myIndex + 1);
                    
                    me.requestRefresh();
                    
                    undoResult = () =>
                    {
                        me.text = me.text + movedText;
                        me.cursorPosition = me.text.length - movedText.length;
                        me.focus();
                        
                        // Remove the new line.
                        newLine.flaggedForRemoval = true;
                    
                        me.requestRefresh();
                        
                        return generalRedo;
                    };
                }
            }
            else
            {
                var toInsert = key;

                // Space key.
                if (key === "_SPACE_" && !ignoreSpecial)
                {
                    toInsert = " ";
                }
                else if (key === "Tab" && !ignoreSpecial)
                {
                    toInsert = "    ";
                }

                let priorText = me.text;
                
                me.text = me.text.substring(0, me.cursorPosition) + toInsert + me.text.substring(me.cursorPosition);

                me.cursorPosition += toInsert.length;
                me.maxCursorPosition = 0;

                // Was an undo function created for some other action?
                let oldUndo = undoResult;
                
                undoResult = () =>
                {
                    me.text = priorText;
                    me.cursorPosition -= toInsert.length;

                    let redoOther = () => {};

                    // If so, call it as a part pf tjos imdp/
                    if (oldUndo)
                    {
                        redoOther = oldUndo();
                    }
                    
                    return () =>
                    {
                        redoOther();
                        generalRedo();
                    };
                };
            }
        }

        if (hasSelection && !added && me.text.length === 0)
        {
            me.flaggedForRemoval = true;
            
            let oldUndoResult = undoResult,
                oldRedoResult;
            let oldIndex = myIndex;
            
            undoResult = (lineHelper) =>
            {
                if (me.flaggedForRemoval)
                {
                    me.parentEditor.removeLinesFlaggedForRemoval();
                    
                    me.flaggedForRemoval = false;
                    lineHelper.insertLineObject(oldIndex, me);
                }
                
                if (oldUndoResult)
                {
                    console.log("IT DID EXIST!");
                    
                    oldRedoResult = oldUndoResult(lineHelper, me);
                }
            
                return () =>
                {
                    me.flaggedForRemoval = true;
                    me.requestRefresh();
                    
                    return undoResult;
                };
            };
        }

        if (me.hadFocus && me.onentercommand && (key === "⏬" || key === "\n" || key === "Enter"))
        {
            try
            {
                requestAnimationFrame(() => 
                {
                    me.onentercommand(me, myIndex)
                    me.parentEditor.render();
                });
            }
            catch(e)
            {
                noteError(e);
            }
        }

        me.updateModifiedTime();
        me.refreshHighlitingIfNeeded(myIndex);
        
        // Permits general undoing and redoing.
        return undoResult;
    };

    this.refreshHighlitingIfNeeded = function(myIndex, force, ignoreTimeout)
    {
        const codeEditing = me.parentEditor.isCodeEditing();

        me.syntaxTracker.nextLine = me.parentEditor.lines[myIndex + 1];
        me.syntaxTracker.previousLine = me.parentEditor.lines[myIndex - 1];

        // If code-editing, update the next and previous lines.
        if (codeEditing && (me.lastRefreshText != me.text || force || me.refreshRequested))
        {
            // Also update the highliting.
            me.syntaxTracker.refreshHighliting(ignoreTimeout).then(() =>
            {
                me.lastRefreshText = me.text + ""; // Cache the line's text.

                me.refreshRequested = false;
            });
        }
    };
    
    this.getText = function()
    {
        return me.text;
    };
    
    this.setText = function(newText)
    {
        var oldText = me.text + "";
        
        me.text = newText;
        
        if (oldText !== newText)
        {
            me.lastModifiedTime = (new Date()).getTime();
        }
    };
    
    var lastText = "";
    this.updateModifiedTime = function()
    {
        if (me.text !== lastText)
        {
            me.lastModifiedTime = (new Date()).getTime();
        }
    };
    
    this.setModifiedTime = function(lastTime)
    {
        me.lastModifiedTime = lastTime;
        
        lastText = me.text;
    };
    
    this.getLastTimeModified = function()
    {
        return me.lastModifiedTime;
    };

    this.select = function(selStart, selEnd)
    {
        me.selRange = [Math.max(0, selStart || 0), Math.min(selEnd !== undefined ? selEnd : me.text.length, me.text.length)];
    };

    this.deselect = function()
    {
        me.selRange = [];
    };

    this.hasSelection = function()
    {
        return me.selRange.length === 2;/* && me.selRange[0] !== me.selRange[1];*/
    };

    this.getSelectedText = function()
    {
        if (!me.hasSelection())
        {
            return "";
        }

        var selStart = me.selRange[0],
            selEnd   = me.selRange[1];

        return me.text.substring(selStart, selEnd);
    };

    this.getStartingSpace = function()
    {
        var result = "", currentChar;

        for (var i = 0; i < me.text.length; i++)
        {
            currentChar = me.text.charAt(i);

            if (currentChar !== " ")
            {
                return result;
            }

            result += currentChar;
        }

        return result;
    };

    this.indent = function(spacesCount)
    {
        var startingSpaces = "";

        for (var i = 0; i < spacesCount; i++)
        {
            startingSpaces += " ";
        }

        if (me.parentEditor.editable && me.editable)
        {
            me.text = startingSpaces + me.text;
        }
        
        me.updateModifiedTime();
    };

    this.deindent = function(maxSpaces)
    {
        var totalSpaces = me.getStartingSpace().length;

        maxSpaces = Math.min(totalSpaces, maxSpaces);

        if (me.parentEditor.editable && me.editable)
        {
            me.text = me.text.substring(maxSpaces);
        }
        
        me.updateModifiedTime();
    };

    this.focus = function()
    {
        me.parentEditor.unfocus();

        me.hasFocus = true;
        me.hadFocus = true;
    };

    this.unfocus = function()
    {
        me.hasFocus = false;
        me.hadFocus = false;
    };
}

// Inserted file Modeler2D.js encoding='utf-8'
"use strict";

// A simple object to allow the configuration of
//ModelerPoint2Ds.
function ConfigurationHandler(type)
{
    var me = this;
    
    this.get = function()
    {
        return me.type;
    };
    
    this.setType = function(newType)
    {
        me.type = newType;
    };
    
    this.GET = 0;
    this.SET = 1;
    this.GET_INPUT_TYPE = 2;
}

// A 2D point, which does not inherit from Point
//that is to be used to create two-dimensional models.
function ModelerPoint2D(x, y)
{
    var me = this; // Even when the context is changed
                   //through use of functions such as
                   //requestAnimationFrame, a refrence
                   //to the containing ModelerPoint2D
                   //is kept. Please note the warning
                   //about the "sloppyness [sic.]" of this
                   //script.
    
    this.x = x;
    this.y = y;
    this.r = 10;
    this.selected = false;
    this.toDestroy = false;
    this.translateListener = undefined; // A function of this, dx, and dy.
    this.color = "rgba(255, 255, 255, 0.7)";
    this.connectingLineStyle = "#000000";
    this.outlineStyle = "#000000";
    this.isControlPoint = false;
    
    this.getIsControlPoint = function()
    {
        return this.isControlPoint;
    };
    
    this.render = function(ctx, lastPoint, transformMatrix)
    {
        var position = this.getPosition(transformMatrix);
        
        var x = position[0];
        var y = position[1];
        var lineToPoint = null;
        
        // Line from previous to this.
        //Don't do this for control points, unless a different point was
        //set.
        if ((lastPoint && !this.getIsControlPoint()))
        {
            lineToPoint = lastPoint;
        }
        else
        {
            lineToPoint = this.lineToPoint;
        }
        
        if (lineToPoint)
        {
            ctx.beginPath();
            
            var lastPosition = lineToPoint.getPosition(transformMatrix);
            
            ctx.moveTo(x, y);
            ctx.lineTo(lastPosition[0], lastPosition[1]);
            
            ctx.strokeStyle = this.connectingLineStyle;
            
            ctx.stroke();
        }
        
        // Circle.
        
        ctx.strokeStyle = this.outlineStyle;
        
        ctx.beginPath();
        ctx.arc(x, y, this.r, 0, Math.PI * 2, true);
        
        ctx.stroke();
        
        // Selection-based coloring.
        
        if (!this.selected)
        {
            ctx.fillStyle = this.color;
        }
        else
        {
            ctx.fillStyle = "rgba(200, 200, 200, 0.85)";
        }
        
        ctx.fill();
    };
    
    this.select = function()
    {
        this.selected = true;
    };
    
    this.deselect = function()
    {
        this.selected = false;
    };
    
    this.getConfigureOptions = function()
    {
        var result = 
        {
            "X Position": function(command, xPosition)
            {
                var commandType = command.get();
                
                if (commandType === command.SET)
                {
                    var newX;
                    
                    try
                    {
                        newX = parseFloat(xPosition);
                    }
                    catch(e)
                    {
                        console.error("Error! " + e);
                        
                        return false;
                    }
                    
                    me.moveTo(newX, me.y);
                }
                else if (commandType === command.GET)
                {
                    return me.x;
                }
                else if (commandType === command.GET_INPUT_TYPE)
                {
                    return "number";
                }
            },
            
            "Y Position": function(command, yPosition)
            {
                var commandType = command.get();
                
                if (commandType === command.SET)
                {
                    var newY;
                    
                    try
                    {
                        newY = parseFloat(yPosition);
                    }
                    catch(e)
                    {
                        console.error("Error! " + e);
                        
                        return false;
                    }
                    
                    me.moveTo(me.x, newY);
                }
                else if (commandType === command.GET)
                {
                    return me.x;
                }
                else if (commandType === command.GET_INPUT_TYPE)
                {
                    return "number";
                }
            }
        };
        
        return result;
    };
    
    this.destroy = function()
    {
        this.selected = false;
        this.toDestroy = true;
    };
    
    this.translate = function(dx, dy)
    {
        this.x += dx;
        this.y += dy;
        
        if (this.translateListener)
        {
            this.translateListener(this, dx, dy);
        }
    };
    
    this.moveTo = function(x, y)
    {
        var dx = x - me.x;
        var dy = y - me.y;
        
        me.translate(dx, dy);
    };
    
    // Returns the screen position, not [me.x, me.y].
    //Returns an array of [screen x, screen y, element
    //used to help matrix math work].
    this.getPosition = function(transformMatrix)
    {
        var xyArray = [this.x, this.y, 1];
        MatHelper.transformPoint(xyArray, transformMatrix);
        
        return xyArray;
    };
    
    // Checks whether this object has collided with
    //a circle at (x1, y1) with radius = r1, but first
    //transforming this object such that its x and y are
    //in screen space ( {x1, y1} should be in screen-space ).
    //Transform is the transformation matrtix.
    this.checkCollision = function(x1, y1, r1, transform)
    {
        var position = this.getPosition(transform);
        var x2 = position[0];
        var y2 = position[1];
        
        return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)) <= r1 + this.r;
    };
}

function BezierCurveControl(addPointFunction, points)
{
    var me = this;
    
    this.controlPoints = points || [];
    this.curvePoints = [];
    this.addPoint = addPointFunction || function(point) {}; // Allows the addition of new points to be noted by the controlling application.
    
    var shade = Math.floor((Math.random() * 206 + 50) / 2) * 2; // Choose a random point color, to make this curve's control points distinguishable from another's.
    var controlPointColor = "rgba(" + shade + ", " + shade / 2 + ", " + Math.floor(shade * Math.random() * 1.1) + ", 0.9)";
    
    this.resolution = 8;
    
    this.lockPoints3And5 = true;
    
    var movePointToLine = function(pointToMove, lineEnd, lineCenter)
    {
        var dx = lineCenter.x - lineEnd.x;
        var dy = lineCenter.y - lineEnd.y;
        
        pointToMove.x = lineCenter.x + dx;
        pointToMove.y = lineCenter.y + dy;
    };
    
    this.curveConfigureOptions = 
    {
        "Lock 3rd and 5th points: ": function(command, value)
        {
            var commandType = command.get();
            
            if (commandType === command.SET)
            {
                me.lockPoints3And5 = value;
            }
            else if (commandType === command.GET)
            {
                return me.lockPoints3And5;
            }
            else
            {
                return "checkbox";
            }
        },
        "Set Resolution: ": function(command, value)
        {
            var commandType = command.get();
            
            if (commandType === command.SET)
            {
                me.resolution = value;
                
                me.remakeCurve();
            }
            else if (commandType === command.GET)
            {
                return me.resolution;
            }
            else
            {
                return "number";
            }
        }
    };
    
    if (this.controlPoints.length < 7)
    {
        var addToEndPoint;
        
        var curveRadius = 100;
        var lastPoint = undefined;
        
        var makeControlPoint = function(i)
        {
            var newPoint = new ModelerPoint2D(0, 0);
            newPoint.color = controlPointColor;
            newPoint.connectingLineStyle = newPoint.color;
            newPoint.focusPriority = true;
            newPoint.isControlPoint = true;
            newPoint.lineToPoint = lastPoint;  // Set the point to connect to the previous control point.
            
            // Move the point to a reasonable location.
            newPoint.translate((Math.cos(i) * curveRadius + curveRadius/2) * Math.random(), (Math.sin(i) * curveRadius + curveRadius / 2) * Math.random());
            
            // Override the translation listener.
            newPoint.translateListener = function(point, dx, dy)
            {
                if (me.lockPoints3And5)
                {
                    // Lock the 3rd and 5th points.
                    if (i == 2 || i == 4) 
                    {
                        movePointToLine(me.controlPoints[i === 2 ? 4 : 2], me.controlPoints[i], me.controlPoints[3]);
                    } // Move the 3rd and 5th points with the 4th.
                    else if (i == 3)
                    {
                        me.controlPoints[2].translate(dx, dy);
                    }
                }
                
                // If the function to make the curve has been defined,
                if (me.remakeCurve)
                {
                    me.remakeCurve();
                }
            };
            
            newPoint.getConfigureOptions = function()
            {
                return me.curveConfigureOptions;
            };
            
            newPoint.setAddPointFunction = function(newAddPointFunction)
            {
                me.addPoint = newAddPointFunction;
            };
            
            lastPoint = newPoint;
            
            return newPoint;
        };
        
        // Add missing points...
        for (var i = this.controlPoints.length; i < 7; i++)
        {
            addToEndPoint = makeControlPoint(i);
            
            this.addPoint(addToEndPoint);
            this.controlPoints.push(addToEndPoint);
        }
        
        // Move the 3rd and 5th points to locations accross the center
        //from each other to create a smooth curve.
        movePointToLine(me.controlPoints[2], me.controlPoints[4], me.controlPoints[3]);
    }
    
    // Refrence: https://webgl2fundamentals.org/webgl/lessons/webgl-3d-geometry-lathe.html
    var getBezierCurvePoint = function(p1, p2, p3, p4, t)
    {
        var invT = 1 - t;
        var pointX = t*t*t * p1.x + 3 * t*t * invT * p2.x + 3 * t * invT * invT * p3.x + invT * invT * invT * p4.x;
        var pointY = t*t*t * p1.y + 3 * t*t * invT * p2.y + 3 * t * invT * invT * p3.y + invT * invT * invT * p4.y;
        
        return [pointX, pointY];
    };
    
    this.makeBezierCurve = function(p1, p2, p3, p4)
    {
        var newPoint, position, lastPoint = undefined;
        
        if (me.resolution === 0)
        {
            me.resolution = 99;
        }
        
        var dt = 1 / me.resolution;
        
        for (var t = 1; t >= 0; t -= dt)
        {
            position = getBezierCurvePoint(p1, p2, p3, p4, t);
        
            newPoint = new ModelerPoint2D(position[0], position[1]);
            me.curvePoints.push(newPoint);
            
            newPoint.translateListener = function(point, dx, dy)
            {
                // Remove the control points on translation of a sub-point.
                for (var i = 0; i < me.controlPoints.length; i++)
                {
                    me.controlPoints[i].destroy();
                }
            };
            
            this.addPoint(newPoint);
            
            if (lastPoint != undefined)
            {
                dt = Math.sqrt(Math.pow((lastPoint.x - newPoint.x) / dt, 2) + Math.pow((lastPoint.y - newPoint.y) / dt, 2));
                
                if (dt <= 1)
                {
                    dt = me.resolution / 5;
                }
                
                dt = 1 / dt;
                
                dt = Math.max(dt, 1 / me.resolution);
            }
            
            lastPoint = newPoint;
        }
    };
    
    this.remakeCurve = function()
    {
        // Flag all curve points for deletion.
        for (var i = 0; i < me.curvePoints.length; i++)
        {
            me.curvePoints[i].destroy();
        }
        
        // Clear the curve points array.
        me.curvePoints = [];
        
        // Make the curve...
        me.makeBezierCurve(me.controlPoints[0], me.controlPoints[1], me.controlPoints[2], me.controlPoints[3]);
        me.makeBezierCurve(me.controlPoints[3], me.controlPoints[4], me.controlPoints[5], me.controlPoints[6]);
    };
    
    this.remakeCurve();
}

function Modeler2D(onSubmit, initialPoints, undoBuffer, redoBuffer)
{
    var me = this;
    
    const INITIAL_WIDTH = 300;
    const INITIAL_HEIGHT = 150;
    
    this.subWindow = SubWindowHelper.create({ title: "Modeler 2D", content: "", 
            minWidth: INITIAL_WIDTH, minHeight: INITIAL_HEIGHT });
            
    this.subWindow.enableFlex(); // Causes the canvas to grow to fill the window.
    
    var canvas = document.createElement("canvas");
    canvas.style.width = "calc(100% - 5px)";
    canvas.style.height = "auto";
    canvas.style.margin = "0px";
    this.subWindow.content.style.padding = "0px";
    
    var ctx = canvas.getContext("2d");
    
    var pointerActions = { PAN: "PAN", EDIT_POINTS: "EDIT_POINTS" };
    
    var points = initialPoints || [ new ModelerPoint2D(10, 10), new ModelerPoint2D(20, 20) ];
    
    
    if (initialPoints)
    {
        for (var i = 0; i < initialPoints.length; i++)
        {
            // If the point has actions that might lead to 
            //the creation of new points,
            if (initialPoints[i].setAddPointFunction)
            {
                initialPoints[i].setAddPointFunction(function(newPoint)
                {
                    points.push(newPoint); // Note thepoint's creation.
                });
            }
        }
    }
    
    var previousStates = undoBuffer || [];
    var redoStates = redoBuffer || [];
    
    var shouldQuit = false;
    var action = pointerActions.PAN;
    var selectedPoints = [];
    var transformMatrix = Mat33Helper.getTranslateMatrix(INITIAL_WIDTH / 2, INITIAL_HEIGHT / 2);
    
    var zoomRate = 2;
    
    var fileMenu = new SubWindowTab("File");
    var editMenu = new SubWindowTab("Edit");
    var selectionMenu = new SubWindowTab("Selection");
    var helpMenu = new SubWindowTab("Help");
    
    if (onSubmit)
    {
        fileMenu.addCommand("Submit", function()
        {
            var submitPoints = [];
            
            for (var i = 0; i < points.length; i++)
            {
                if (!points[i].getIsControlPoint())
                {
                    submitPoints.push(new Point(points[i].x, points[i].y));
                }
            }
            
            onSubmit(submitPoints, points, previousStates, redoStates);
            
            shouldQuit = true;
            me.subWindow.destroy();
        });
    }
    
    fileMenu.addCommand("Exit", function() 
    {
        me.subWindow.destroy();
        shouldQuit = true;
    });
    
    // When the sub-window is closed...
    me.subWindow.setOnCloseListener(function()
    {
        shouldQuit = true; // Stop the animation loop.
    });
    
    var changePointerControl = function(tab)
    {
        if (action === pointerActions.EDIT_POINTS)
        {
            action = pointerActions.PAN;
            
            tab.setLabel("Edit Points");
        }
        else
        {
            action = pointerActions.EDIT_POINTS;
            
            tab.setLabel("Pan");
        }
    };
    
    var editPointsTab = editMenu.addCommand("Edit Points", function(tab)
    {
        changePointerControl(tab);
    });
    
    var deleteSelection = function()
    {
        // Allow undoing this...
        allowSoftUndo({ deletedThings: true });
    
        var newPoints = [];
        
        for (var i = 0; i < points.length; i++)
        {
            if (!points[i].selected)
            {
                newPoints.push(points[i]);
            }
            else
            {
                points[i].destroy();
            }
        }
        
        points = newPoints;
        selectedPoints = [];
    };
    
    editMenu.addCommand("Sort Points", function(tab)
    {
        allowSoftUndo({ changedPointsOrder: true });
        
        points.sort(function(a, b)
        {
            return a.y - b.y;
        });
    });
    
    var zoomIn = function()
    {
        transformMatrix.zoomCenter(zoomRate, canvas.width, canvas.height);
    };
    
    editMenu.addCommand("Zoom +", function()
    {
        zoomIn();
    });
    
    var zoomOut = function()
    {
        transformMatrix.zoomCenter(1 / zoomRate, canvas.width, canvas.height);
    };
    
    editMenu.addCommand("Zoom -", function()
    {
        zoomOut();
    });
    
    editMenu.addCommand("Reset View", function()
    {
        transformMatrix = Mat33Helper.getTranslateMatrix(0, 0);
    });
    
    var addCurve = function()
    {
        allowSoftUndo({ addedThings: true });
        
        new BezierCurveControl(function(point)
        {
            points.push(point);
        });
    };
    
    editMenu.addCommand("Add Curve", function() 
    {
        addCurve();
    });
    
    var selectAll = function()
    {
        for (var i = 0; i < points.length; i++)
        {
            points[i].select();
            
            selectedPoints.push(points[i]);
        }
    };
    
    selectionMenu.addCommand("Select All", function(tab)
    {
        selectAll();
    });
    
    selectionMenu.addCommand("Delete Selection", function(tab)
    {
        deleteSelection();
    });
    
    var configureSelection = function(allowConfigureMultiple)
    {
        var handlePoint = function(i, point)
        {
            var selectionWindow = SubWindowHelper.create({ title: "Point " + i, content: "" });
            HTMLHelper.addHeader("Point " + i, selectionWindow, "h2");
            
            var pointConfigureContent = point.getConfigureOptions();
            
            var handleConfigureKey = function(key)
            {
                var configFunction = pointConfigureContent[key];
                var option = new ConfigurationHandler();
                
                option.setType(option.GET_INPUT_TYPE);
                var inputType = configFunction(option);
                
                option.setType(option.GET);
                var inputInitialContent = configFunction(option);
                
                HTMLHelper.addBR(selectionWindow);
                HTMLHelper.addLabel(key, selectionWindow);
                
                HTMLHelper.addInput(key, inputInitialContent, inputType, selectionWindow, function(inputValue)
                {
                    option.setType(option.SET);
                    configFunction(option, inputValue);
                });
                
                HTMLHelper.addHR(selectionWindow);
            };
            
            for (var key in pointConfigureContent)
            {
                handleConfigureKey(key);
            }
        };
        
        for (var i = 0; i < selectedPoints.length; i++)
        {
            handlePoint(i, selectedPoints[i]);
                
            if (!allowConfigureMultiple)
            {
                break;
            }
        }
    };
    
    selectionMenu.addCommand("Configure Selection", function(tab)
    {
        configureSelection(true);
    });
    
    helpMenu.addCommand("Keyboard Shortcuts", function(tab)
    {
        var keyShortcutInfo = 
        `
        Keyboard Shortcuts:
        =====================
        a: Select all.
        Shift + click: Select multiple.
        Delete: Delete selection.
        p: Change cursor manipulation action.
        c: Add curve.
        - OR _: Zoom out.
        + OR =: Zoom in.
        
        Shift + Tab: Move another window to the fore.
        Shift + F4: Close the window in the fore.
        `;
        
        SubWindowHelper.alert("Keyboard Shortcuts", keyShortcutInfo);
    });
    
    helpMenu.addCommand("About", function(tab)
    {
        var aboutInformation = window.ABOUT_PROGRAM || "...";
        
        SubWindowHelper.alert("About", aboutInformation);
    });
    
    // Undo
    var getPointsCopy = function()
    {
        var copy = [];
        
        for (var i = 0; i < points.length; i++)
        {
            copy.push(points[i]);
        }
        
        return copy;
    };
    
    const maxUndo = 12;
    
    var redoCommand;
    
    var allowSoftUndo = function (data)
    {
        // So long as things have changed significantly...
        if (!data
             || !(data.deletedThings || data.addedThings || data.redid
             || data.changedPointsOrder))
        {
            return;
        }
        
        previousStates.push(getPointsCopy());
        
        console.log(previousStates[previousStates.length - 1].length);
        softUndo.show();
        
        // Hide redo options.
        if (!data.redid)
        {
            redoStates = [];
            redoCommand.hide();
        }
        
        if (previousStates.length > maxUndo)
        {
            // TODO Replace this with a faster (not in n) method.
            previousStates = previousStates.slice(previousStates.length - maxUndo);
        }
    };
    
    var softUndo = helpMenu.addCommand("Soft Undo", function(tab)
    {
        if (previousStates.length === 1)
        {
            softUndo.hide();
        }
        else if (previousStates.length === 0)
        {
            return;
        }
        
        var revertTo = previousStates.pop();
        
        if ((redoStates.length >= 1 && !ArrayHelper.equals(redoStates[redoStates.length - 1], points))
                || redoStates.length === 0)
        {
            redoStates.push(getPointsCopy());
        }
        
        points = revertTo;
        
        // Unmark all points to be destoryed.
        for (var i = 0; i < points.length; i++)
        {
            points[i].toDestroy = false;
        }
        
        redoCommand.show();
    });
    
    if (previousStates.length === 0)
    {
        softUndo.hide();
    }
    
    redoCommand = helpMenu.addCommand("Redo", function(tab)
    {
        if (redoStates.length === 1)
        {
            tab.hide();
        }
        else if (redoStates.length === 0)
        {
            tab.hide();
            return;
        }
        
        
        var lastRedo = redoStates.pop();
        console.log(lastRedo);
        
        allowSoftUndo({ redid: true });
        
        points = lastRedo;
    }); 
    
    if (redoStates.length === 0)
    {
        redoCommand.hide();
    }
    
    me.subWindow.addTab(fileMenu);
    me.subWindow.addTab(editMenu);
    me.subWindow.addTab(selectionMenu);
    me.subWindow.addTab(helpMenu);
    
    me.subWindow.appendChild(canvas);
    
    var drawAxis = function()
    {
        var yAxisPoint1 = new Point(0, 600, 1);
        var yAxisPoint2 = new Point(0, -600, 1);
        
        yAxisPoint1.transformBy(transformMatrix);
        yAxisPoint2.transformBy(transformMatrix);
        
        ctx.save();
        ctx.strokeStyle = "red";
        
        ctx.beginPath();
        
        ctx.moveTo(yAxisPoint1.x, yAxisPoint1.y);
        ctx.lineTo(yAxisPoint2.x, yAxisPoint2.y);
        
        //console.log(yAxisPoint1.toString() + ", " + yAxisPoint2.toString());
        
        ctx.stroke();
        
        ctx.restore();
    };
    
    this.render = function()
    {
        var lastPoint = undefined;
        var lastNonControlPoint = undefined;
        
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
        
        // Draw a coordinate axis.
        drawAxis();
        
        var mustDestroyPoints = false;
        
        for (var i = 0; i < points.length; i++)
        {
            if (points[i].toDestroy)
            {
                mustDestroyPoints = true;
                
                continue;
            }
            
            // Only give the point to be rendered the last non-
            //control point to prevent lines being drawn between
            //control and non-control points.
            points[i].render(ctx, lastNonControlPoint, transformMatrix);
            
            lastPoint = points[i];
            
            if (!lastPoint.getIsControlPoint())
            {
                lastNonControlPoint = lastPoint;
            }
        }
        
        // If at least one point was flagged for destruction,
        //remove all that are flagged for destruction.
        if (mustDestroyPoints)
        {
            // Allow undo.
            let deletedControlPoint = false;
            
            // Check the list of all points.
            var newPoints = [];
            
            for (var i = 0; i < points.length; i++)
            {
                if (!points[i].toDestroy)
                {
                    newPoints.push(points[i]);
                }
                else if (points[i].getIsControlPoint())
                {
                    deletedControlPoint = true;
                }
            }
            
            // Check the selection.
            var newSelection = [];
            
            for (var i = 0; i < selectedPoints.length; i++)
            {
                if (!selectedPoints[i].toDestroy)
                {
                    newSelection.push(selectedPoints[i]);
                }
                else if (selectedPoints[i].getIsControlPoint())
                {
                    deletedControlPoint = true;
                }
            }
            
            // Allow undo.
            if (deletedControlPoint)
            {
                allowSoftUndo({ deletedThings: true });
            }
            
            points = newPoints;
            selectedPoints = newSelection;
        }
    };
    
    this.animate = function()
    {
        if (canvas.width !== canvas.clientWidth || canvas.height !== canvas.clientHeight)
        {
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;
        }
        
        me.render();
        
        if (!shouldQuit)
        {
            requestAnimationFrame(me.animate);
        }
    };
    
    this.animate();
    
    canvas.style.touchAction = "none"; // Prevents default (scrolling/shortcut) action
                                       //on touch of the canvas.
    
    var selectPointsAtLocation = function(x, y, selectMultiple)
    {
        var canSelectMore = true;
        var lastFocus = undefined;
        
        for (var i = points.length - 1; i >= 0; i--)
        {
            if (points[i].checkCollision(x, y, 1, transformMatrix) && (!selectMultiple || !points[i].selected) && (canSelectMore || points[i].focusPriority))
            {
                if (points[i].focusPriority && !selectMultiple && lastFocus)
                {
                    lastFocus.deselect();
                    selectedPoints.pop();
                }
                
                selectedPoints.push(points[i]);
                points[i].select();
                
                if (!selectMultiple)
                {
                    canSelectMore = false;
                    lastFocus = points[i];
                }
            }
            else if (!selectMultiple)
            {
                points[i].deselect();
            }
        }
    };
    
    var pointerDown = false;
    var lastX, lastY;
    var inverseTransform = undefined;
    var shiftKeyPressed = false;
    
    // Arrow key control options.
    var arrowKeySpeed = 7;
    var lastArrowKeyPressTime = (new Date()).getTime();
    var newActionWaitTime = 1000;
    
    var startSelectedAction = function(x, y)
    {   
        lastX = x;
        lastY = y;
        
        // Clear selection if no shift.
        if (!shiftKeyPressed)
        {
            selectedPoints = [];
        }
        
        selectPointsAtLocation(x, y, shiftKeyPressed);
        
        if (action === pointerActions.EDIT_POINTS)
        {
            inverseTransform = transformMatrix.getInverse();
        }
        
        // On right click...
        if (event.button === 2)
        {
            configureSelection(false); // Do NOT configure multiple.
            
            event.preventDefault(); // Don't display the browser's right-click menu.
        }
    };
    
    var doSelectedAction = function(x, y)
    {
        // Nothing can be done without a direction!
        if (lastX === undefined || lastY === undefined)
        {
            lastX = x;
            lastY = y;
            
            return;
        }
        
        var dx = x - lastX;
        var dy = y - lastY;
        
        // Do different things based on the user- 
        //selected action. This might get large...
        //consider switching to a switch statement.
        if (action === pointerActions.PAN)
        {
            transformMatrix.translate([dx, dy]);
        }
        else if (action === pointerActions.EDIT_POINTS)
        {
            // MatHelper.transformPoint CHANGES
            //the contents of the arrays it is given,
            //format the points and transform them
            //so that the x and y - components are
            //in WORLD SPACE -- they match the 
            //transformed space of the points on
            //the screen.
            var currentXYArray = [x, y, 1];
            var lastXYArray = [lastX, lastY, 1];
            
            MatHelper.transformPoint(currentXYArray, inverseTransform);
            MatHelper.transformPoint(lastXYArray, inverseTransform);
            
            var dxScaled = currentXYArray[0] - lastXYArray[0];
            var dyScaled = currentXYArray[1] - lastXYArray[1];
            
            //allowSoftUndo({ dx: dxScaled, dy: dyScaled, selection: ArrayHelper.softCopy(selectedPoints) });
            
            for (var i = 0; i < selectedPoints.length; i++)
            {
                selectedPoints[i].translate(dxScaled, dyScaled);
            }
        }
        
        lastX = x;
        lastY = y;
    };
    
    // Make the canvas focusable (so it can recieve
    //key press input).
    canvas.setAttribute("tabindex", 1);
    
    // Listen for keys used to execute commands.
    canvas.addEventListener("keydown", function(event)
    {
        var nowTime = (new Date()).getTime();
        var arrowKeyPressed = event.key === "ArrowRight" || 
                event.key === "ArrowLeft" ||
                event.key === "ArrowUp" ||
                event.key === "ArrowDown";
        
        if (arrowKeyPressed && nowTime - lastArrowKeyPressTime > newActionWaitTime)
        {
            startSelectedAction(lastX, lastY);
            
            lastArrowKeyPressTime = nowTime;
        }
        
        if (event.key === "Shift")
        {
            shiftKeyPressed = true;
        }
        else if (event.key === "Delete")
        {
            deleteSelection();
        }
        else if (event.key === "a")
        {
            selectAll();
        }
        else if (event.key === "ArrowLeft")
        {
            doSelectedAction((lastX || 0) - arrowKeySpeed, lastY);
        }
        else if (event.key === "ArrowRight")
        {
            doSelectedAction((lastX || 0) + arrowKeySpeed, lastY);
        }
        else if (event.key === "ArrowUp")
        {
            doSelectedAction(lastX, (lastY || 0) - arrowKeySpeed);
        }
        else if (event.key === "ArrowDown")
        {
            doSelectedAction(lastX, (lastY || 0) + arrowKeySpeed);
        }
    }, true);
    
    canvas.addEventListener("keypress", function(event)
    {
        console.log(event.key);
        
        if (event.key === "-" || event.key === "_")
        {
            zoomOut();
        }
        else if (event.key === "+" || event.key === "=")
        {
            zoomIn();
        }
        else if (event.key === "Delete")
        {
            deleteSelection();
        }
        else if (event.key === "p")
        {
            changePointerControl(editPointsTab);
        }
        else if (event.key === "c")
        {
            addCurve();
        }
    }, true);
    
    canvas.addEventListener("keyup", function(event)
    {
        if (event.key === "Shift")
        {
            shiftKeyPressed = false;
        }
    }, true);
    
    JSHelper.Events.registerPointerEvent("down", canvas, function(event)
    {
        var bbox = canvas.getBoundingClientRect();
        var x = event.clientX - bbox.left,
            y = event.clientY - bbox.top;
        
        startSelectedAction(x, y, shiftKeyPressed);
        
        pointerDown = true;
        
        return true;
    }, false);
    
    JSHelper.Events.registerPointerEvent("move", canvas, function(event)
    {
        if (pointerDown)
        {
            var bbox = canvas.getBoundingClientRect();
            var x = event.clientX - bbox.left,
                y = event.clientY - bbox.top;
            
            doSelectedAction(x, y);
        }
    
        return true;
    }, false);
    
    JSHelper.Events.registerPointerEvent("stop", canvas, function()
    {
        pointerDown = false;
        return true;
    }, false);
    
    JSHelper.Events.registerPointerEvent("up", function(event)
    {
        pointerDown = false;
        
        // Don't display the browser's right-click
        //menu.
        if (event.button === 2)
        {
            event.preventDefault();
        }
        
        return true;
    }, false);
    
    // Don't show the default right-click menu.
    canvas.addEventListener("contextmenu", function(event)
    {
        event.preventDefault();
    });
}



// Inserted file SubWindowManager.js encoding='utf-8'
"use strict";

function SubWindowGlobals(parent, windowsList)
{
    this.parent = parent;
    this.windowsList = windowsList;
    this.dragElement = document.createElement("div");
    this.minZIndex = 100;
    
    var me = this;
    
    this.sortWindowsList = function()
    {
        /* Sort descending order. */
        me.windowsList.sort(function(windowA, windowB) 
        {
            return windowB.zIndex - windowA.zIndex;
        });
    };
    
    this.getMaxZIndex = function(excludeObject)
    {
        me.sortWindowsList();
        
        var result = this.minZIndex;
        
        if (me.windowsList.length > 0)
        {
            result = me.windowsList[0].zIndex;
            
            if (me.windowsList[0] == excludeObject)
            {
                if (me.windowsList.length > 1)
                {
                    result = me.windowsList[1].zIndex;
                }
                else
                {
                    result = this.minZIndex;
                }
            }
        }
        
        return result;
    };

    this.moveTopLevelWindowsToTheFore = function()
    {
        me.sortWindowsList();

        let hadBelowTop = false;

        for (var i = 0; i < me.windowsList.length; i++)
        {
            if (me.windowsList[i].alwaysOnTop && hadBelowTop)
            {
                me.windowsList[i].toTheFore(true);
            }

            hadBelowTop = hadBelowTop || !me.windowsList[i].alwaysOnTop;
        }
    };
    
    this.addWindow = function(newWindow)
    {
        me.windowsList.push(newWindow);
    };
    
    this.removeDestroyed = function()
    {
        me.sortWindowsList();
        
        while (me.windowsList.length > 0 
            && me.windowsList[me.windowsList.length - 1].zIndex === -1)
        {
            me.windowsList.pop();
        }
    };
    
    // Listen for shift + F3 to switch between windows.
    me.parent.addEventListener("keydown", function(event)
    {
        if (event.shiftKey && me.windowsList.length > 0)
        {
            if (event.key === "F3")
            {
                // Don't perform default action.
                event.preventDefault();
                
                me.sortWindowsList();
                
                // Select the last window.
                me.windowsList[me.windowsList.length - 1].toTheFore();
            }
            else if (event.key === "F4")
            {
                // Don't perform default action.
                event.preventDefault();
                
                me.sortWindowsList();
                
                // Close the first (focused) window.
                me.windowsList[0].close();
            }
        }
    }, true);
    
    this.parent.appendChild(this.dragElement);
    this.dragElement.setAttribute("class", "windowDragElement");
    this.dragElement.style.position = "fixed";
    this.dragElement.style.width = "100vw";
    this.dragElement.style.height = "100vh";
    this.dragElement.style.zIndex = 9999;
    this.dragElement.style.touchAction = "none";
    this.dragElement.style.display = "none";
}

// A tab specific to SubWindows.
function SubWindowTab(label, options)
{
    options = options || {};
    
    var parent = undefined;
    var me = this;
    var stylePrefix = options.stylePrefix || "base";
    this.mainElement = document.createElement(options.mainElement || "span");
    this.mainElement.setAttribute("class", stylePrefix + "Tab");
    this.mainElementCommand = document.createElement("span");
    this.mainElementCommand.setAttribute("class", stylePrefix + "TabLabel");
    this.mainElementCommand.textContent = label;
    this.label = label;
    this.mainElement.appendChild(this.mainElementCommand);
    
    if (!options.command)
    {
        this.menuElement = document.createElement("div");
        this.menuElement.style.display = "none";
        this.menuElement.style.position = "absolute";
        this.menuElement.setAttribute("class",  stylePrefix + "Menu");
        this.mainElement.appendChild(this.menuElement);
        this.subTabs = [];
        this.menuClickAwayEventListener = document.body.addEventListener("click", function(e)
        {
            if (me.menuElement && e.target !== me.menuElement && me.menuElement.style.display === "block")
            {
                e.preventDefault();
                me.menuElement.style.display = "none";
            }
        }, true);
        
        this.onClick = function()
        {
            me.menuElement.style.display = "block";
            me.menuElement.style.left = me.mainElement.offsetLeft + "px";
            //me.menuElement.style.top = (me.menuElement.clientHeight) + "px";
        };
    }
    else
    {
        this.onClick = options.command;
    }
    
    this.setLabel = function(newLabel)
    {
        me.mainElementCommand.textContent = newLabel;
        me.label = newLabel;
    };
    
    this.addCommand = function(label, action)
    {
        if (me.menuElement === undefined)
        {
            throw "Cannot add sub-commands to a tab with a pre-set action.";
        }
        
        var subTab;
        subTab = new SubWindowTab(label, { command: function(event) { action(subTab, event); }, stylePrefix: stylePrefix, mainElement: "div" });
        subTab.addToElement(me.menuElement);
        
        return subTab;
    };
    
    this.addToElement = function(element)
    {
        element.appendChild(me.mainElement);
        parent = element;
    };
    
    // Unhides the element.
    this.show = function()
    {
        me.mainElement.style.visibility = "visible";
        me.mainElement.style.width = "auto";
        me.mainElement.style.height = "auto";
        me.mainElement.setAttribute("title", "Visible item. " + me.label);
    };
    
    this.hide = function()
    {
        me.mainElement.style.visibility = "hidden";
        me.mainElement.style.height = "0px";
        me.mainElement.style.width = "0px";
        me.mainElement.setAttribute("title", "Hidden item. " + me.label);
    };
    
    this.destroy = function()
    {
        if (me.menuElement)
        {
            me.mainElement.removeChild(me.menuElement);
            delete me.menuElement;
        }
        
        if (me.subTabs)
        {
            for (var i = 0; i < me.subTabs.length; i++)
            {
                me.subTabs[i].destroy();
            }
        }
        
        if (parent !== undefined)
        {
            parent.removeChild(me.mainElement);
        }
        else
        {
            me.mainElement.outerHTML = "";
        }
        
        delete me.mainElement;
    };
    
    this.mainElementCommand.setAttribute("tabIndex", 2);
    this.mainElementCommand.addEventListener("click", me.onClick);
}

function SubWindow(globals, options)
{
    // Several significant options:
    //  minWidth    Minimum width (px)                              int
    //  minHeight   Minimum height (px)                             int
    //  maxWidth    Maximum width (px)                              int
    //  maxHeight   Maximum height (px)                             int
    //  title       Title content                                   str
    //  className   Additional style sheets for the window, all     str
    //              prepended with className.
    //fixWindowSize Whether to set the window's dimensions to a     bool
    //              size in pixels after load or to allow its size
    //              to be determined by its contents until resize.
    //  noResize    Disable window resizing.                        bool
    // unsnappable  Prohibits a "snapping" behavior from occurring  bool
    //              when a window is brought near an edge of the screen.
    // fixed        Whether the user can drag the window.           bool
    //noCloseButton Whether to include the "X" button.              bool
    // withPage     Whether the window moves with page content.     bool
    //titleHTML     HTML-based content for the title. If used,      str
    //              please also specify title, for accessibility.
    //contentHTML   HTML-based content for the window.              str
    //title         Text-based title content.                       str
    //content       Text-based window content.                      str

    options = options || {};
    var parent = globals.parent;
    
    var me = this;
    var styleClassName = options.className || "windowContainerDefault";
    
    // Get a string representing a component's style classes
    //for a given suffix.
    var getStyleClass = (suffix) =>
    {
        let result;
        
        result = styleClassName + suffix + " " + "windowContainer" + suffix;
        
        return result;
    };
    
    this.zIndex = globals.minZIndex;
    
    this.container = document.createElement("div");
    this.container.setAttribute("class", getStyleClass(""));
    
    this.container.style.display = "flex";
    this.container.style.flexDirection = "column";
    this.container.style.position = options.withPage ? "absolute" : "fixed";
    
    this.titleBar = document.createElement("div");
    this.titleBar.setAttribute("class", getStyleClass("TitleBar"));
    this.titleBar.setAttribute("tabIndex", 2);
    
    this.titleBar.style.display = "flex";
    this.titleBar.style.flexDirection = "row";
    this.titleBar.setAttribute("title", "In-page window. Title bar.");
    
    this.titleContent = document.createElement("div");
    this.titleContent.setAttribute("class", getStyleClass("TitleContent"));
    this.titleContent.style.flexGrow = "1";
    this.titleContent.setAttribute("tabIndex", 2);

    this.alwaysOnTop = options.alwaysOnTop || false;
    this.unsnappable = options.unsnappable === undefined ? (options.noResize || false) : options.unsnappable;
    this.snapThreshold = options.snapThreshold !== undefined ? options.snapThreshold : 60; // How far to the left/right the user needs to drag the window for it to snap.
    this.snapped = false; // Whether the window is currently snapped.
    
    this.draggable = false;
    
    if (options.titleHTML)
    {
        this.titleContent.innerHTML = options.titleHTML;
    }
    else if (options.title)
    {
        this.titleContent.textContent = options.title;
    }
    
    this.tabZone = document.createElement("div");
    this.tabZone.setAttribute("class", getStyleClass("TabZone"));
    this.tabZone.style.display = "none";
    var hasTabs = false;
    var tabs = [];
    
    var minWidth = options.minWidth;
    var minHeight = options.minHeight;
    var maxWidth = options.maxWidth;
    var maxHeight = options.maxHeight;
    
    let getMaxWidth = () =>
    {
        return maxWidth || window.innerWidth || parent.clientWidth;
    };
    
    let getMaxHeight = () =>
    {
        return maxHeight || window.innerHeight || parent.clientHeight;
    };
    
    var onCloseListener = undefined;
    
    this.content = document.createElement("div");
    this.content.setAttribute("class", getStyleClass("Content"));
    this.content.style.flexGrow = "1";
    
    if (options.contentHTML)
    {
        this.content.innerHTML = options.contentHTML;
    }
    else if (options.content)
    {
        this.content.textContent = options.content;
    }
    
    this.titleBar.appendChild(me.titleContent);
    this.container.appendChild(this.titleBar);
    this.container.appendChild(this.tabZone);
    this.container.appendChild(this.content);
    
    me.container.style.filter = "opacity(0%)";
    var transitionInOutFunction = function(progress)
    {
        me.container.style.filter = "opacity(" + Math.floor(progress * 100) + "%)";
    };
    
    this.destroyTransition = new Transition(transitionInOutFunction,
        options.destroyTransitionDuration !== undefined ? options.destoryTransitionDuration : 300,
        function()
        {
            parent.removeChild(me.container);
            
            for (var i = 0; i < tabs.length; i++)
            {
                tabs[i].destroy();
            }
            
            delete me.container;
            delete me.content;
            delete me.tabZone;
            delete me.titleBar;
            delete me.titleContent;
            
            me.zIndex = -1;
            globals.removeDestroyed();
            
            me.closed = true;
            
            if (onCloseListener)
            {
                onCloseListener();
            }

        });
        
    this.destroyTransition.reverse();
    
    var initialWidth, initialHeight, toWidth, toHeight;
    this.sizeTransition = new Transition(function(progress)
    {
        me.container.style.width = initialWidth + progress * (toWidth - initialWidth) + "px";
        me.container.style.height = initialHeight + progress * (toHeight - initialHeight) + "px";
        me.updateResizeCircleLocation(true);
    }, options.sizeTransitDuration !== undefined ? options.sizeTransitDuration : 250, function() // On end.
    {
        me.updateResizeCircleLocation(true);
    }, function(endWidth, endHeight) // Before start
    {
        initialWidth = me.container.clientWidth;
        initialHeight = me.container.clientHeight;
        
        if (endWidth !== undefined && endHeight !== undefined)
        {
            toWidth = endWidth;
            toHeight = endHeight;
        }

        // Bounds checking!
        if (minWidth !== undefined && toWidth < minWidth)
        {
            toWidth = minWidth;
        }
        
        if (minHeight !== undefined && toHeight < minHeight)
        {
            toHeight = minHeight;
        }

        if (toWidth > getMaxWidth())
        {
            toWidth = getMaxWidth();
        }

        if (toHeight > getMaxHeight())
        {
            toHeight = getMaxHeight();
        }
    });
    
    this.locationTransition = new Transition(function(progress)
    {
        me.container.style.left = (this.transitFromX + (this.transitToX - this.transitFromX) * progress) + "px";
        me.container.style.top = (this.transitFromY + (this.transitToY - this.transitFromY) * progress) + "px";
        
        me.updateResizeCircleLocation(false); // DO NOT re-measure the size of the container.
    }, options.locationTransitDuration !== undefined ? options.locationTransitDuration : 100, function() // On end.
    {
        me.updateResizeCircleLocation(false);
    }, function(toX, toY) // On before start.
    {
        var bbox = me.container.getBoundingClientRect();
    
        // Note that "this" is the transition.
        this.transitToX = toX;
        this.transitToY = toY;
        this.transitFromX = bbox.left;
        this.transitFromY = bbox.top;
    });
        
    this.createTransition = new Transition(transitionInOutFunction,
        options.createTransitionDuration !== undefined ? options.createTransitionDuration : 300,
        function()
        {
            // After creation, check for needed resizes again -- some
            //applications can take some time to inflate.
            if (!options.noResizeCircle && !options.noResize)
            {
                me.createResizeCircle();
            }
            
            me.scaleToParentWindow();
        });
    
    this.addTab = function(tab)
    {
        tab.addToElement(me.tabZone);
        tabs.push(tab);
        
        if (!me.hasTabs)
        {
            me.tabZone.style.display = "block";
            
            me.hasTabs = true;
        }
    };
    
    this.appendChild = function(child)
    {
        me.content.appendChild(child);
    };
    
    this.removeChild = function(child)
    {
        me.content.removeChild(child);
    };
    
    this.enableFlex = function(direction)
    {
        me.content.style.display = "flex";
        
        if (direction)
        {
            me.content.style.flexDirection = direction;
        }
    };

    var widthPreSnap = undefined, heightPreSnap = undefined;

    this.unsnap = function()
    {
        if (me.snapped)
        {
            me.sizeTransition.start(widthPreSnap || minWidth, 
                        heightPreSnap || minHeight).then(() =>
            {
                me.snapped = false;
            });
        }
        else
        {
            throw "Error in unsnap: Window is not snapped!";
        }
    };

    // Snap a window to the left of the screen,
    //or the right.
    this.snap = function(windowX, divideX)
    {
        if (!me.snapped)
        {
            widthPreSnap = me.container.clientWidth;
            heightPreSnap = me.container.clientHeight;
        }

        let top = 0;
        let left = windowX;

        if (me.container.style.position === "absolute")
        {
            top = window.scrollY;
            left += window.scrollX;
        }

        me.container.style.top = top;
        me.container.style.left = left + "px";

        toWidth = (window.innerWidth || parent.clientWidth) - divideX;
        toHeight = window.innerHeight || parent.clientHeight;

        if (windowX !== divideX)
        {
            toWidth = divideX;
        }

        me.sizeTransition.start();

        me.snapped = true;
    };

    this.snapLeft = function()
    {
        me.snap(0, (window.innerWidth || parent.clientWidth) / 2);
    };

    this.snapRight = function()
    {
        var divide = (window.innerWidth || parent.clientWidth) / 2;

        me.snap(divide, divide)
    };
    
    // Adjust the scale of the sub-window to fit in the browser's window.
    this.scaleToParentWindow = function()
    {
        toWidth = me.container.clientWidth;
        toHeight = me.container.clientHeight;
        var runSizeTransition = false;
        
        if (minWidth === undefined)
        {
            minWidth = me.container.clientWidth / 2;
        }
        
        if (minHeight === undefined)
        {
            minHeight = me.container.clientHeight / 2;
        }
        
        if (me.container.clientHeight < minHeight)
        {
            toHeight = minHeight;
            
            runSizeTransition = true;
        }
        
        if (me.container.clientWidth < minWidth)
        {
            toWidth = minWidth;
            
            runSizeTransition = true;
        }
        
        if (me.container.clientWidth > getMaxWidth())
        {
            toWidth = getMaxWidth();
            
            runSizeTransition = true;
        }
        
        if (me.container.clientHeight > getMaxHeight())
        {
            toHeight = getMaxHeight();
            
            runSizeTransition = true;
        }
        
        if (runSizeTransition)
        {
            me.sizeTransition.start();
        }
        
        var bbox = me.container.getBoundingClientRect();
        
        var left = bbox.left;
        var top = bbox.top;

        var moveToLeft = 0,
            moveToTop  = 0;

        if (me.container.style.position === "absolute")
        {
            left += window.scrollX;
            top += window.scrollY;

            moveToLeft = window.scrollX;
            moveToTop = window.scrollY;
        }
        
        var windowWidth = window.innerWidth || globals.dragElement.clientWidth;
        var windowHeight =  window.innerHeight || globals.dragElement.clientHeight;
        
        if (me.container.clientWidth + left > windowWidth)
        {
            me.container.style.left = moveToLeft;
            me.container.style.width = windowWidth + "px";
        }
        
        if (me.container.clientHeight + top > windowHeight)
        {
            me.container.style.top = moveToTop;
            me.container.style.maxHeight = windowHeight + "px";
        }
        
        me.updateResizeCircleLocation(true);
    };
    
    this.createCloseButton = function()
    {
        me.closeButton = document.createElement("div");
        me.closeButton.innerHTML = "X";
        
        me.closeButton.setAttribute("title", "Push button: Close");
        me.closeButton.setAttribute("tabIndex", 2);
        
        me.closeButton.setAttribute("class", getStyleClass("CloseButton"));
        
        me.titleBar.appendChild(me.closeButton);
        
        me.closeButton.addEventListener("click", function(event)
        {
            event.preventDefault();
            
            me.destroy();
        });
    };
    
    this.createMinimizeMaximizeButton = function()
    {
        me.minMaxButton = document.createElement("div");
        me.minMaxButton.setAttribute("class", getStyleClass("MaximizeButton"));
        
        me.minMaxButton.setAttribute("title", "Push button: Minimize or maximize.");
        me.minMaxButton.setAttribute("tabIndex", 2);
        
        me.titleBar.appendChild(me.minMaxButton);
        
        // Original state
        var originalResizeCircleDisplay = "block";
        var originalWidth = minWidth;
        var originalHeight = minHeight;
        var originalX = 0;
        var originalY = 0;
        var originalMovable = true;
        
        var storeOriginalState = function()
        {
            var bbox = me.content.getBoundingClientRect();
                
            originalWidth = me.container.clientWidth;
            originalHeight = me.container.clientHeight;
            
            originalWidth = Math.max(originalWidth, minWidth);
            originalHeight = Math.max(originalHeight, minHeight);
            
            originalX = bbox.left;
            originalY = bbox.top;
            
            originalMovable = me.getDraggable();
            
            if (me.resizeZone)
            {   
                originalResizeCircleDisplay = me.resizeZone.style.display;
            }
        };
        
        me.minMaxButton.addEventListener("click", function(event)
        {
            event.preventDefault();
            
            // Set up state for size transition.
            initialWidth = me.container.clientWidth;
            initialHeight = me.container.clientHeight;
            
            if (me.minMaxButton.getAttribute("class").indexOf("MinimizeB") === -1)
            {
                // Change the button's looks!
                me.minMaxButton.setAttribute("class", getStyleClass("MinimizeButton"));
                
                // Allow a return to the state of the window before maximization.
                storeOriginalState();
                
                me.locationTransition.start(0, 0);
                
                me.sizeTransition.start(window.innerWidth || parent.clientWidth, window.innerHeight || parent.clientHeight);
                
                me.setDraggable(false);
                
                setDragReplacementAction((dx, dy) =>
                {
                    if (dy > 0)
                    {
                        clearDragReplacementAction();
                        
                        me.minMaxButton.click();
                    }
                });
                
                if (me.resizeZone)
                {
                    me.resizeZone.style.display = "none";
                }
            }
            else
            {
                me.sizeTransition.start(originalWidth, originalHeight);
                
                me.locationTransition.start(originalX, originalY).then(() => 
                {
                    // Only change state related to minimization/maximization at the end.
                    me.minMaxButton.setAttribute("class", getStyleClass("MaximizeButton"));
                    me.setDraggable(originalMovable);
                });
                
                clearDragReplacementAction();
                
                // Show the resize circle.
                if (me.resizeZone)
                {
                    me.resizeZone.style.display = originalResizeCircleDisplay;
                }
            }
        });
    };
    
    this.updateResizeCircleLocation = function(measureSize)
    {
        // Do nothing if the circle is nonexistant.
    };
    
    this.createResizeCircle = function()
    {
        var bbox = me.container.getBoundingClientRect();
    
        me.resizeZone = document.createElement("div");
        me.resizeZone.setAttribute("class", getStyleClass("ResizeZone"));
        me.resizeZone.style.position = "absolute"; // Note: "fixed" has issues in WebKit.
        me.container.appendChild(me.resizeZone);
        
        // If specified, set the width and height of the window
        //to concrete values.
        if (options.fixWindowSize)
        {
            me.container.style.width = me.container.clientWidth + "px";
            me.container.style.height = me.container.clientHeight + "px";
        }
        
        var left = me.container.clientWidth - 5;
        var top = me.container.clientHeight - 5;
        
        me.resizeZone.style.left = left + "px";
        me.resizeZone.style.top = top + "px";
        
        var width = me.container.clientWidth;
        var height = me.container.clientHeight;
        
        me.updateResizeCircleLocation = function(measureSize)
        {
            if (measureSize)
            {
                width = me.container.clientWidth;
                height = me.container.clientHeight;
            }
        
            me.resizeZone.style.left = (width - me.resizeZone.clientWidth / 2) + "px";
            me.resizeZone.style.top = (height - me.resizeZone.clientHeight / 2) + "px";
        };
        
        var draggableWrapper = new DraggableElement(me.resizeZone, globals.dragElement);
        draggableWrapper.onDrag = function(dx, dy, x, y)
        {
            me.toTheFore();
        
            if ((width + dx > minWidth || dx > 0) && (width + dx < getMaxWidth() || dx < 0))
            {
                width += dx;
            }
            
            if ((height + dy > minHeight || dy > 0) && (height + dy < getMaxHeight() || dy < 0))
            {
                height += dy;
            }
            
            me.updateResizeCircleLocation(false);
            
            me.container.style.width = (width) + "px";
            me.container.style.height = (height) + "px";
        };
        
        draggableWrapper.onBeforeDrag = function()
        {
            me.toTheFore();
            
            width = me.container.clientWidth;
            height = me.container.clientHeight;
        };
    };
    
    this.toTheFore = function(calledFromTopToTheFore)
    {
        var maxZIndex = globals.getMaxZIndex(me);
        
        if (maxZIndex >= me.zIndex)
        {
            me.zIndex = maxZIndex + 1;
            me.container.style.zIndex = me.zIndex;
            globals.dragElement.style.zIndex = me.zIndex * 2;

            if (!calledFromTopToTheFore && !me.alwaysOnTop)
            {
                globals.moveTopLevelWindowsToTheFore();
            }
        }
    };
    
    this.getDraggable = function()
    {
        return me.draggable;
    };
    
    this.setDraggable = function(draggable)
    {
        me.draggable = draggable;
    };
    
    var dragReplacementAction;
    
    var setDragReplacementAction = function(action)
    {
        dragReplacementAction = action;
    };
    
    var clearDragReplacementAction = function()
    {
        dragReplacementAction = undefined;
    };
    
    this.makeMovable = function()
    {
        var bbox = me.container.getBoundingClientRect();
        var left = bbox.left;
        var top = bbox.top;
      
        // If using absolute positioning, position relative to the document.
        if (me.container.style.position === "absolute")
        {
            left += window.scrollX;
            top += window.scrollY;
        }
          
        me.container.style.left = left + "px";
        me.container.style.top = top + "px";
        
        me.draggable = true;
        
        var draggableWrapper = new DraggableElement(me.titleContent, globals.dragElement,
            undefined, me.container.style.position === "absolute");

        draggableWrapper.onDrag = function(dx, dy, x, y)
        {
            me.toTheFore();
            
            if (!me.getDraggable())
            {
                // Replace the action, if requested.
                if (dragReplacementAction)
                {
                    dragReplacementAction(dx, dy);
                }
            
                return;
            }
        
            left += dx;
            top += dy;
            
            me.container.style.left = left + "px";
            me.container.style.top = top + "px";

            if (left < -me.snapThreshold && !me.unsnappable)
            {
                me.snapLeft();
            }
            else if (left > (window.innerWidth || parent.clientWidth) - me.container.clientWidth + me.snapThreshold && !me.unsnappable)
            {
                me.snapRight();
            }
            else if (me.snapped)
            {
                me.unsnap();
            } // Snap top?
            else if (top < me.snapThreshold && me.minMaxButton && !me.unsnappable && dy < 0)
            {
                me.minMaxButton.click();
            }
        };
        
        draggableWrapper.onBeforeDrag = function()
        {
            me.toTheFore();
        
            bbox = me.container.getBoundingClientRect();
            left = bbox.left;
            top = bbox.top;

            // If using absolute positioning, position relative to the document.
            if (me.container.style.position === "absolute")
            {
                left += window.scrollX;
                top += window.scrollY;
            }
        };
    };
    
    this.destroy = function()
    {
        if (!me.closed)
        {
            me.destroyTransition.start();
        }
    };
    
    this.close = this.destroy;
    
    this.setOnCloseListener = function(newOnCloseListener)
    {
        onCloseListener = newOnCloseListener;
    };
    
    this.show = function()
    {
        parent.appendChild(me.container);
        
        me.createTransition.start();
        globals.addWindow(me);
        me.toTheFore();
        
        me.container.style.zIndex = me.zIndex;
        
        globals.dragElement.style.zIndex = me.zIndex * 2;
        
        if (!options.noFullScreenBox && !options.noResize)
        {
            me.createMinimizeMaximizeButton();
        }
        
        if (!options.noCloseButton)
        {
            me.createCloseButton();
        }
        
        if (!options.fixed)
        {
            me.makeMovable();
        }
        
        // Select the container's title.
        me.titleContent.focus();
        
        // Allow the window to scale, then
        //change its dimensions, if necessary.
        requestAnimationFrame(function()
        { 
            var initialX = options.x !== undefined ? options.x : Math.max(0, window.innerWidth - me.container.clientWidth) / 2;
            var initialY = options.y !== undefined ? options.y : Math.max(5, window.innerHeight / 4 - me.container.clientHeight) / 2;
            
            if (me.container.style.position === "absolute")
            {
                initialX += window.scrollX;
                initialY += window.scrollY;
            }
            
            me.locationTransition.start(initialX, initialY);
            me.scaleToParentWindow();
        });
    };
    
    this.container.addEventListener("click",
    function()
    {
        me.toTheFore();
    }, true);
}

var SubWindowHelper = {};
SubWindowHelper.create = function(options)
{
    if (!SubWindowHelper.globals)
    {
        SubWindowHelper.globals = new SubWindowGlobals(document.body, []);
    }
    
    var newWindow = new SubWindow(SubWindowHelper.globals, options);
    
    newWindow.show();
    
    return newWindow;
};

SubWindowHelper.confirm = function(title, message, okLabel, cancelLabel, htmlText, windowOptions)
{
    var dialog = SubWindowHelper.create(windowOptions 
    || { title: title, 
         content: "", 
         noCloseButton: true, 
         noResize: true, 
         maxWidth: 400, 
         minWidth: 400, 
         x: (window.innerWidth / 2 - 200), 
         minHeight: 120 });
    
    var contentDiv = document.createElement("div");
    
    if (!htmlText)
    {
        contentDiv.innerText = message;
    }
    else
    {
        contentDiv.innerHTML = message;
    }
    
    dialog.enableFlex("column");
    contentDiv.style.flexGrow = 2;
    contentDiv.style.overflowY = "auto";
    
    // Add additional padding.
    contentDiv.style.paddingLeft = "4px";
    
    var submitButtonOk = document.createElement("button");
    var submitButtonCancel = document.createElement("button");
    
    submitButtonOk.innerHTML = okLabel || "Ok";
    submitButtonCancel.innerHTML = cancelLabel || "Cancel";
    
    submitButtonOk.setAttribute("class", "dialogSubmitButton");
    submitButtonCancel.setAttribute("class", "dialogSubmitButton");
    
    dialog.content.appendChild(contentDiv);
    dialog.content.appendChild(submitButtonOk);
    dialog.content.appendChild(submitButtonCancel);
    
    return new Promise((resolve, reject) =>
    {
        const submit = (result) =>
        {
            dialog.close();
            
            resolve(result);
        };
    
        submitButtonOk.addEventListener("click", function()
        {
            submit(true);
        });
        
        submitButtonCancel.addEventListener("click", function()
        {
            submit(false);
        });
    });
};

SubWindowHelper.alert = function(title, message, onClose, htmlText, windowOptions)
{
    var alertDialog = SubWindowHelper.create(windowOptions 
    || { title: title, 
         content: "", 
         noCloseButton: true, 
         noResize: true, 
         maxWidth: 400, 
         minWidth: 400, 
         x: (window.innerWidth / 2 - 200), 
         minHeight: 120 });
    
    var contentDiv = document.createElement("div");
    
    if (!htmlText)
    {
        contentDiv.innerText = message;
    }
    else
    {
        contentDiv.innerHTML = message;
    }
    
    alertDialog.enableFlex("column");
    contentDiv.style.flexGrow = 2;
    contentDiv.style.overflowY = "auto";
    
    // Add additional padding.
    contentDiv.style.paddingLeft = "4px";
    
    var submitButton = document.createElement("button");
    submitButton.innerHTML = "Ok";
    submitButton.setAttribute("class", "alertSubmitButton");
    
    alertDialog.content.appendChild(contentDiv);
    alertDialog.content.appendChild(submitButton);
    
    return new Promise((resolve, reject) =>
    {
        submitButton.addEventListener("click", function()
        {
            alertDialog.close();
            
            if (onClose !== undefined)
            {
                onClose.call(this);
            }
            
            resolve(this);
        });
    });
};

// Prompt a user for input.
//This method takes a map of input placeholders/
//labels to input types as "inputs". It returns a promise.
//windowOptions is passed directly to SubWindowHelper.
//promptOptions is a map with further options related to
//the prompt. For example, promptOptions.initialContent
//should map from labels to initial content.
SubWindowHelper.prompt = function(title, message, inputs, 
        windowOptions, promptOptions)
{
    var promptDialog = SubWindowHelper.create
            (windowOptions
             || { title: title, 
                  content: "",  
                  minWidth: 400, 
                  x: (window.innerWidth / 2 - 200), 
                  minHeight: 120 });
                  
    promptDialog.enableFlex("column");
    
    promptOptions = promptOptions || {};
    promptOptions.initialContent = promptOptions.initialContent || {};
            
    var contentArea = document.createElement("div");
    var messageZone = document.createElement("div");
    var inputZone = document.createElement("div");
    
    contentArea.appendChild(messageZone);
    contentArea.appendChild(inputZone);
    
    promptDialog.appendChild(contentArea);
    
    messageZone.innerText = message;
    
    var addedInputs = [];
    var inputMap = {};
    var submit = () => {};
    
    var handleInput = (label) =>
    {
        const inputIndex = addedInputs.length;
        
        let newInputContainer = document.createElement("div");
        
        newInputContainer.style.display = "flex";
        newInputContainer.style.flexDirection = "row";
        
        let labelElement = HTMLHelper.addLabel(label, newInputContainer);
        
        labelElement.style.paddingRight = "6px";
        
        let newInput = HTMLHelper.addInput(label, 
                promptOptions.initialContent[label] || "",
                inputs[label], newInputContainer, (value) => // On input.
        {
            inputMap[label] = value;
        }, (value) => // On Enter key.
        {
            inputMap[label] = value;
            
            if (inputIndex + 1 < addedInputs.length 
                    && inputs[label] !== "textarea")
            {
                addedInputs[inputIndex + 1].focus();
            }
            else
            {
                submit();
            }
        });
        
        newInput.style.flexGrow = 1;
        
        inputZone.appendChild(newInputContainer);
        
        return newInput;
    };
    
    // For every given input...
    for (var label in inputs)
    {
        let input = handleInput(label);
        
        inputMap[label] = HTMLHelper.getInputContent(input, inputs[label]);
        addedInputs.push(input);
    }
    
    // Add a submit button.
    const submitButton = HTMLHelper.addButton("Submit", promptDialog, () =>
    {
        submit();
    });
    
    submitButton.style.flexGrow = 1;
    
    return new Promise((resolve, reject) =>
    {
        submit = () =>
        {
            promptDialog.close();
            
            resolve(inputMap);
        };
    });
};

// Creates a dialog... Returns an object with
//methods update, close, and a refrence to the dialog (dialog).
SubWindowHelper.makeProgressDialog = function(title)
{
    // Default values.
    title = title || "Loading...";
    
    // Make the window.
    let progressDialog = SubWindowHelper.create({ title: title, noCloseButton: true, noResize: true, maxWidth: 400, minWidth: 400, x: window.innerWidth / 2 - 200 });
    
    let statusText = HTMLHelper.addLabel("...", progressDialog, "div");
    let progressBar = HTMLHelper.addProgressBar(0, progressDialog);
    
    let update = function(progress, status)
    {
        progressBar.setProgress(progress);
        statusText.textContent = status;
    };
    
    let close = function()
    {
        progressDialog.close();
    };
    
    // Dictionaries cannot be
    //constructed in return statements.
    let result =  
    {
        update: update,
        
        close: close,
        
        dialog: progressDialog
    };
    
    return result;
};

// TODO: Finish implementation.
SubWindowHelper.setDisplayNavabar = function(displayNavBar)
{
    if (SubWindowHelper.navBar)
    {
        if (displayNavBar)
        {
            SubWindowHelper.navBar.style.display = "block";
        }
        else
        {
            SubWindowHelper.navBar.style.display = "none";
        }
    }
    else
    {
        SubWindowHelper.navBar = document.createElement("div");
    }
};

})();
